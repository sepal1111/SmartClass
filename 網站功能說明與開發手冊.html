<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智慧班級管理平台開發規劃書</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap');
        .section-card {
            @apply bg-white rounded-xl shadow-lg p-6 mb-8;
        }
        h2 {
            @apply text-2xl font-bold text-gray-800 border-b-2 border-blue-500 pb-2 mb-4;
        }
        h3 {
            @apply text-xl font-semibold text-gray-700 mt-6 mb-3;
        }
        h4 {
            @apply text-lg font-bold text-indigo-600 mb-2;
        }
    </style>
</head>
<body class="bg-gray-50">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-5xl">
        <!-- Header -->
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-gray-900">智慧班級管理平台開發規劃書</h1>
            <p class="mt-2 text-lg text-gray-600">本地伺服器 + 瀏覽器介面方案</p>
        </header>

        <!-- 1. 專案概述 -->
        <section class="section-card">
            <h2>1. 專案概述</h2>
            <p class="text-gray-700 leading-relaxed">
                本文件旨在將原有的雲端 Firebase 架構，轉型為一個在教師電腦本機運行的「<strong>本地伺服器 + 瀏覽器介面</strong>」應用程式。此方案旨在徹底解決對外部網際網路的依賴，避免雲端服務可能產生的流量費用與連線不穩定問題。
            </p>
            <p class="mt-4 text-gray-700 leading-relaxed">
                應用程式的核心服務將在教師的電腦上以後端程式的形式運行，教師僅需透過標準的網頁瀏覽器（如 Chrome, Edge）即可存取所有功能，並可透過校園內網（Wi-Fi）讓學生裝置進行即時互動。
            </p>
        </section>

        <!-- 2. 系統架構說明 -->
        <section class="section-card">
            <h2>2. 系統架構說明</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white border">
                    <thead class="bg-gray-800 text-white">
                        <tr>
                            <th class="w-1/4 py-3 px-4 uppercase font-semibold text-sm text-left">元件</th>
                            <th class="w-1/4 py-3 px-4 uppercase font-semibold text-sm text-left">技術方案</th>
                            <th class="w-1/2 py-3 px-4 uppercase font-semibold text-sm text-left">說明</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-700">
                        <tr class="border-b">
                            <td class="py-3 px-4">後端伺服器</td>
                            <td class="py-3 px-4 font-mono">Node.js + Express.js</td>
                            <td class="py-3 px-4">作為應用程式的大腦，負責處理所有業務邏輯、API 請求、資料庫存取及檔案管理。</td>
                        </tr>
                        <tr class="bg-gray-100 border-b">
                            <td class="py-3 px-4">資料庫</td>
                            <td class="py-3 px-4 font-mono">better-sqlite3</td>
                            <td class="py-3 px-4">一個高效能的本地檔案型資料庫，用於儲存所有結構化資料。檔案將與主程式放在一起，方便備份與轉移。</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-3 px-4">前端介面</td>
                            <td class="py-3 px-4 font-mono">Vue.js (Vite)</td>
                            <td class="py-3 px-4">維持原有的高效能前端框架，提供流暢的使用者操作介面。前端網頁由本地後端伺服器直接提供服務。</td>
                        </tr>
                        <tr class="bg-gray-100 border-b">
                            <td class="py-3 px-4">即時互動</td>
                            <td class="py-3 px-4 font-mono">Socket.IO (WebSocket)</td>
                            <td class="py-3 px-4">用於實現師生間的即時互動功能（例如 PingPong），確保在內部網路中也能有低延遲的回應。</td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4">程式封裝</td>
                            <td class="py-3 px-4 font-mono">Pkg</td>
                            <td class="py-3 px-4">一個能將 Node.js 專案打包成單一執行檔（`.exe`）的工具，讓老師無需安裝 Node.js 環境，雙擊即可啟動整個後端服務。</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>使用流程示意圖</h3>
            <ol class="list-decimal list-inside space-y-2 bg-blue-50 p-4 rounded-lg text-blue-800">
                <li><strong>老師</strong>: 在電腦上雙擊 <code>start-server.exe</code> 啟動伺服器。</li>
                <li><strong>老師</strong>: 打開瀏覽器，輸入 <code>http://localhost:8080</code> 進入管理平台。</li>
                <li><strong>學生</strong>: 在同一個 Wi-Fi 下，透過手機或平板掃描老師介面上的 QR Code，連線至老師的電腦 (<code>http://192.168.x.x:8080</code>) 參與互動或繳交作業。</li>
            </ol>
        </section>

        <!-- 3. 網站功能說明 -->
        <section class="section-card">
            <h2>3. 網站功能說明</h2>
            <p class="text-gray-600 mb-6">所有功能都將基於本地伺服器架構進行調整，確保資料的私密性與離線運作能力。</p>
            <div class="space-y-6">
                <div class="bg-gray-50 p-5 rounded-lg border">
                    <h4>學生管理 (Student Management)</h4>
                    <ul class="list-disc list-inside text-gray-700 space-y-1">
                        <li><strong>資料建立</strong>: 維持透過 <code>.xlsx</code> 範本批次匯入，資料將直接寫入本機的 SQLite 資料庫檔案中。</li>
                        <li><strong>安全性</strong>: 學生登入帳號密碼將經過雜湊加密處理後，儲存在本機 SQLite 資料庫中。</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-5 rounded-lg border">
                    <h4>座位表 (Seating Chart)</h4>
                    <ul class="list-disc list-inside text-gray-700 space-y-1">
                        <li><strong>功能不變</strong>: 視覺化拖曳編輯功能維持不變。</li>
                        <li><strong>資料儲存</strong>: 完成後的座位表佈局資訊（JSON 格式）將直接儲存至本機 SQLite 資料庫。</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-5 rounded-lg border">
                    <h4>每日出缺席 & 課堂表現</h4>
                     <ul class="list-disc list-inside text-gray-700 space-y-1">
                        <li><strong>功能整合</strong>: 將出缺席登記與課堂表現加減分整合於統一的「課堂儀表板」介面。</li>
                        <li><strong>資料儲存</strong>: 任何狀態變更都會即時透過 API 請求，更新至本機 SQLite 資料庫。</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-5 rounded-lg border">
                    <h4>成績紀錄 (Grade Record)</h4>
                    <ul class="list-disc list-inside text-gray-700 space-y-1">
                        <li><strong>分類管理</strong>: 成績被劃分為「課堂表現紀錄」、「平時測驗」、「定期評量」三大類。</li>
                        <li><strong>數據連動</strong>: 「課堂表現紀錄」的分數為唯讀，由「課堂表現」功能自動累計學期總分，無法手動修改。</li>
                        <li><strong>登錄流程</strong>: 進行成績登錄時，必須先選擇「平時測驗」或「定期評量」類別，再選擇科目，最後手動輸入該次成績的具體名稱（例如：第一次月考、第二單元小考）。</li>
                        <li><strong>科目管理</strong>: 系統提供科目編輯功能，預設建立「國語、數學、社會、自然、英文、彈性」等科目，教師可自行新增、修改或刪除。</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-5 rounded-lg border">
                    <h4>數位作品繳交 (Digital Work Submission)</h4>
                    <ul class="list-disc list-inside text-gray-700 space-y-1">
                        <li><strong>教師端</strong>: 建立作業項目，系統自動在伺服器電腦上建立對應資料夾。</li>
                        <li><strong>學生端</strong>: 透過內網 IP 登入並上傳檔案。</li>
                        <li><strong>命名規則</strong>: 檔案自動依「<code>學號_姓名_原始檔名</code>」格式重新命名。</li>
                    </ul>
                </div>
                <div class="bg-gray-50 p-5 rounded-lg border">
                    <h4>即時互動功能 (PingPong)</h4>
                    <p class="text-gray-700 mb-2">此功能旨在重現 <code>PingPong-SPOT</code> 的核心體驗，讓老師能快速發起課堂問答，並即時收集全班學生的作答情況。此功能將完全由本地伺服器上的 <strong>Socket.IO</strong> 驅動。</p>
                    <ul class="list-disc list-inside text-gray-700 space-y-1">
                       <li><strong>題型支援</strong>: 單選題、多選題、是非題、簡答題 (文字)。</li>
                       <li><strong>教師端 - 發起活動</strong>: 建立活動、設定題目，系統產生唯一的房間代碼及連線 QR Code。老師畫面會轉變為即時儀表板。</li>
                       <li><strong>學生端 - 加入與作答</strong>: 掃描 QR Code 或輸入網址即可進入作答頁面，無需登入。</li>
                       <li><strong>即時同步</strong>: 所有學生的行為透過 WebSocket 即時傳送到老師的電腦，儀表板即時更新統計圖表。</li>
                   </ul>
                </div>
            </div>
        </section>

        <!-- 4. 專案檔案結構表 -->
        <section class="section-card">
            <h2>4. 專案檔案結構表</h2>
            <div class="bg-gray-800 text-white font-mono text-sm p-4 rounded-lg overflow-x-auto">
<pre><code>smart-classroom/
├── client/                      # 前端 Vue.js 專案目錄
│   ├── public/
│   │   └── favicon.ico
│   ├── src/
│   │   ├── assets/
│   │   │   └── main.css
│   │   ├── router/
│   │   │   └── index.js         # 路由設定
│   │   ├── utils/
│   │   │   └── api.js           # API 請求封裝
│   │   ├── views/
│   │   │   ├── AssignmentsView.vue          # 作業管理頁面
│   │   │   ├── AuthView.vue                 # 統一認證頁面 (師/生登入、註冊)
│   │   │   ├── ClassroomDashboardView.vue   # 課堂儀表板頁面
│   │   │   ├── HomeView.vue                 # 教師登入後首頁
│   │   │   ├── SeatingChartView.vue         # 座位表設定頁面
│   │   │   ├── StudentDashboardView.vue     # 學生登入後儀表板
│   │   │   ├── StudentManagementView.vue    # 學生管理頁面
│   │   │   ├── GradeManagementView.vue      # (規劃中) 成績紀錄
│   │   │   ├── TeacherPingPongView.vue      # (規劃中) 即時互動教師端
│   │   │   └── StudentPingPongView.vue      # (規劃中) 即時互動學生端
│   │   ├── App.vue                # 主應用程式組件
│   │   └── main.js                # 前端入口點
│   ├── .gitignore
│   ├── index.html
│   ├── package.json
│   ├── postcss.config.js
│   ├── tailwind.config.js
│   └── vite.config.js
│
├── server/                      # 後端 Node.js 專案目錄
│   ├── data/                    # (自動生成) 資料庫存放目錄
│   ├── templates/
│   │   └── template.xlsx        # (規劃中) 學生匯入範本
│   ├── .gitignore
│   ├── database.js              # 資料庫設定
│   ├── package.json
│   └── server.js                # 後端主程式 (Express + API)
│
├── uploads/                     # (自動生成) 學生作業上傳目錄
│
└── .gitignore                   # 根目錄 .gitignore
</code></pre>
            </div>
        </section>
        
        <!-- 5. 程式開發詳細步驟說明書 -->
        <section class="section-card">
            <h2>5. 程式開發詳細步驟說明書</h2>
            <div class="space-y-6">
                <div>
                    <h4>第一、二階段：前端基礎建設 (10-14週)</h4>
                    <p class="text-gray-700">建立 Vite + Vue 專案，專注於 UI/UX 設計、元件化、路由規劃與狀態管理。所有與後端溝通的邏輯，將封裝成 API 服務，請求本地 API 端點。</p>
                </div>
                <div>
                    <h4>第三階段：後端伺服器開發 (5-7週)</h4>
                    <p class="text-gray-700">建立 Node.js 專案，安裝 Express、better-sqlite3。撰寫資料庫初始化腳本，開發 RESTful API，並設定 Express 託管前端靜態檔案。</p>
                </div>
                 <div>
                    <h4>第四階段：前後端整合與核心功能串接 (6-8週)</h4>
                    <p class="text-gray-700">設定 Vite 開發代理，將前端的 <code>/api</code> 請求轉發至後端。逐一將前端模組與後端 API 進行串接。</p>
                </div>
                 <div>
                    <h4>第五階段：進階功能開發 (5-7週)</h4>
                    <p class="text-gray-700">開發檔案處理與學生登入認證 API。整合 <code>socket.io</code> 實現 PingPong 即時互動功能，並開發對應的師生端頁面。</p>
                </div>
                 <div>
                    <h4>第六階段：封裝與部署 (2-3週)</h4>
                    <p class="text-gray-700">將 Vue 專案編譯成靜態檔案，使用 <code>pkg</code> 將後端打包成 <code>.exe</code> 執行檔，製作最終的 <code>.zip</code> 發布包並進行完整測試。</p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center mt-10 py-4 border-t">
            <p class="text-gray-500 text-sm">&copy; 智慧班級管理平台規劃書</p>
        </footer>
    </div>

</body>
</html>

