(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wl(t){const n=Object.create(null);for(const r of t.split(","))n[r]=1;return r=>r in n}const de={},hs=[],Nn=()=>{},Wd=()=>!1,$o=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ql=t=>t.startsWith("onUpdate:"),qe=Object.assign,Hl=(t,n)=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)},Yy=Object.prototype.hasOwnProperty,ae=(t,n)=>Yy.call(t,n),Ut=Array.isArray,ps=t=>fi(t)==="[object Map]",ks=t=>fi(t)==="[object Set]",Wf=t=>fi(t)==="[object Date]",Ht=t=>typeof t=="function",Oe=t=>typeof t=="string",Fn=t=>typeof t=="symbol",he=t=>t!==null&&typeof t=="object",qd=t=>(he(t)||Ht(t))&&Ht(t.then)&&Ht(t.catch),Hd=Object.prototype.toString,fi=t=>Hd.call(t),Jy=t=>fi(t).slice(8,-1),Vd=t=>fi(t)==="[object Object]",Vl=t=>Oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ks=Wl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Po=t=>{const n=Object.create(null);return r=>n[r]||(n[r]=t(r))},Qy=/-\w/g,kn=Po(t=>t.replace(Qy,n=>n.slice(1).toUpperCase())),Xy=/\B([A-Z])/g,Or=Po(t=>t.replace(Xy,"-$1").toLowerCase()),Lo=Po(t=>t.charAt(0).toUpperCase()+t.slice(1)),ol=Po(t=>t?`on${Lo(t)}`:""),Sr=(t,n)=>!Object.is(t,n),fo=(t,...n)=>{for(let r=0;r<t.length;r++)t[r](...n)},Kd=(t,n,r,i=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:i,value:r})},bo=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let qf;const Mo=()=>qf||(qf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vr(t){if(Ut(t)){const n={};for(let r=0;r<t.length;r++){const i=t[r],o=Oe(i)?rb(i):Vr(i);if(o)for(const l in o)n[l]=o[l]}return n}else if(Oe(t)||he(t))return t}const tb=/;(?![^(]*\))/g,eb=/:([^]+)/,nb=/\/\*[^]*?\*\//g;function rb(t){const n={};return t.replace(nb,"").split(tb).forEach(r=>{if(r){const i=r.split(eb);i.length>1&&(n[i[0].trim()]=i[1].trim())}}),n}function me(t){let n="";if(Oe(t))n=t;else if(Ut(t))for(let r=0;r<t.length;r++){const i=me(t[r]);i&&(n+=i+" ")}else if(he(t))for(const r in t)t[r]&&(n+=r+" ");return n.trim()}const sb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ib=Wl(sb);function Gd(t){return!!t||t===""}function ob(t,n){if(t.length!==n.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=di(t[i],n[i]);return r}function di(t,n){if(t===n)return!0;let r=Wf(t),i=Wf(n);if(r||i)return r&&i?t.getTime()===n.getTime():!1;if(r=Fn(t),i=Fn(n),r||i)return t===n;if(r=Ut(t),i=Ut(n),r||i)return r&&i?ob(t,n):!1;if(r=he(t),i=he(n),r||i){if(!r||!i)return!1;const o=Object.keys(t).length,l=Object.keys(n).length;if(o!==l)return!1;for(const u in t){const c=t.hasOwnProperty(u),d=n.hasOwnProperty(u);if(c&&!d||!c&&d||!di(t[u],n[u]))return!1}}return String(t)===String(n)}function Kl(t,n){return t.findIndex(r=>di(r,n))}const Zd=t=>!!(t&&t.__v_isRef===!0),ct=t=>Oe(t)?t:t==null?"":Ut(t)||he(t)&&(t.toString===Hd||!Ht(t.toString))?Zd(t)?ct(t.value):JSON.stringify(t,Yd,2):String(t),Yd=(t,n)=>Zd(n)?Yd(t,n.value):ps(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[i,o],l)=>(r[al(i,l)+" =>"]=o,r),{})}:ks(n)?{[`Set(${n.size})`]:[...n.values()].map(r=>al(r))}:Fn(n)?al(n):he(n)&&!Ut(n)&&!Vd(n)?String(n):n,al=(t,n="")=>{var r;return Fn(t)?`Symbol(${(r=t.description)!=null?r:n})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let en;class ab{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=en,!n&&en&&(this.index=(en.scopes||(en.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,r;if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].pause();for(n=0,r=this.effects.length;n<r;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,r;if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].resume();for(n=0,r=this.effects.length;n<r;n++)this.effects[n].resume()}}run(n){if(this._active){const r=en;try{return en=this,n()}finally{en=r}}}on(){++this._on===1&&(this.prevScope=en,en=this)}off(){this._on>0&&--this._on===0&&(en=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function lb(){return en}let ge;const ll=new WeakSet;class Jd{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,en&&en.active&&en.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ll.has(this)&&(ll.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hf(this),th(this);const n=ge,r=On;ge=this,On=!0;try{return this.fn()}finally{eh(this),ge=n,On=r,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)Yl(n);this.deps=this.depsTail=void 0,Hf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ll.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kl(this)&&this.run()}get dirty(){return kl(this)}}let Qd=0,Gs,Zs;function Xd(t,n=!1){if(t.flags|=8,n){t.next=Zs,Zs=t;return}t.next=Gs,Gs=t}function Gl(){Qd++}function Zl(){if(--Qd>0)return;if(Zs){let n=Zs;for(Zs=void 0;n;){const r=n.next;n.next=void 0,n.flags&=-9,n=r}}let t;for(;Gs;){let n=Gs;for(Gs=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(i){t||(t=i)}n=r}}if(t)throw t}function th(t){for(let n=t.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function eh(t){let n,r=t.depsTail,i=r;for(;i;){const o=i.prevDep;i.version===-1?(i===r&&(r=o),Yl(i),ub(i)):n=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}t.deps=n,t.depsTail=r}function kl(t){for(let n=t.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(nh(n.dep.computed)||n.dep.version!==n.version))return!0;return!!t._dirty}function nh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ni)||(t.globalVersion=ni,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!kl(t))))return;t.flags|=2;const n=t.dep,r=ge,i=On;ge=t,On=!0;try{th(t);const o=t.fn(t._value);(n.version===0||Sr(o,t._value))&&(t.flags|=128,t._value=o,n.version++)}catch(o){throw n.version++,o}finally{ge=r,On=i,eh(t),t.flags&=-3}}function Yl(t,n=!1){const{dep:r,prevSub:i,nextSub:o}=t;if(i&&(i.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=i,t.nextSub=void 0),r.subs===t&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let l=r.computed.deps;l;l=l.nextDep)Yl(l,!0)}!n&&!--r.sc&&r.map&&r.map.delete(r.key)}function ub(t){const{prevDep:n,nextDep:r}=t;n&&(n.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=n,t.nextDep=void 0)}let On=!0;const rh=[];function ar(){rh.push(On),On=!1}function lr(){const t=rh.pop();On=t===void 0?!0:t}function Hf(t){const{cleanup:n}=t;if(t.cleanup=void 0,n){const r=ge;ge=void 0;try{n()}finally{ge=r}}}let ni=0;class cb{constructor(n,r){this.sub=n,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jl{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!ge||!On||ge===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ge)r=this.activeLink=new cb(ge,this),ge.deps?(r.prevDep=ge.depsTail,ge.depsTail.nextDep=r,ge.depsTail=r):ge.deps=ge.depsTail=r,sh(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=ge.depsTail,r.nextDep=void 0,ge.depsTail.nextDep=r,ge.depsTail=r,ge.deps===r&&(ge.deps=i)}return r}trigger(n){this.version++,ni++,this.notify(n)}notify(n){Gl();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Zl()}}}function sh(t){if(t.dep.sc++,t.sub.flags&4){const n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let i=n.deps;i;i=i.nextDep)sh(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Cl=new WeakMap,Wr=Symbol(""),Sl=Symbol(""),ri=Symbol("");function Ne(t,n,r){if(On&&ge){let i=Cl.get(t);i||Cl.set(t,i=new Map);let o=i.get(r);o||(i.set(r,o=new Jl),o.map=i,o.key=r),o.track()}}function rr(t,n,r,i,o,l){const u=Cl.get(t);if(!u){ni++;return}const c=d=>{d&&d.trigger()};if(Gl(),n==="clear")u.forEach(c);else{const d=Ut(t),y=d&&Vl(r);if(d&&r==="length"){const g=Number(i);u.forEach((m,b)=>{(b==="length"||b===ri||!Fn(b)&&b>=g)&&c(m)})}else switch((r!==void 0||u.has(void 0))&&c(u.get(r)),y&&c(u.get(ri)),n){case"add":d?y&&c(u.get("length")):(c(u.get(Wr)),ps(t)&&c(u.get(Sl)));break;case"delete":d||(c(u.get(Wr)),ps(t)&&c(u.get(Sl)));break;case"set":ps(t)&&c(u.get(Wr));break}}Zl()}function cs(t){const n=oe(t);return n===t?n:(Ne(n,"iterate",ri),wn(t)?n:n.map(De))}function Do(t){return Ne(t=oe(t),"iterate",ri),t}const fb={__proto__:null,[Symbol.iterator](){return ul(this,Symbol.iterator,De)},concat(...t){return cs(this).concat(...t.map(n=>Ut(n)?cs(n):n))},entries(){return ul(this,"entries",t=>(t[1]=De(t[1]),t))},every(t,n){return tr(this,"every",t,n,void 0,arguments)},filter(t,n){return tr(this,"filter",t,n,r=>r.map(De),arguments)},find(t,n){return tr(this,"find",t,n,De,arguments)},findIndex(t,n){return tr(this,"findIndex",t,n,void 0,arguments)},findLast(t,n){return tr(this,"findLast",t,n,De,arguments)},findLastIndex(t,n){return tr(this,"findLastIndex",t,n,void 0,arguments)},forEach(t,n){return tr(this,"forEach",t,n,void 0,arguments)},includes(...t){return cl(this,"includes",t)},indexOf(...t){return cl(this,"indexOf",t)},join(t){return cs(this).join(t)},lastIndexOf(...t){return cl(this,"lastIndexOf",t)},map(t,n){return tr(this,"map",t,n,void 0,arguments)},pop(){return Fs(this,"pop")},push(...t){return Fs(this,"push",t)},reduce(t,...n){return Vf(this,"reduce",t,n)},reduceRight(t,...n){return Vf(this,"reduceRight",t,n)},shift(){return Fs(this,"shift")},some(t,n){return tr(this,"some",t,n,void 0,arguments)},splice(...t){return Fs(this,"splice",t)},toReversed(){return cs(this).toReversed()},toSorted(t){return cs(this).toSorted(t)},toSpliced(...t){return cs(this).toSpliced(...t)},unshift(...t){return Fs(this,"unshift",t)},values(){return ul(this,"values",De)}};function ul(t,n,r){const i=Do(t),o=i[n]();return i!==t&&!wn(t)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.done||(l.value=r(l.value)),l}),o}const db=Array.prototype;function tr(t,n,r,i,o,l){const u=Do(t),c=u!==t&&!wn(t),d=u[n];if(d!==db[n]){const m=d.apply(t,l);return c?De(m):m}let y=r;u!==t&&(c?y=function(m,b){return r.call(this,De(m),b,t)}:r.length>2&&(y=function(m,b){return r.call(this,m,b,t)}));const g=d.call(u,y,i);return c&&o?o(g):g}function Vf(t,n,r,i){const o=Do(t);let l=r;return o!==t&&(wn(t)?r.length>3&&(l=function(u,c,d){return r.call(this,u,c,d,t)}):l=function(u,c,d){return r.call(this,u,De(c),d,t)}),o[n](l,...i)}function cl(t,n,r){const i=oe(t);Ne(i,"iterate",ri);const o=i[n](...r);return(o===-1||o===!1)&&tu(r[0])?(r[0]=oe(r[0]),i[n](...r)):o}function Fs(t,n,r=[]){ar(),Gl();const i=oe(t)[n].apply(t,r);return Zl(),lr(),i}const hb=Wl("__proto__,__v_isRef,__isVue"),ih=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fn));function pb(t){Fn(t)||(t=String(t));const n=oe(this);return Ne(n,"has",t),n.hasOwnProperty(t)}class oh{constructor(n=!1,r=!1){this._isReadonly=n,this._isShallow=r}get(n,r,i){if(r==="__v_skip")return n.__v_skip;const o=this._isReadonly,l=this._isShallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return l;if(r==="__v_raw")return i===(o?l?Cb:ch:l?uh:lh).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(i)?n:void 0;const u=Ut(n);if(!o){let d;if(u&&(d=fb[r]))return d;if(r==="hasOwnProperty")return pb}const c=Reflect.get(n,r,je(n)?n:i);if((Fn(r)?ih.has(r):hb(r))||(o||Ne(n,"get",r),l))return c;if(je(c)){const d=u&&Vl(r)?c:c.value;return o&&he(d)?Al(d):d}return he(c)?o?Al(c):Fe(c):c}}class ah extends oh{constructor(n=!1){super(!1,n)}set(n,r,i,o){let l=n[r];if(!this._isShallow){const d=Tr(l);if(!wn(i)&&!Tr(i)&&(l=oe(l),i=oe(i)),!Ut(n)&&je(l)&&!je(i))return d||(l.value=i),!0}const u=Ut(n)&&Vl(r)?Number(r)<n.length:ae(n,r),c=Reflect.set(n,r,i,je(n)?n:o);return n===oe(o)&&(u?Sr(i,l)&&rr(n,"set",r,i):rr(n,"add",r,i)),c}deleteProperty(n,r){const i=ae(n,r);n[r];const o=Reflect.deleteProperty(n,r);return o&&i&&rr(n,"delete",r,void 0),o}has(n,r){const i=Reflect.has(n,r);return(!Fn(r)||!ih.has(r))&&Ne(n,"has",r),i}ownKeys(n){return Ne(n,"iterate",Ut(n)?"length":Wr),Reflect.ownKeys(n)}}class gb extends oh{constructor(n=!1){super(!0,n)}set(n,r){return!0}deleteProperty(n,r){return!0}}const mb=new ah,vb=new gb,_b=new ah(!0);const El=t=>t,io=t=>Reflect.getPrototypeOf(t);function yb(t,n,r){return function(...i){const o=this.__v_raw,l=oe(o),u=ps(l),c=t==="entries"||t===Symbol.iterator&&u,d=t==="keys"&&u,y=o[t](...i),g=r?El:n?xo:De;return!n&&Ne(l,"iterate",d?Sl:Wr),{next(){const{value:m,done:b}=y.next();return b?{value:m,done:b}:{value:c?[g(m[0]),g(m[1])]:g(m),done:b}},[Symbol.iterator](){return this}}}}function oo(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function bb(t,n){const r={get(o){const l=this.__v_raw,u=oe(l),c=oe(o);t||(Sr(o,c)&&Ne(u,"get",o),Ne(u,"get",c));const{has:d}=io(u),y=n?El:t?xo:De;if(d.call(u,o))return y(l.get(o));if(d.call(u,c))return y(l.get(c));l!==u&&l.get(o)},get size(){const o=this.__v_raw;return!t&&Ne(oe(o),"iterate",Wr),o.size},has(o){const l=this.__v_raw,u=oe(l),c=oe(o);return t||(Sr(o,c)&&Ne(u,"has",o),Ne(u,"has",c)),o===c?l.has(o):l.has(o)||l.has(c)},forEach(o,l){const u=this,c=u.__v_raw,d=oe(c),y=n?El:t?xo:De;return!t&&Ne(d,"iterate",Wr),c.forEach((g,m)=>o.call(l,y(g),y(m),u))}};return qe(r,t?{add:oo("add"),set:oo("set"),delete:oo("delete"),clear:oo("clear")}:{add(o){!n&&!wn(o)&&!Tr(o)&&(o=oe(o));const l=oe(this);return io(l).has.call(l,o)||(l.add(o),rr(l,"add",o,o)),this},set(o,l){!n&&!wn(l)&&!Tr(l)&&(l=oe(l));const u=oe(this),{has:c,get:d}=io(u);let y=c.call(u,o);y||(o=oe(o),y=c.call(u,o));const g=d.call(u,o);return u.set(o,l),y?Sr(l,g)&&rr(u,"set",o,l):rr(u,"add",o,l),this},delete(o){const l=oe(this),{has:u,get:c}=io(l);let d=u.call(l,o);d||(o=oe(o),d=u.call(l,o)),c&&c.call(l,o);const y=l.delete(o);return d&&rr(l,"delete",o,void 0),y},clear(){const o=oe(this),l=o.size!==0,u=o.clear();return l&&rr(o,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=yb(o,t,n)}),r}function Ql(t,n){const r=bb(t,n);return(i,o,l)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(ae(r,o)&&o in i?r:i,o,l)}const xb={get:Ql(!1,!1)},wb={get:Ql(!1,!0)},kb={get:Ql(!0,!1)};const lh=new WeakMap,uh=new WeakMap,ch=new WeakMap,Cb=new WeakMap;function Sb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Eb(t){return t.__v_skip||!Object.isExtensible(t)?0:Sb(Jy(t))}function Fe(t){return Tr(t)?t:Xl(t,!1,mb,xb,lh)}function fh(t){return Xl(t,!1,_b,wb,uh)}function Al(t){return Xl(t,!0,vb,kb,ch)}function Xl(t,n,r,i,o){if(!he(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const l=Eb(t);if(l===0)return t;const u=o.get(t);if(u)return u;const c=new Proxy(t,l===2?i:r);return o.set(t,c),c}function gs(t){return Tr(t)?gs(t.__v_raw):!!(t&&t.__v_isReactive)}function Tr(t){return!!(t&&t.__v_isReadonly)}function wn(t){return!!(t&&t.__v_isShallow)}function tu(t){return t?!!t.__v_raw:!1}function oe(t){const n=t&&t.__v_raw;return n?oe(n):t}function Ab(t){return!ae(t,"__v_skip")&&Object.isExtensible(t)&&Kd(t,"__v_skip",!0),t}const De=t=>he(t)?Fe(t):t,xo=t=>he(t)?Al(t):t;function je(t){return t?t.__v_isRef===!0:!1}function pt(t){return dh(t,!1)}function Tb(t){return dh(t,!0)}function dh(t,n){return je(t)?t:new Rb(t,n)}class Rb{constructor(n,r){this.dep=new Jl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?n:oe(n),this._value=r?n:De(n),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(n){const r=this._rawValue,i=this.__v_isShallow||wn(n)||Tr(n);n=i?n:oe(n),Sr(n,r)&&(this._rawValue=n,this._value=i?n:De(n),this.dep.trigger())}}function ms(t){return je(t)?t.value:t}const Ob={get:(t,n,r)=>n==="__v_raw"?t:ms(Reflect.get(t,n,r)),set:(t,n,r,i)=>{const o=t[n];return je(o)&&!je(r)?(o.value=r,!0):Reflect.set(t,n,r,i)}};function hh(t){return gs(t)?t:new Proxy(t,Ob)}class Ib{constructor(n,r,i){this.fn=n,this.setter=r,this._value=void 0,this.dep=new Jl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ni-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return Xd(this,!0),!0}get value(){const n=this.dep.track();return nh(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function $b(t,n,r=!1){let i,o;return Ht(t)?i=t:(i=t.get,o=t.set),new Ib(i,o,r)}const ao={},wo=new WeakMap;let jr;function Pb(t,n=!1,r=jr){if(r){let i=wo.get(r);i||wo.set(r,i=[]),i.push(t)}}function Lb(t,n,r=de){const{immediate:i,deep:o,once:l,scheduler:u,augmentJob:c,call:d}=r,y=M=>o?M:wn(M)||o===!1||o===0?sr(M,1):sr(M);let g,m,b,v,O=!1,w=!1;if(je(t)?(m=()=>t.value,O=wn(t)):gs(t)?(m=()=>y(t),O=!0):Ut(t)?(w=!0,O=t.some(M=>gs(M)||wn(M)),m=()=>t.map(M=>{if(je(M))return M.value;if(gs(M))return y(M);if(Ht(M))return d?d(M,2):M()})):Ht(t)?n?m=d?()=>d(t,2):t:m=()=>{if(b){ar();try{b()}finally{lr()}}const M=jr;jr=g;try{return d?d(t,3,[v]):t(v)}finally{jr=M}}:m=Nn,n&&o){const M=m,U=o===!0?1/0:o;m=()=>sr(M(),U)}const $=lb(),S=()=>{g.stop(),$&&$.active&&Hl($.effects,g)};if(l&&n){const M=n;n=(...U)=>{M(...U),S()}}let R=w?new Array(t.length).fill(ao):ao;const A=M=>{if(!(!(g.flags&1)||!g.dirty&&!M))if(n){const U=g.run();if(o||O||(w?U.some((rt,F)=>Sr(rt,R[F])):Sr(U,R))){b&&b();const rt=jr;jr=g;try{const F=[U,R===ao?void 0:w&&R[0]===ao?[]:R,v];R=U,d?d(n,3,F):n(...F)}finally{jr=rt}}}else g.run()};return c&&c(A),g=new Jd(m),g.scheduler=u?()=>u(A,!1):A,v=M=>Pb(M,!1,g),b=g.onStop=()=>{const M=wo.get(g);if(M){if(d)d(M,4);else for(const U of M)U();wo.delete(g)}},n?i?A(!0):R=g.run():u?u(A.bind(null,!0),!0):g.run(),S.pause=g.pause.bind(g),S.resume=g.resume.bind(g),S.stop=S,S}function sr(t,n=1/0,r){if(n<=0||!he(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=n))return t;if(r.set(t,n),n--,je(t))sr(t.value,n,r);else if(Ut(t))for(let i=0;i<t.length;i++)sr(t[i],n,r);else if(ks(t)||ps(t))t.forEach(i=>{sr(i,n,r)});else if(Vd(t)){for(const i in t)sr(t[i],n,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&sr(t[i],n,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hi(t,n,r,i){try{return i?t(...i):t()}catch(o){Bo(o,n,r)}}function jn(t,n,r,i){if(Ht(t)){const o=hi(t,n,r,i);return o&&qd(o)&&o.catch(l=>{Bo(l,n,r)}),o}if(Ut(t)){const o=[];for(let l=0;l<t.length;l++)o.push(jn(t[l],n,r,i));return o}}function Bo(t,n,r,i=!0){const o=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:u}=n&&n.appContext.config||de;if(n){let c=n.parent;const d=n.proxy,y=`https://vuejs.org/error-reference/#runtime-${r}`;for(;c;){const g=c.ec;if(g){for(let m=0;m<g.length;m++)if(g[m](t,d,y)===!1)return}c=c.parent}if(l){ar(),hi(l,null,10,[t,d,y]),lr();return}}Mb(t,r,o,i,u)}function Mb(t,n,r,i=!0,o=!1){if(o)throw t;console.error(t)}const Ze=[];let Bn=-1;const vs=[];let xr=null,fs=0;const ph=Promise.resolve();let ko=null;function pi(t){const n=ko||ph;return t?n.then(this?t.bind(this):t):n}function Db(t){let n=Bn+1,r=Ze.length;for(;n<r;){const i=n+r>>>1,o=Ze[i],l=si(o);l<t||l===t&&o.flags&2?n=i+1:r=i}return n}function eu(t){if(!(t.flags&1)){const n=si(t),r=Ze[Ze.length-1];!r||!(t.flags&2)&&n>=si(r)?Ze.push(t):Ze.splice(Db(n),0,t),t.flags|=1,gh()}}function gh(){ko||(ko=ph.then(vh))}function Bb(t){Ut(t)?vs.push(...t):xr&&t.id===-1?xr.splice(fs+1,0,t):t.flags&1||(vs.push(t),t.flags|=1),gh()}function Kf(t,n,r=Bn+1){for(;r<Ze.length;r++){const i=Ze[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Ze.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function mh(t){if(vs.length){const n=[...new Set(vs)].sort((r,i)=>si(r)-si(i));if(vs.length=0,xr){xr.push(...n);return}for(xr=n,fs=0;fs<xr.length;fs++){const r=xr[fs];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}xr=null,fs=0}}const si=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vh(t){try{for(Bn=0;Bn<Ze.length;Bn++){const n=Ze[Bn];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),hi(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Bn<Ze.length;Bn++){const n=Ze[Bn];n&&(n.flags&=-2)}Bn=-1,Ze.length=0,mh(),ko=null,(Ze.length||vs.length)&&vh()}}let fn=null,_h=null;function Co(t){const n=fn;return fn=t,_h=t&&t.type.__scopeId||null,n}function cn(t,n=fn,r){if(!n||t._n)return t;const i=(...o)=>{i._d&&To(-1);const l=Co(n);let u;try{u=t(...o)}finally{Co(l),i._d&&To(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function Bt(t,n){if(fn===null)return t;const r=Fo(fn),i=t.dirs||(t.dirs=[]);for(let o=0;o<n.length;o++){let[l,u,c,d=de]=n[o];l&&(Ht(l)&&(l={mounted:l,updated:l}),l.deep&&sr(u),i.push({dir:l,instance:r,value:u,oldValue:void 0,arg:c,modifiers:d}))}return t}function Ur(t,n,r,i){const o=t.dirs,l=n&&n.dirs;for(let u=0;u<o.length;u++){const c=o[u];l&&(c.oldValue=l[u].value);let d=c.dir[i];d&&(ar(),jn(d,r,8,[t.el,c,t,n]),lr())}}const zb=Symbol("_vte"),Nb=t=>t.__isTeleport,Ub=Symbol("_leaveCb");function nu(t,n){t.shapeFlag&6&&t.component?(t.transition=n,nu(t.component.subTree,n)):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function yh(t,n){return Ht(t)?qe({name:t.name},n,{setup:t}):t}function bh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const So=new WeakMap;function Ys(t,n,r,i,o=!1){if(Ut(t)){t.forEach((O,w)=>Ys(O,n&&(Ut(n)?n[w]:n),r,i,o));return}if(Js(i)&&!o){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ys(t,n,r,i.component.subTree);return}const l=i.shapeFlag&4?Fo(i.component):i.el,u=o?null:l,{i:c,r:d}=t,y=n&&n.r,g=c.refs===de?c.refs={}:c.refs,m=c.setupState,b=oe(m),v=m===de?Wd:O=>ae(b,O);if(y!=null&&y!==d){if(Gf(n),Oe(y))g[y]=null,v(y)&&(m[y]=null);else if(je(y)){y.value=null;const O=n;O.k&&(g[O.k]=null)}}if(Ht(d))hi(d,c,12,[u,g]);else{const O=Oe(d),w=je(d);if(O||w){const $=()=>{if(t.f){const S=O?v(d)?m[d]:g[d]:d.value;if(o)Ut(S)&&Hl(S,l);else if(Ut(S))S.includes(l)||S.push(l);else if(O)g[d]=[l],v(d)&&(m[d]=g[d]);else{const R=[l];d.value=R,t.k&&(g[t.k]=R)}}else O?(g[d]=u,v(d)&&(m[d]=u)):w&&(d.value=u,t.k&&(g[t.k]=u))};if(u){const S=()=>{$(),So.delete(t)};S.id=-1,So.set(t,S),un(S,r)}else Gf(t),$()}}}function Gf(t){const n=So.get(t);n&&(n.flags|=8,So.delete(t))}Mo().requestIdleCallback;Mo().cancelIdleCallback;const Js=t=>!!t.type.__asyncLoader,xh=t=>t.type.__isKeepAlive;function Fb(t,n){wh(t,"a",n)}function jb(t,n){wh(t,"da",n)}function wh(t,n,r=Ue){const i=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(zo(n,i,r),r){let o=r.parent;for(;o&&o.parent;)xh(o.parent.vnode)&&Wb(i,n,r,o),o=o.parent}}function Wb(t,n,r,i){const o=zo(n,t,i,!0);Kr(()=>{Hl(i[n],o)},r)}function zo(t,n,r=Ue,i=!1){if(r){const o=r[t]||(r[t]=[]),l=n.__weh||(n.__weh=(...u)=>{ar();const c=gi(r),d=jn(n,r,t,u);return c(),lr(),d});return i?o.unshift(l):o.push(l),l}}const ur=t=>(n,r=Ue)=>{(!oi||t==="sp")&&zo(t,(...i)=>n(...i),r)},qb=ur("bm"),Ye=ur("m"),Hb=ur("bu"),Vb=ur("u"),Kb=ur("bum"),Kr=ur("um"),Gb=ur("sp"),Zb=ur("rtg"),Yb=ur("rtc");function Jb(t,n=Ue){zo("ec",t,n)}const Qb="components";function Eo(t,n){return tx(Qb,t,!0,n)||t}const Xb=Symbol.for("v-ndc");function tx(t,n,r=!0,i=!1){const o=fn||Ue;if(o){const l=o.type;{const c=Wx(l,!1);if(c&&(c===n||c===kn(n)||c===Lo(kn(n))))return l}const u=Zf(o[t]||l[t],n)||Zf(o.appContext[t],n);return!u&&i?l:u}}function Zf(t,n){return t&&(t[n]||t[kn(n)]||t[Lo(kn(n))])}function te(t,n,r,i){let o;const l=r,u=Ut(t);if(u||Oe(t)){const c=u&&gs(t);let d=!1,y=!1;c&&(d=!wn(t),y=Tr(t),t=Do(t)),o=new Array(t.length);for(let g=0,m=t.length;g<m;g++)o[g]=n(d?y?xo(De(t[g])):De(t[g]):t[g],g,void 0,l)}else if(typeof t=="number"){o=new Array(t);for(let c=0;c<t;c++)o[c]=n(c+1,c,void 0,l)}else if(he(t))if(t[Symbol.iterator])o=Array.from(t,(c,d)=>n(c,d,void 0,l));else{const c=Object.keys(t);o=new Array(c.length);for(let d=0,y=c.length;d<y;d++){const g=c[d];o[d]=n(t[g],g,d,l)}}else o=[];return o}const Tl=t=>t?jh(t)?Fo(t):Tl(t.parent):null,Qs=qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tl(t.parent),$root:t=>Tl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ch(t),$forceUpdate:t=>t.f||(t.f=()=>{eu(t.update)}),$nextTick:t=>t.n||(t.n=pi.bind(t.proxy)),$watch:t=>xx.bind(t)}),fl=(t,n)=>t!==de&&!t.__isScriptSetup&&ae(t,n),ex={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:r,setupState:i,data:o,props:l,accessCache:u,type:c,appContext:d}=t;let y;if(n[0]!=="$"){const v=u[n];if(v!==void 0)switch(v){case 1:return i[n];case 2:return o[n];case 4:return r[n];case 3:return l[n]}else{if(fl(i,n))return u[n]=1,i[n];if(o!==de&&ae(o,n))return u[n]=2,o[n];if((y=t.propsOptions[0])&&ae(y,n))return u[n]=3,l[n];if(r!==de&&ae(r,n))return u[n]=4,r[n];Rl&&(u[n]=0)}}const g=Qs[n];let m,b;if(g)return n==="$attrs"&&Ne(t.attrs,"get",""),g(t);if((m=c.__cssModules)&&(m=m[n]))return m;if(r!==de&&ae(r,n))return u[n]=4,r[n];if(b=d.config.globalProperties,ae(b,n))return b[n]},set({_:t},n,r){const{data:i,setupState:o,ctx:l}=t;return fl(o,n)?(o[n]=r,!0):i!==de&&ae(i,n)?(i[n]=r,!0):ae(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(l[n]=r,!0)},has({_:{data:t,setupState:n,accessCache:r,ctx:i,appContext:o,propsOptions:l,type:u}},c){let d,y;return!!(r[c]||t!==de&&c[0]!=="$"&&ae(t,c)||fl(n,c)||(d=l[0])&&ae(d,c)||ae(i,c)||ae(Qs,c)||ae(o.config.globalProperties,c)||(y=u.__cssModules)&&y[c])},defineProperty(t,n,r){return r.get!=null?t._.accessCache[n]=0:ae(r,"value")&&this.set(t,n,r.value,null),Reflect.defineProperty(t,n,r)}};function Yf(t){return Ut(t)?t.reduce((n,r)=>(n[r]=null,n),{}):t}let Rl=!0;function nx(t){const n=Ch(t),r=t.proxy,i=t.ctx;Rl=!1,n.beforeCreate&&Jf(n.beforeCreate,t,"bc");const{data:o,computed:l,methods:u,watch:c,provide:d,inject:y,created:g,beforeMount:m,mounted:b,beforeUpdate:v,updated:O,activated:w,deactivated:$,beforeDestroy:S,beforeUnmount:R,destroyed:A,unmounted:M,render:U,renderTracked:rt,renderTriggered:F,errorCaptured:z,serverPrefetch:D,expose:B,inheritAttrs:nt,components:E,directives:H,filters:_}=n;if(y&&rx(y,i,null),u)for(const ut in u){const Et=u[ut];Ht(Et)&&(i[ut]=Et.bind(r))}if(o){const ut=o.call(r,r);he(ut)&&(t.data=Fe(ut))}if(Rl=!0,l)for(const ut in l){const Et=l[ut],bt=Ht(Et)?Et.bind(r,r):Ht(Et.get)?Et.get.bind(r,r):Nn,$t=!Ht(Et)&&Ht(Et.set)?Et.set.bind(r):Nn,it=le({get:bt,set:$t});Object.defineProperty(i,ut,{enumerable:!0,configurable:!0,get:()=>it.value,set:st=>it.value=st})}if(c)for(const ut in c)kh(c[ut],i,r,ut);if(d){const ut=Ht(d)?d.call(r):d;Reflect.ownKeys(ut).forEach(Et=>{ho(Et,ut[Et])})}g&&Jf(g,t,"c");function Ct(ut,Et){Ut(Et)?Et.forEach(bt=>ut(bt.bind(r))):Et&&ut(Et.bind(r))}if(Ct(qb,m),Ct(Ye,b),Ct(Hb,v),Ct(Vb,O),Ct(Fb,w),Ct(jb,$),Ct(Jb,z),Ct(Yb,rt),Ct(Zb,F),Ct(Kb,R),Ct(Kr,M),Ct(Gb,D),Ut(B))if(B.length){const ut=t.exposed||(t.exposed={});B.forEach(Et=>{Object.defineProperty(ut,Et,{get:()=>r[Et],set:bt=>r[Et]=bt,enumerable:!0})})}else t.exposed||(t.exposed={});U&&t.render===Nn&&(t.render=U),nt!=null&&(t.inheritAttrs=nt),E&&(t.components=E),H&&(t.directives=H),D&&bh(t)}function rx(t,n,r=Nn){Ut(t)&&(t=Ol(t));for(const i in t){const o=t[i];let l;he(o)?"default"in o?l=In(o.from||i,o.default,!0):l=In(o.from||i):l=In(o),je(l)?Object.defineProperty(n,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):n[i]=l}}function Jf(t,n,r){jn(Ut(t)?t.map(i=>i.bind(n.proxy)):t.bind(n.proxy),n,r)}function kh(t,n,r,i){let o=i.includes(".")?Bh(r,i):()=>r[i];if(Oe(t)){const l=n[t];Ht(l)&&Er(o,l)}else if(Ht(t))Er(o,t.bind(r));else if(he(t))if(Ut(t))t.forEach(l=>kh(l,n,r,i));else{const l=Ht(t.handler)?t.handler.bind(r):n[t.handler];Ht(l)&&Er(o,l,t)}}function Ch(t){const n=t.type,{mixins:r,extends:i}=n,{mixins:o,optionsCache:l,config:{optionMergeStrategies:u}}=t.appContext,c=l.get(n);let d;return c?d=c:!o.length&&!r&&!i?d=n:(d={},o.length&&o.forEach(y=>Ao(d,y,u,!0)),Ao(d,n,u)),he(n)&&l.set(n,d),d}function Ao(t,n,r,i=!1){const{mixins:o,extends:l}=n;l&&Ao(t,l,r,!0),o&&o.forEach(u=>Ao(t,u,r,!0));for(const u in n)if(!(i&&u==="expose")){const c=sx[u]||r&&r[u];t[u]=c?c(t[u],n[u]):n[u]}return t}const sx={data:Qf,props:Xf,emits:Xf,methods:Hs,computed:Hs,beforeCreate:Ge,created:Ge,beforeMount:Ge,mounted:Ge,beforeUpdate:Ge,updated:Ge,beforeDestroy:Ge,beforeUnmount:Ge,destroyed:Ge,unmounted:Ge,activated:Ge,deactivated:Ge,errorCaptured:Ge,serverPrefetch:Ge,components:Hs,directives:Hs,watch:ox,provide:Qf,inject:ix};function Qf(t,n){return n?t?function(){return qe(Ht(t)?t.call(this,this):t,Ht(n)?n.call(this,this):n)}:n:t}function ix(t,n){return Hs(Ol(t),Ol(n))}function Ol(t){if(Ut(t)){const n={};for(let r=0;r<t.length;r++)n[t[r]]=t[r];return n}return t}function Ge(t,n){return t?[...new Set([].concat(t,n))]:n}function Hs(t,n){return t?qe(Object.create(null),t,n):n}function Xf(t,n){return t?Ut(t)&&Ut(n)?[...new Set([...t,...n])]:qe(Object.create(null),Yf(t),Yf(n??{})):n}function ox(t,n){if(!t)return n;if(!n)return t;const r=qe(Object.create(null),t);for(const i in n)r[i]=Ge(t[i],n[i]);return r}function Sh(){return{app:null,config:{isNativeTag:Wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ax=0;function lx(t,n){return function(i,o=null){Ht(i)||(i=qe({},i)),o!=null&&!he(o)&&(o=null);const l=Sh(),u=new WeakSet,c=[];let d=!1;const y=l.app={_uid:ax++,_component:i,_props:o,_container:null,_context:l,_instance:null,version:Hx,get config(){return l.config},set config(g){},use(g,...m){return u.has(g)||(g&&Ht(g.install)?(u.add(g),g.install(y,...m)):Ht(g)&&(u.add(g),g(y,...m))),y},mixin(g){return l.mixins.includes(g)||l.mixins.push(g),y},component(g,m){return m?(l.components[g]=m,y):l.components[g]},directive(g,m){return m?(l.directives[g]=m,y):l.directives[g]},mount(g,m,b){if(!d){const v=y._ceVNode||ce(i,o);return v.appContext=l,b===!0?b="svg":b===!1&&(b=void 0),t(v,g,b),d=!0,y._container=g,g.__vue_app__=y,Fo(v.component)}},onUnmount(g){c.push(g)},unmount(){d&&(jn(c,y._instance,16),t(null,y._container),delete y._container.__vue_app__)},provide(g,m){return l.provides[g]=m,y},runWithContext(g){const m=_s;_s=y;try{return g()}finally{_s=m}}};return y}}let _s=null;function ho(t,n){if(Ue){let r=Ue.provides;const i=Ue.parent&&Ue.parent.provides;i===r&&(r=Ue.provides=Object.create(i)),r[t]=n}}function In(t,n,r=!1){const i=zx();if(i||_s){let o=_s?_s._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return r&&Ht(n)?n.call(i&&i.proxy):n}}const Eh={},Ah=()=>Object.create(Eh),Th=t=>Object.getPrototypeOf(t)===Eh;function ux(t,n,r,i=!1){const o={},l=Ah();t.propsDefaults=Object.create(null),Rh(t,n,o,l);for(const u in t.propsOptions[0])u in o||(o[u]=void 0);r?t.props=i?o:fh(o):t.type.props?t.props=o:t.props=l,t.attrs=l}function cx(t,n,r,i){const{props:o,attrs:l,vnode:{patchFlag:u}}=t,c=oe(o),[d]=t.propsOptions;let y=!1;if((i||u>0)&&!(u&16)){if(u&8){const g=t.vnode.dynamicProps;for(let m=0;m<g.length;m++){let b=g[m];if(No(t.emitsOptions,b))continue;const v=n[b];if(d)if(ae(l,b))v!==l[b]&&(l[b]=v,y=!0);else{const O=kn(b);o[O]=Il(d,c,O,v,t,!1)}else v!==l[b]&&(l[b]=v,y=!0)}}}else{Rh(t,n,o,l)&&(y=!0);let g;for(const m in c)(!n||!ae(n,m)&&((g=Or(m))===m||!ae(n,g)))&&(d?r&&(r[m]!==void 0||r[g]!==void 0)&&(o[m]=Il(d,c,m,void 0,t,!0)):delete o[m]);if(l!==c)for(const m in l)(!n||!ae(n,m))&&(delete l[m],y=!0)}y&&rr(t.attrs,"set","")}function Rh(t,n,r,i){const[o,l]=t.propsOptions;let u=!1,c;if(n)for(let d in n){if(Ks(d))continue;const y=n[d];let g;o&&ae(o,g=kn(d))?!l||!l.includes(g)?r[g]=y:(c||(c={}))[g]=y:No(t.emitsOptions,d)||(!(d in i)||y!==i[d])&&(i[d]=y,u=!0)}if(l){const d=oe(r),y=c||de;for(let g=0;g<l.length;g++){const m=l[g];r[m]=Il(o,d,m,y[m],t,!ae(y,m))}}return u}function Il(t,n,r,i,o,l){const u=t[r];if(u!=null){const c=ae(u,"default");if(c&&i===void 0){const d=u.default;if(u.type!==Function&&!u.skipFactory&&Ht(d)){const{propsDefaults:y}=o;if(r in y)i=y[r];else{const g=gi(o);i=y[r]=d.call(null,n),g()}}else i=d;o.ce&&o.ce._setProp(r,i)}u[0]&&(l&&!c?i=!1:u[1]&&(i===""||i===Or(r))&&(i=!0))}return i}const fx=new WeakMap;function Oh(t,n,r=!1){const i=r?fx:n.propsCache,o=i.get(t);if(o)return o;const l=t.props,u={},c=[];let d=!1;if(!Ht(t)){const g=m=>{d=!0;const[b,v]=Oh(m,n,!0);qe(u,b),v&&c.push(...v)};!r&&n.mixins.length&&n.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!l&&!d)return he(t)&&i.set(t,hs),hs;if(Ut(l))for(let g=0;g<l.length;g++){const m=kn(l[g]);td(m)&&(u[m]=de)}else if(l)for(const g in l){const m=kn(g);if(td(m)){const b=l[g],v=u[m]=Ut(b)||Ht(b)?{type:b}:qe({},b),O=v.type;let w=!1,$=!0;if(Ut(O))for(let S=0;S<O.length;++S){const R=O[S],A=Ht(R)&&R.name;if(A==="Boolean"){w=!0;break}else A==="String"&&($=!1)}else w=Ht(O)&&O.name==="Boolean";v[0]=w,v[1]=$,(w||ae(v,"default"))&&c.push(m)}}const y=[u,c];return he(t)&&i.set(t,y),y}function td(t){return t[0]!=="$"&&!Ks(t)}const ru=t=>t==="_"||t==="_ctx"||t==="$stable",su=t=>Ut(t)?t.map(zn):[zn(t)],dx=(t,n,r)=>{if(n._n)return n;const i=cn((...o)=>su(n(...o)),r);return i._c=!1,i},Ih=(t,n,r)=>{const i=t._ctx;for(const o in t){if(ru(o))continue;const l=t[o];if(Ht(l))n[o]=dx(o,l,i);else if(l!=null){const u=su(l);n[o]=()=>u}}},$h=(t,n)=>{const r=su(n);t.slots.default=()=>r},Ph=(t,n,r)=>{for(const i in n)(r||!ru(i))&&(t[i]=n[i])},hx=(t,n,r)=>{const i=t.slots=Ah();if(t.vnode.shapeFlag&32){const o=n._;o?(Ph(i,n,r),r&&Kd(i,"_",o,!0)):Ih(n,i)}else n&&$h(t,n)},px=(t,n,r)=>{const{vnode:i,slots:o}=t;let l=!0,u=de;if(i.shapeFlag&32){const c=n._;c?r&&c===1?l=!1:Ph(o,n,r):(l=!n.$stable,Ih(n,o)),u=n}else n&&($h(t,n),u={default:1});if(l)for(const c in o)!ru(c)&&u[c]==null&&delete o[c]},un=Rx;function gx(t){return mx(t)}function mx(t,n){const r=Mo();r.__VUE__=!0;const{insert:i,remove:o,patchProp:l,createElement:u,createText:c,createComment:d,setText:y,setElementText:g,parentNode:m,nextSibling:b,setScopeId:v=Nn,insertStaticContent:O}=t,w=(k,L,h,W=null,j=null,C=null,T=void 0,N=null,Q=!!L.dynamicChildren)=>{if(k===L)return;k&&!js(k,L)&&(W=V(k),st(k,j,C,!0),k=null),L.patchFlag===-2&&(Q=!1,L.dynamicChildren=null);const{type:J,ref:Z,shapeFlag:ot}=L;switch(J){case Uo:$(k,L,h,W);break;case Rr:S(k,L,h,W);break;case po:k==null&&R(L,h,W,T);break;case Wt:E(k,L,h,W,j,C,T,N,Q);break;default:ot&1?U(k,L,h,W,j,C,T,N,Q):ot&6?H(k,L,h,W,j,C,T,N,Q):(ot&64||ot&128)&&J.process(k,L,h,W,j,C,T,N,Q,wt)}Z!=null&&j?Ys(Z,k&&k.ref,C,L||k,!L):Z==null&&k&&k.ref!=null&&Ys(k.ref,null,C,k,!0)},$=(k,L,h,W)=>{if(k==null)i(L.el=c(L.children),h,W);else{const j=L.el=k.el;L.children!==k.children&&y(j,L.children)}},S=(k,L,h,W)=>{k==null?i(L.el=d(L.children||""),h,W):L.el=k.el},R=(k,L,h,W)=>{[k.el,k.anchor]=O(k.children,L,h,W,k.el,k.anchor)},A=({el:k,anchor:L},h,W)=>{let j;for(;k&&k!==L;)j=b(k),i(k,h,W),k=j;i(L,h,W)},M=({el:k,anchor:L})=>{let h;for(;k&&k!==L;)h=b(k),o(k),k=h;o(L)},U=(k,L,h,W,j,C,T,N,Q)=>{L.type==="svg"?T="svg":L.type==="math"&&(T="mathml"),k==null?rt(L,h,W,j,C,T,N,Q):D(k,L,j,C,T,N,Q)},rt=(k,L,h,W,j,C,T,N)=>{let Q,J;const{props:Z,shapeFlag:ot,transition:mt,dirs:ht}=k;if(Q=k.el=u(k.type,C,Z&&Z.is,Z),ot&8?g(Q,k.children):ot&16&&z(k.children,Q,null,W,j,dl(k,C),T,N),ht&&Ur(k,null,W,"created"),F(Q,k,k.scopeId,T,W),Z){for(const Mt in Z)Mt!=="value"&&!Ks(Mt)&&l(Q,Mt,null,Z[Mt],C,W);"value"in Z&&l(Q,"value",null,Z.value,C),(J=Z.onVnodeBeforeMount)&&Dn(J,W,k)}ht&&Ur(k,null,W,"beforeMount");const St=vx(j,mt);St&&mt.beforeEnter(Q),i(Q,L,h),((J=Z&&Z.onVnodeMounted)||St||ht)&&un(()=>{J&&Dn(J,W,k),St&&mt.enter(Q),ht&&Ur(k,null,W,"mounted")},j)},F=(k,L,h,W,j)=>{if(h&&v(k,h),W)for(let C=0;C<W.length;C++)v(k,W[C]);if(j){let C=j.subTree;if(L===C||Nh(C.type)&&(C.ssContent===L||C.ssFallback===L)){const T=j.vnode;F(k,T,T.scopeId,T.slotScopeIds,j.parent)}}},z=(k,L,h,W,j,C,T,N,Q=0)=>{for(let J=Q;J<k.length;J++){const Z=k[J]=N?wr(k[J]):zn(k[J]);w(null,Z,L,h,W,j,C,T,N)}},D=(k,L,h,W,j,C,T)=>{const N=L.el=k.el;let{patchFlag:Q,dynamicChildren:J,dirs:Z}=L;Q|=k.patchFlag&16;const ot=k.props||de,mt=L.props||de;let ht;if(h&&Fr(h,!1),(ht=mt.onVnodeBeforeUpdate)&&Dn(ht,h,L,k),Z&&Ur(L,k,h,"beforeUpdate"),h&&Fr(h,!0),(ot.innerHTML&&mt.innerHTML==null||ot.textContent&&mt.textContent==null)&&g(N,""),J?B(k.dynamicChildren,J,N,h,W,dl(L,j),C):T||Et(k,L,N,null,h,W,dl(L,j),C,!1),Q>0){if(Q&16)nt(N,ot,mt,h,j);else if(Q&2&&ot.class!==mt.class&&l(N,"class",null,mt.class,j),Q&4&&l(N,"style",ot.style,mt.style,j),Q&8){const St=L.dynamicProps;for(let Mt=0;Mt<St.length;Mt++){const Ot=St[Mt],ee=ot[Ot],be=mt[Ot];(be!==ee||Ot==="value")&&l(N,Ot,ee,be,j,h)}}Q&1&&k.children!==L.children&&g(N,L.children)}else!T&&J==null&&nt(N,ot,mt,h,j);((ht=mt.onVnodeUpdated)||Z)&&un(()=>{ht&&Dn(ht,h,L,k),Z&&Ur(L,k,h,"updated")},W)},B=(k,L,h,W,j,C,T)=>{for(let N=0;N<L.length;N++){const Q=k[N],J=L[N],Z=Q.el&&(Q.type===Wt||!js(Q,J)||Q.shapeFlag&198)?m(Q.el):h;w(Q,J,Z,null,W,j,C,T,!0)}},nt=(k,L,h,W,j)=>{if(L!==h){if(L!==de)for(const C in L)!Ks(C)&&!(C in h)&&l(k,C,L[C],null,j,W);for(const C in h){if(Ks(C))continue;const T=h[C],N=L[C];T!==N&&C!=="value"&&l(k,C,N,T,j,W)}"value"in h&&l(k,"value",L.value,h.value,j)}},E=(k,L,h,W,j,C,T,N,Q)=>{const J=L.el=k?k.el:c(""),Z=L.anchor=k?k.anchor:c("");let{patchFlag:ot,dynamicChildren:mt,slotScopeIds:ht}=L;ht&&(N=N?N.concat(ht):ht),k==null?(i(J,h,W),i(Z,h,W),z(L.children||[],h,Z,j,C,T,N,Q)):ot>0&&ot&64&&mt&&k.dynamicChildren?(B(k.dynamicChildren,mt,h,j,C,T,N),(L.key!=null||j&&L===j.subTree)&&Lh(k,L,!0)):Et(k,L,h,Z,j,C,T,N,Q)},H=(k,L,h,W,j,C,T,N,Q)=>{L.slotScopeIds=N,k==null?L.shapeFlag&512?j.ctx.activate(L,h,W,T,Q):_(L,h,W,j,C,T,Q):at(k,L,Q)},_=(k,L,h,W,j,C,T)=>{const N=k.component=Bx(k,W,j);if(xh(k)&&(N.ctx.renderer=wt),Nx(N,!1,T),N.asyncDep){if(j&&j.registerDep(N,Ct,T),!k.el){const Q=N.subTree=ce(Rr);S(null,Q,L,h),k.placeholder=Q.el}}else Ct(N,k,L,h,j,C,T)},at=(k,L,h)=>{const W=L.component=k.component;if(Ax(k,L,h))if(W.asyncDep&&!W.asyncResolved){ut(W,L,h);return}else W.next=L,W.update();else L.el=k.el,W.vnode=L},Ct=(k,L,h,W,j,C,T)=>{const N=()=>{if(k.isMounted){let{next:ot,bu:mt,u:ht,parent:St,vnode:Mt}=k;{const Te=Mh(k);if(Te){ot&&(ot.el=Mt.el,ut(k,ot,T)),Te.asyncDep.then(()=>{k.isUnmounted||N()});return}}let Ot=ot,ee;Fr(k,!1),ot?(ot.el=Mt.el,ut(k,ot,T)):ot=Mt,mt&&fo(mt),(ee=ot.props&&ot.props.onVnodeBeforeUpdate)&&Dn(ee,St,ot,Mt),Fr(k,!0);const be=nd(k),_e=k.subTree;k.subTree=be,w(_e,be,m(_e.el),V(_e),k,j,C),ot.el=be.el,Ot===null&&Tx(k,be.el),ht&&un(ht,j),(ee=ot.props&&ot.props.onVnodeUpdated)&&un(()=>Dn(ee,St,ot,Mt),j)}else{let ot;const{el:mt,props:ht}=L,{bm:St,m:Mt,parent:Ot,root:ee,type:be}=k,_e=Js(L);Fr(k,!1),St&&fo(St),!_e&&(ot=ht&&ht.onVnodeBeforeMount)&&Dn(ot,Ot,L),Fr(k,!0);{ee.ce&&ee.ce._def.shadowRoot!==!1&&ee.ce._injectChildStyle(be);const Te=k.subTree=nd(k);w(null,Te,h,W,k,j,C),L.el=Te.el}if(Mt&&un(Mt,j),!_e&&(ot=ht&&ht.onVnodeMounted)){const Te=L;un(()=>Dn(ot,Ot,Te),j)}(L.shapeFlag&256||Ot&&Js(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&k.a&&un(k.a,j),k.isMounted=!0,L=h=W=null}};k.scope.on();const Q=k.effect=new Jd(N);k.scope.off();const J=k.update=Q.run.bind(Q),Z=k.job=Q.runIfDirty.bind(Q);Z.i=k,Z.id=k.uid,Q.scheduler=()=>eu(Z),Fr(k,!0),J()},ut=(k,L,h)=>{L.component=k;const W=k.vnode.props;k.vnode=L,k.next=null,cx(k,L.props,W,h),px(k,L.children,h),ar(),Kf(k),lr()},Et=(k,L,h,W,j,C,T,N,Q=!1)=>{const J=k&&k.children,Z=k?k.shapeFlag:0,ot=L.children,{patchFlag:mt,shapeFlag:ht}=L;if(mt>0){if(mt&128){$t(J,ot,h,W,j,C,T,N,Q);return}else if(mt&256){bt(J,ot,h,W,j,C,T,N,Q);return}}ht&8?(Z&16&&yt(J,j,C),ot!==J&&g(h,ot)):Z&16?ht&16?$t(J,ot,h,W,j,C,T,N,Q):yt(J,j,C,!0):(Z&8&&g(h,""),ht&16&&z(ot,h,W,j,C,T,N,Q))},bt=(k,L,h,W,j,C,T,N,Q)=>{k=k||hs,L=L||hs;const J=k.length,Z=L.length,ot=Math.min(J,Z);let mt;for(mt=0;mt<ot;mt++){const ht=L[mt]=Q?wr(L[mt]):zn(L[mt]);w(k[mt],ht,h,null,j,C,T,N,Q)}J>Z?yt(k,j,C,!0,!1,ot):z(L,h,W,j,C,T,N,Q,ot)},$t=(k,L,h,W,j,C,T,N,Q)=>{let J=0;const Z=L.length;let ot=k.length-1,mt=Z-1;for(;J<=ot&&J<=mt;){const ht=k[J],St=L[J]=Q?wr(L[J]):zn(L[J]);if(js(ht,St))w(ht,St,h,null,j,C,T,N,Q);else break;J++}for(;J<=ot&&J<=mt;){const ht=k[ot],St=L[mt]=Q?wr(L[mt]):zn(L[mt]);if(js(ht,St))w(ht,St,h,null,j,C,T,N,Q);else break;ot--,mt--}if(J>ot){if(J<=mt){const ht=mt+1,St=ht<Z?L[ht].el:W;for(;J<=mt;)w(null,L[J]=Q?wr(L[J]):zn(L[J]),h,St,j,C,T,N,Q),J++}}else if(J>mt)for(;J<=ot;)st(k[J],j,C,!0),J++;else{const ht=J,St=J,Mt=new Map;for(J=St;J<=mt;J++){const Se=L[J]=Q?wr(L[J]):zn(L[J]);Se.key!=null&&Mt.set(Se.key,J)}let Ot,ee=0;const be=mt-St+1;let _e=!1,Te=0;const ne=new Array(be);for(J=0;J<be;J++)ne[J]=0;for(J=ht;J<=ot;J++){const Se=k[J];if(ee>=be){st(Se,j,C,!0);continue}let xe;if(Se.key!=null)xe=Mt.get(Se.key);else for(Ot=St;Ot<=mt;Ot++)if(ne[Ot-St]===0&&js(Se,L[Ot])){xe=Ot;break}xe===void 0?st(Se,j,C,!0):(ne[xe-St]=J+1,xe>=Te?Te=xe:_e=!0,w(Se,L[xe],h,null,j,C,T,N,Q),ee++)}const Cn=_e?_x(ne):hs;for(Ot=Cn.length-1,J=be-1;J>=0;J--){const Se=St+J,xe=L[Se],qn=L[Se+1],Gr=Se+1<Z?qn.el||qn.placeholder:W;ne[J]===0?w(null,xe,h,Gr,j,C,T,N,Q):_e&&(Ot<0||J!==Cn[Ot]?it(xe,h,Gr,2):Ot--)}}},it=(k,L,h,W,j=null)=>{const{el:C,type:T,transition:N,children:Q,shapeFlag:J}=k;if(J&6){it(k.component.subTree,L,h,W);return}if(J&128){k.suspense.move(L,h,W);return}if(J&64){T.move(k,L,h,wt);return}if(T===Wt){i(C,L,h);for(let ot=0;ot<Q.length;ot++)it(Q[ot],L,h,W);i(k.anchor,L,h);return}if(T===po){A(k,L,h);return}if(W!==2&&J&1&&N)if(W===0)N.beforeEnter(C),i(C,L,h),un(()=>N.enter(C),j);else{const{leave:ot,delayLeave:mt,afterLeave:ht}=N,St=()=>{k.ctx.isUnmounted?o(C):i(C,L,h)},Mt=()=>{C._isLeaving&&C[Ub](!0),ot(C,()=>{St(),ht&&ht()})};mt?mt(C,St,Mt):Mt()}else i(C,L,h)},st=(k,L,h,W=!1,j=!1)=>{const{type:C,props:T,ref:N,children:Q,dynamicChildren:J,shapeFlag:Z,patchFlag:ot,dirs:mt,cacheIndex:ht}=k;if(ot===-2&&(j=!1),N!=null&&(ar(),Ys(N,null,h,k,!0),lr()),ht!=null&&(L.renderCache[ht]=void 0),Z&256){L.ctx.deactivate(k);return}const St=Z&1&&mt,Mt=!Js(k);let Ot;if(Mt&&(Ot=T&&T.onVnodeBeforeUnmount)&&Dn(Ot,L,k),Z&6)kt(k.component,h,W);else{if(Z&128){k.suspense.unmount(h,W);return}St&&Ur(k,null,L,"beforeUnmount"),Z&64?k.type.remove(k,L,h,wt,W):J&&!J.hasOnce&&(C!==Wt||ot>0&&ot&64)?yt(J,L,h,!1,!0):(C===Wt&&ot&384||!j&&Z&16)&&yt(Q,L,h),W&&Pt(k)}(Mt&&(Ot=T&&T.onVnodeUnmounted)||St)&&un(()=>{Ot&&Dn(Ot,L,k),St&&Ur(k,null,L,"unmounted")},h)},Pt=k=>{const{type:L,el:h,anchor:W,transition:j}=k;if(L===Wt){At(h,W);return}if(L===po){M(k);return}const C=()=>{o(h),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(k.shapeFlag&1&&j&&!j.persisted){const{leave:T,delayLeave:N}=j,Q=()=>T(h,C);N?N(k.el,C,Q):Q()}else C()},At=(k,L)=>{let h;for(;k!==L;)h=b(k),o(k),k=h;o(L)},kt=(k,L,h)=>{const{bum:W,scope:j,job:C,subTree:T,um:N,m:Q,a:J}=k;ed(Q),ed(J),W&&fo(W),j.stop(),C&&(C.flags|=8,st(T,k,L,h)),N&&un(N,L),un(()=>{k.isUnmounted=!0},L)},yt=(k,L,h,W=!1,j=!1,C=0)=>{for(let T=C;T<k.length;T++)st(k[T],L,h,W,j)},V=k=>{if(k.shapeFlag&6)return V(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const L=b(k.anchor||k.el),h=L&&L[zb];return h?b(h):L};let tt=!1;const lt=(k,L,h)=>{k==null?L._vnode&&st(L._vnode,null,null,!0):w(L._vnode||null,k,L,null,null,null,h),L._vnode=k,tt||(tt=!0,Kf(),mh(),tt=!1)},wt={p:w,um:st,m:it,r:Pt,mt:_,mc:z,pc:Et,pbc:B,n:V,o:t};return{render:lt,hydrate:void 0,createApp:lx(lt)}}function dl({type:t,props:n},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:r}function Fr({effect:t,job:n},r){r?(t.flags|=32,n.flags|=4):(t.flags&=-33,n.flags&=-5)}function vx(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Lh(t,n,r=!1){const i=t.children,o=n.children;if(Ut(i)&&Ut(o))for(let l=0;l<i.length;l++){const u=i[l];let c=o[l];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[l]=wr(o[l]),c.el=u.el),!r&&c.patchFlag!==-2&&Lh(u,c)),c.type===Uo&&c.patchFlag!==-1&&(c.el=u.el),c.type===Rr&&!c.el&&(c.el=u.el)}}function _x(t){const n=t.slice(),r=[0];let i,o,l,u,c;const d=t.length;for(i=0;i<d;i++){const y=t[i];if(y!==0){if(o=r[r.length-1],t[o]<y){n[i]=o,r.push(i);continue}for(l=0,u=r.length-1;l<u;)c=l+u>>1,t[r[c]]<y?l=c+1:u=c;y<t[r[l]]&&(l>0&&(n[i]=r[l-1]),r[l]=i)}}for(l=r.length,u=r[l-1];l-- >0;)r[l]=u,u=n[u];return r}function Mh(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:Mh(n)}function ed(t){if(t)for(let n=0;n<t.length;n++)t[n].flags|=8}const yx=Symbol.for("v-scx"),bx=()=>In(yx);function Er(t,n,r){return Dh(t,n,r)}function Dh(t,n,r=de){const{immediate:i,deep:o,flush:l,once:u}=r,c=qe({},r),d=n&&i||!n&&l!=="post";let y;if(oi){if(l==="sync"){const v=bx();y=v.__watcherHandles||(v.__watcherHandles=[])}else if(!d){const v=()=>{};return v.stop=Nn,v.resume=Nn,v.pause=Nn,v}}const g=Ue;c.call=(v,O,w)=>jn(v,g,O,w);let m=!1;l==="post"?c.scheduler=v=>{un(v,g&&g.suspense)}:l!=="sync"&&(m=!0,c.scheduler=(v,O)=>{O?v():eu(v)}),c.augmentJob=v=>{n&&(v.flags|=4),m&&(v.flags|=2,g&&(v.id=g.uid,v.i=g))};const b=Lb(t,n,c);return oi&&(y?y.push(b):d&&b()),b}function xx(t,n,r){const i=this.proxy,o=Oe(t)?t.includes(".")?Bh(i,t):()=>i[t]:t.bind(i,i);let l;Ht(n)?l=n:(l=n.handler,r=n);const u=gi(this),c=Dh(o,l.bind(i),r);return u(),c}function Bh(t,n){const r=n.split(".");return()=>{let i=t;for(let o=0;o<r.length&&i;o++)i=i[r[o]];return i}}const wx=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${kn(n)}Modifiers`]||t[`${Or(n)}Modifiers`];function kx(t,n,...r){if(t.isUnmounted)return;const i=t.vnode.props||de;let o=r;const l=n.startsWith("update:"),u=l&&wx(i,n.slice(7));u&&(u.trim&&(o=r.map(g=>Oe(g)?g.trim():g)),u.number&&(o=r.map(bo)));let c,d=i[c=ol(n)]||i[c=ol(kn(n))];!d&&l&&(d=i[c=ol(Or(n))]),d&&jn(d,t,6,o);const y=i[c+"Once"];if(y){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,jn(y,t,6,o)}}const Cx=new WeakMap;function zh(t,n,r=!1){const i=r?Cx:n.emitsCache,o=i.get(t);if(o!==void 0)return o;const l=t.emits;let u={},c=!1;if(!Ht(t)){const d=y=>{const g=zh(y,n,!0);g&&(c=!0,qe(u,g))};!r&&n.mixins.length&&n.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!l&&!c?(he(t)&&i.set(t,null),null):(Ut(l)?l.forEach(d=>u[d]=null):qe(u,l),he(t)&&i.set(t,u),u)}function No(t,n){return!t||!$o(n)?!1:(n=n.slice(2).replace(/Once$/,""),ae(t,n[0].toLowerCase()+n.slice(1))||ae(t,Or(n))||ae(t,n))}function nd(t){const{type:n,vnode:r,proxy:i,withProxy:o,propsOptions:[l],slots:u,attrs:c,emit:d,render:y,renderCache:g,props:m,data:b,setupState:v,ctx:O,inheritAttrs:w}=t,$=Co(t);let S,R;try{if(r.shapeFlag&4){const M=o||i,U=M;S=zn(y.call(U,M,g,m,v,b,O)),R=c}else{const M=n;S=zn(M.length>1?M(m,{attrs:c,slots:u,emit:d}):M(m,null)),R=n.props?c:Sx(c)}}catch(M){Xs.length=0,Bo(M,t,1),S=ce(Rr)}let A=S;if(R&&w!==!1){const M=Object.keys(R),{shapeFlag:U}=A;M.length&&U&7&&(l&&M.some(ql)&&(R=Ex(R,l)),A=ys(A,R,!1,!0))}return r.dirs&&(A=ys(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(r.dirs):r.dirs),r.transition&&nu(A,r.transition),S=A,Co($),S}const Sx=t=>{let n;for(const r in t)(r==="class"||r==="style"||$o(r))&&((n||(n={}))[r]=t[r]);return n},Ex=(t,n)=>{const r={};for(const i in t)(!ql(i)||!(i.slice(9)in n))&&(r[i]=t[i]);return r};function Ax(t,n,r){const{props:i,children:o,component:l}=t,{props:u,children:c,patchFlag:d}=n,y=l.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return i?rd(i,u,y):!!u;if(d&8){const g=n.dynamicProps;for(let m=0;m<g.length;m++){const b=g[m];if(u[b]!==i[b]&&!No(y,b))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:i===u?!1:i?u?rd(i,u,y):!0:!!u;return!1}function rd(t,n,r){const i=Object.keys(n);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const l=i[o];if(n[l]!==t[l]&&!No(r,l))return!0}return!1}function Tx({vnode:t,parent:n},r){for(;n;){const i=n.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=n.vnode).el=r,n=n.parent;else break}}const Nh=t=>t.__isSuspense;function Rx(t,n){n&&n.pendingBranch?Ut(t)?n.effects.push(...t):n.effects.push(t):Bb(t)}const Wt=Symbol.for("v-fgt"),Uo=Symbol.for("v-txt"),Rr=Symbol.for("v-cmt"),po=Symbol.for("v-stc"),Xs=[];let dn=null;function K(t=!1){Xs.push(dn=t?null:[])}function Ox(){Xs.pop(),dn=Xs[Xs.length-1]||null}let ii=1;function To(t,n=!1){ii+=t,t<0&&dn&&n&&(dn.hasOnce=!0)}function Uh(t){return t.dynamicChildren=ii>0?dn||hs:null,Ox(),ii>0&&dn&&dn.push(t),t}function G(t,n,r,i,o,l){return Uh(f(t,n,r,i,o,l,!0))}function Ix(t,n,r,i,o){return Uh(ce(t,n,r,i,o,!0))}function Ro(t){return t?t.__v_isVNode===!0:!1}function js(t,n){return t.type===n.type&&t.key===n.key}const Fh=({key:t})=>t??null,go=({ref:t,ref_key:n,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Oe(t)||je(t)||Ht(t)?{i:fn,r:t,k:n,f:!!r}:t:null);function f(t,n=null,r=null,i=0,o=null,l=t===Wt?0:1,u=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&Fh(n),ref:n&&go(n),scopeId:_h,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:fn};return c?(iu(d,r),l&128&&t.normalize(d)):r&&(d.shapeFlag|=Oe(r)?8:16),ii>0&&!u&&dn&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&dn.push(d),d}const ce=$x;function $x(t,n=null,r=null,i=0,o=null,l=!1){if((!t||t===Xb)&&(t=Rr),Ro(t)){const c=ys(t,n,!0);return r&&iu(c,r),ii>0&&!l&&dn&&(c.shapeFlag&6?dn[dn.indexOf(t)]=c:dn.push(c)),c.patchFlag=-2,c}if(qx(t)&&(t=t.__vccOpts),n){n=Px(n);let{class:c,style:d}=n;c&&!Oe(c)&&(n.class=me(c)),he(d)&&(tu(d)&&!Ut(d)&&(d=qe({},d)),n.style=Vr(d))}const u=Oe(t)?1:Nh(t)?128:Nb(t)?64:he(t)?4:Ht(t)?2:0;return f(t,n,r,i,o,u,l,!0)}function Px(t){return t?tu(t)||Th(t)?qe({},t):t:null}function ys(t,n,r=!1,i=!1){const{props:o,ref:l,patchFlag:u,children:c,transition:d}=t,y=n?Lx(o||{},n):o,g={__v_isVNode:!0,__v_skip:!0,type:t.type,props:y,key:y&&Fh(y),ref:n&&n.ref?r&&l?Ut(l)?l.concat(go(n)):[l,go(n)]:go(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Wt?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:d,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ys(t.ssContent),ssFallback:t.ssFallback&&ys(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return d&&i&&nu(g,d.clone(g)),g}function ve(t=" ",n=0){return ce(Uo,null,t,n)}function qr(t,n){const r=ce(po,null,t);return r.staticCount=n,r}function Tt(t="",n=!1){return n?(K(),Ix(Rr,null,t)):ce(Rr,null,t)}function zn(t){return t==null||typeof t=="boolean"?ce(Rr):Ut(t)?ce(Wt,null,t.slice()):Ro(t)?wr(t):ce(Uo,null,String(t))}function wr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ys(t)}function iu(t,n){let r=0;const{shapeFlag:i}=t;if(n==null)n=null;else if(Ut(n))r=16;else if(typeof n=="object")if(i&65){const o=n.default;o&&(o._c&&(o._d=!1),iu(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=n._;!o&&!Th(n)?n._ctx=fn:o===3&&fn&&(fn.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Ht(n)?(n={default:n,_ctx:fn},r=32):(n=String(n),i&64?(r=16,n=[ve(n)]):r=8);t.children=n,t.shapeFlag|=r}function Lx(...t){const n={};for(let r=0;r<t.length;r++){const i=t[r];for(const o in i)if(o==="class")n.class!==i.class&&(n.class=me([n.class,i.class]));else if(o==="style")n.style=Vr([n.style,i.style]);else if($o(o)){const l=n[o],u=i[o];u&&l!==u&&!(Ut(l)&&l.includes(u))&&(n[o]=l?[].concat(l,u):u)}else o!==""&&(n[o]=i[o])}return n}function Dn(t,n,r,i=null){jn(t,n,7,[r,i])}const Mx=Sh();let Dx=0;function Bx(t,n,r){const i=t.type,o=(n?n.appContext:t.appContext)||Mx,l={uid:Dx++,vnode:t,type:i,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ab(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oh(i,o),emitsOptions:zh(i,o),emit:null,emitted:null,propsDefaults:de,inheritAttrs:i.inheritAttrs,ctx:de,data:de,props:de,attrs:de,slots:de,refs:de,setupState:de,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=kx.bind(null,l),t.ce&&t.ce(l),l}let Ue=null;const zx=()=>Ue||fn;let Oo,$l;{const t=Mo(),n=(r,i)=>{let o;return(o=t[r])||(o=t[r]=[]),o.push(i),l=>{o.length>1?o.forEach(u=>u(l)):o[0](l)}};Oo=n("__VUE_INSTANCE_SETTERS__",r=>Ue=r),$l=n("__VUE_SSR_SETTERS__",r=>oi=r)}const gi=t=>{const n=Ue;return Oo(t),t.scope.on(),()=>{t.scope.off(),Oo(n)}},sd=()=>{Ue&&Ue.scope.off(),Oo(null)};function jh(t){return t.vnode.shapeFlag&4}let oi=!1;function Nx(t,n=!1,r=!1){n&&$l(n);const{props:i,children:o}=t.vnode,l=jh(t);ux(t,i,l,n),hx(t,o,r||n);const u=l?Ux(t,n):void 0;return n&&$l(!1),u}function Ux(t,n){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ex);const{setup:i}=r;if(i){ar();const o=t.setupContext=i.length>1?jx(t):null,l=gi(t),u=hi(i,t,0,[t.props,o]),c=qd(u);if(lr(),l(),(c||t.sp)&&!Js(t)&&bh(t),c){if(u.then(sd,sd),n)return u.then(d=>{id(t,d)}).catch(d=>{Bo(d,t,0)});t.asyncDep=u}else id(t,u)}else Wh(t)}function id(t,n,r){Ht(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:he(n)&&(t.setupState=hh(n)),Wh(t)}function Wh(t,n,r){const i=t.type;t.render||(t.render=i.render||Nn);{const o=gi(t);ar();try{nx(t)}finally{lr(),o()}}}const Fx={get(t,n){return Ne(t,"get",""),t[n]}};function jx(t){const n=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Fx),slots:t.slots,emit:t.emit,expose:n}}function Fo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hh(Ab(t.exposed)),{get(n,r){if(r in n)return n[r];if(r in Qs)return Qs[r](t)},has(n,r){return r in n||r in Qs}})):t.proxy}function Wx(t,n=!0){return Ht(t)?t.displayName||t.name:t.name||n&&t.__name}function qx(t){return Ht(t)&&"__vccOpts"in t}const le=(t,n)=>$b(t,n,oi);function qh(t,n,r){try{To(-1);const i=arguments.length;return i===2?he(n)&&!Ut(n)?Ro(n)?ce(t,null,[n]):ce(t,n):ce(t,null,n):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ro(r)&&(r=[r]),ce(t,n,r))}finally{To(1)}}const Hx="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pl;const od=typeof window<"u"&&window.trustedTypes;if(od)try{Pl=od.createPolicy("vue",{createHTML:t=>t})}catch{}const Hh=Pl?t=>Pl.createHTML(t):t=>t,Vx="http://www.w3.org/2000/svg",Kx="http://www.w3.org/1998/Math/MathML",nr=typeof document<"u"?document:null,ad=nr&&nr.createElement("template"),Gx={insert:(t,n,r)=>{n.insertBefore(t,r||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,r,i)=>{const o=n==="svg"?nr.createElementNS(Vx,t):n==="mathml"?nr.createElementNS(Kx,t):r?nr.createElement(t,{is:r}):nr.createElement(t);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>nr.createTextNode(t),createComment:t=>nr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>nr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,r,i,o,l){const u=r?r.previousSibling:n.lastChild;if(o&&(o===l||o.nextSibling))for(;n.insertBefore(o.cloneNode(!0),r),!(o===l||!(o=o.nextSibling)););else{ad.innerHTML=Hh(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const c=ad.content;if(i==="svg"||i==="mathml"){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}n.insertBefore(c,r)}return[u?u.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}},Zx=Symbol("_vtc");function Yx(t,n,r){const i=t[Zx];i&&(n=(n?[n,...i]:[...i]).join(" ")),n==null?t.removeAttribute("class"):r?t.setAttribute("class",n):t.className=n}const ld=Symbol("_vod"),Jx=Symbol("_vsh"),Qx=Symbol(""),Xx=/(?:^|;)\s*display\s*:/;function tw(t,n,r){const i=t.style,o=Oe(r);let l=!1;if(r&&!o){if(n)if(Oe(n))for(const u of n.split(";")){const c=u.slice(0,u.indexOf(":")).trim();r[c]==null&&mo(i,c,"")}else for(const u in n)r[u]==null&&mo(i,u,"");for(const u in r)u==="display"&&(l=!0),mo(i,u,r[u])}else if(o){if(n!==r){const u=i[Qx];u&&(r+=";"+u),i.cssText=r,l=Xx.test(r)}}else n&&t.removeAttribute("style");ld in t&&(t[ld]=l?i.display:"",t[Jx]&&(i.display="none"))}const ud=/\s*!important$/;function mo(t,n,r){if(Ut(r))r.forEach(i=>mo(t,n,i));else if(r==null&&(r=""),n.startsWith("--"))t.setProperty(n,r);else{const i=ew(t,n);ud.test(r)?t.setProperty(Or(i),r.replace(ud,""),"important"):t[i]=r}}const cd=["Webkit","Moz","ms"],hl={};function ew(t,n){const r=hl[n];if(r)return r;let i=kn(n);if(i!=="filter"&&i in t)return hl[n]=i;i=Lo(i);for(let o=0;o<cd.length;o++){const l=cd[o]+i;if(l in t)return hl[n]=l}return n}const fd="http://www.w3.org/1999/xlink";function dd(t,n,r,i,o,l=ib(n)){i&&n.startsWith("xlink:")?r==null?t.removeAttributeNS(fd,n.slice(6,n.length)):t.setAttributeNS(fd,n,r):r==null||l&&!Gd(r)?t.removeAttribute(n):t.setAttribute(n,l?"":Fn(r)?String(r):r)}function hd(t,n,r,i,o){if(n==="innerHTML"||n==="textContent"){r!=null&&(t[n]=n==="innerHTML"?Hh(r):r);return}const l=t.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const c=l==="OPTION"?t.getAttribute("value")||"":t.value,d=r==null?t.type==="checkbox"?"on":"":String(r);(c!==d||!("_value"in t))&&(t.value=d),r==null&&t.removeAttribute(n),t._value=r;return}let u=!1;if(r===""||r==null){const c=typeof t[n];c==="boolean"?r=Gd(r):r==null&&c==="string"?(r="",u=!0):c==="number"&&(r=0,u=!0)}try{t[n]=r}catch{}u&&t.removeAttribute(o||n)}function Cr(t,n,r,i){t.addEventListener(n,r,i)}function nw(t,n,r,i){t.removeEventListener(n,r,i)}const pd=Symbol("_vei");function rw(t,n,r,i,o=null){const l=t[pd]||(t[pd]={}),u=l[n];if(i&&u)u.value=i;else{const[c,d]=sw(n);if(i){const y=l[n]=aw(i,o);Cr(t,c,y,d)}else u&&(nw(t,c,u,d),l[n]=void 0)}}const gd=/(?:Once|Passive|Capture)$/;function sw(t){let n;if(gd.test(t)){n={};let i;for(;i=t.match(gd);)t=t.slice(0,t.length-i[0].length),n[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Or(t.slice(2)),n]}let pl=0;const iw=Promise.resolve(),ow=()=>pl||(iw.then(()=>pl=0),pl=Date.now());function aw(t,n){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;jn(lw(i,r.value),n,5,[i])};return r.value=t,r.attached=ow(),r}function lw(t,n){if(Ut(n)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},n.map(i=>o=>!o._stopped&&i&&i(o))}else return n}const md=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uw=(t,n,r,i,o,l)=>{const u=o==="svg";n==="class"?Yx(t,i,u):n==="style"?tw(t,r,i):$o(n)?ql(n)||rw(t,n,r,i,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):cw(t,n,i,u))?(hd(t,n,i),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&dd(t,n,i,u,l,n!=="value")):t._isVueCE&&(/[A-Z]/.test(n)||!Oe(i))?hd(t,kn(n),i,l,n):(n==="true-value"?t._trueValue=i:n==="false-value"&&(t._falseValue=i),dd(t,n,i,u))};function cw(t,n,r,i){if(i)return!!(n==="innerHTML"||n==="textContent"||n in t&&md(n)&&Ht(r));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return md(n)&&Oe(r)?!1:n in t}const bs=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Ut(n)?r=>fo(n,r):n};function fw(t){t.target.composing=!0}function vd(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const or=Symbol("_assign"),Ft={created(t,{modifiers:{lazy:n,trim:r,number:i}},o){t[or]=bs(o);const l=i||o.props&&o.props.type==="number";Cr(t,n?"change":"input",u=>{if(u.target.composing)return;let c=t.value;r&&(c=c.trim()),l&&(c=bo(c)),t[or](c)}),r&&Cr(t,"change",()=>{t.value=t.value.trim()}),n||(Cr(t,"compositionstart",fw),Cr(t,"compositionend",vd),Cr(t,"change",vd))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:r,modifiers:{lazy:i,trim:o,number:l}},u){if(t[or]=bs(u),t.composing)return;const c=(l||t.type==="number")&&!/^0\d/.test(t.value)?bo(t.value):t.value,d=n??"";c!==d&&(document.activeElement===t&&t.type!=="range"&&(i&&n===r||o&&t.value.trim()===d)||(t.value=d))}},dw={deep:!0,created(t,n,r){t[or]=bs(r),Cr(t,"change",()=>{const i=t._modelValue,o=li(t),l=t.checked,u=t[or];if(Ut(i)){const c=Kl(i,o),d=c!==-1;if(l&&!d)u(i.concat(o));else if(!l&&d){const y=[...i];y.splice(c,1),u(y)}}else if(ks(i)){const c=new Set(i);l?c.add(o):c.delete(o),u(c)}else u(Vh(t,l))})},mounted:_d,beforeUpdate(t,n,r){t[or]=bs(r),_d(t,n,r)}};function _d(t,{value:n,oldValue:r},i){t._modelValue=n;let o;if(Ut(n))o=Kl(n,i.props.value)>-1;else if(ks(n))o=n.has(i.props.value);else{if(n===r)return;o=di(n,Vh(t,!0))}t.checked!==o&&(t.checked=o)}const ai={deep:!0,created(t,{value:n,modifiers:{number:r}},i){const o=ks(n);Cr(t,"change",()=>{const l=Array.prototype.filter.call(t.options,u=>u.selected).map(u=>r?bo(li(u)):li(u));t[or](t.multiple?o?new Set(l):l:l[0]),t._assigning=!0,pi(()=>{t._assigning=!1})}),t[or]=bs(i)},mounted(t,{value:n}){yd(t,n)},beforeUpdate(t,n,r){t[or]=bs(r)},updated(t,{value:n}){t._assigning||yd(t,n)}};function yd(t,n){const r=t.multiple,i=Ut(n);if(!(r&&!i&&!ks(n))){for(let o=0,l=t.options.length;o<l;o++){const u=t.options[o],c=li(u);if(r)if(i){const d=typeof c;d==="string"||d==="number"?u.selected=n.some(y=>String(y)===String(c)):u.selected=Kl(n,c)>-1}else u.selected=n.has(c);else if(di(li(u),n)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function li(t){return"_value"in t?t._value:t.value}function Vh(t,n){const r=n?"_trueValue":"_falseValue";return r in t?t[r]:n}const hw=["ctrl","shift","alt","meta"],pw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>hw.some(r=>t[`${r}Key`]&&!n.includes(r))},We=(t,n)=>{const r=t._withMods||(t._withMods={}),i=n.join(".");return r[i]||(r[i]=(o,...l)=>{for(let u=0;u<n.length;u++){const c=pw[n[u]];if(c&&c(o,n))return}return t(o,...l)})},gw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},mw=(t,n)=>{const r=t._withKeys||(t._withKeys={}),i=n.join(".");return r[i]||(r[i]=o=>{if(!("key"in o))return;const l=Or(o.key);if(n.some(u=>u===l||gw[u]===l))return t(o)})},vw=qe({patchProp:uw},Gx);let bd;function _w(){return bd||(bd=gx(vw))}const yw=(...t)=>{const n=_w().createApp(...t),{mount:r}=n;return n.mount=i=>{const o=xw(i);if(!o)return;const l=n._component;!Ht(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const u=r(o,!1,bw(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},n};function bw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xw(t){return Oe(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ds=typeof document<"u";function Kh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ww(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Kh(t.default)}const ie=Object.assign;function gl(t,n){const r={};for(const i in n){const o=n[i];r[i]=$n(o)?o.map(t):t(o)}return r}const ti=()=>{},$n=Array.isArray,Gh=/#/g,kw=/&/g,Cw=/\//g,Sw=/=/g,Ew=/\?/g,Zh=/\+/g,Aw=/%5B/g,Tw=/%5D/g,Yh=/%5E/g,Rw=/%60/g,Jh=/%7B/g,Ow=/%7C/g,Qh=/%7D/g,Iw=/%20/g;function ou(t){return encodeURI(""+t).replace(Ow,"|").replace(Aw,"[").replace(Tw,"]")}function $w(t){return ou(t).replace(Jh,"{").replace(Qh,"}").replace(Yh,"^")}function Ll(t){return ou(t).replace(Zh,"%2B").replace(Iw,"+").replace(Gh,"%23").replace(kw,"%26").replace(Rw,"`").replace(Jh,"{").replace(Qh,"}").replace(Yh,"^")}function Pw(t){return Ll(t).replace(Sw,"%3D")}function Lw(t){return ou(t).replace(Gh,"%23").replace(Ew,"%3F")}function Mw(t){return t==null?"":Lw(t).replace(Cw,"%2F")}function ui(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Dw=/\/$/,Bw=t=>t.replace(Dw,"");function ml(t,n,r="/"){let i,o={},l="",u="";const c=n.indexOf("#");let d=n.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(i=n.slice(0,d),l=n.slice(d+1,c>-1?c:n.length),o=t(l)),c>-1&&(i=i||n.slice(0,c),u=n.slice(c,n.length)),i=Fw(i??n,r),{fullPath:i+(l&&"?")+l+u,path:i,query:o,hash:ui(u)}}function zw(t,n){const r=n.query?t(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function xd(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function Nw(t,n,r){const i=n.matched.length-1,o=r.matched.length-1;return i>-1&&i===o&&xs(n.matched[i],r.matched[o])&&Xh(n.params,r.params)&&t(n.query)===t(r.query)&&n.hash===r.hash}function xs(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Xh(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(!Uw(t[r],n[r]))return!1;return!0}function Uw(t,n){return $n(t)?wd(t,n):$n(n)?wd(n,t):t===n}function wd(t,n){return $n(n)?t.length===n.length&&t.every((r,i)=>r===n[i]):t.length===1&&t[0]===n}function Fw(t,n){if(t.startsWith("/"))return t;if(!t)return n;const r=n.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let l=r.length-1,u,c;for(u=0;u<i.length;u++)if(c=i[u],c!==".")if(c==="..")l>1&&l--;else break;return r.slice(0,l).join("/")+"/"+i.slice(u).join("/")}const br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ci;(function(t){t.pop="pop",t.push="push"})(ci||(ci={}));var ei;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ei||(ei={}));function jw(t){if(!t)if(ds){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Bw(t)}const Ww=/^[^#]+#/;function qw(t,n){return t.replace(Ww,"#")+n}function Hw(t,n){const r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:n.behavior,left:i.left-r.left-(n.left||0),top:i.top-r.top-(n.top||0)}}const jo=()=>({left:window.scrollX,top:window.scrollY});function Vw(t){let n;if("el"in t){const r=t.el,i=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;n=Hw(o,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function kd(t,n){return(history.state?history.state.position-n:-1)+t}const Ml=new Map;function Kw(t,n){Ml.set(t,n)}function Gw(t){const n=Ml.get(t);return Ml.delete(t),n}let Zw=()=>location.protocol+"//"+location.host;function tp(t,n){const{pathname:r,search:i,hash:o}=n,l=t.indexOf("#");if(l>-1){let c=o.includes(t.slice(l))?t.slice(l).length:1,d=o.slice(c);return d[0]!=="/"&&(d="/"+d),xd(d,"")}return xd(r,t)+i+o}function Yw(t,n,r,i){let o=[],l=[],u=null;const c=({state:b})=>{const v=tp(t,location),O=r.value,w=n.value;let $=0;if(b){if(r.value=v,n.value=b,u&&u===O){u=null;return}$=w?b.position-w.position:0}else i(v);o.forEach(S=>{S(r.value,O,{delta:$,type:ci.pop,direction:$?$>0?ei.forward:ei.back:ei.unknown})})};function d(){u=r.value}function y(b){o.push(b);const v=()=>{const O=o.indexOf(b);O>-1&&o.splice(O,1)};return l.push(v),v}function g(){const{history:b}=window;b.state&&b.replaceState(ie({},b.state,{scroll:jo()}),"")}function m(){for(const b of l)b();l=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:d,listen:y,destroy:m}}function Cd(t,n,r,i=!1,o=!1){return{back:t,current:n,forward:r,replaced:i,position:window.history.length,scroll:o?jo():null}}function Jw(t){const{history:n,location:r}=window,i={value:tp(t,r)},o={value:n.state};o.value||l(i.value,{back:null,current:i.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(d,y,g){const m=t.indexOf("#"),b=m>-1?(r.host&&document.querySelector("base")?t:t.slice(m))+d:Zw()+t+d;try{n[g?"replaceState":"pushState"](y,"",b),o.value=y}catch(v){console.error(v),r[g?"replace":"assign"](b)}}function u(d,y){const g=ie({},n.state,Cd(o.value.back,d,o.value.forward,!0),y,{position:o.value.position});l(d,g,!0),i.value=d}function c(d,y){const g=ie({},o.value,n.state,{forward:d,scroll:jo()});l(g.current,g,!0);const m=ie({},Cd(i.value,d,null),{position:g.position+1},y);l(d,m,!1),i.value=d}return{location:i,state:o,push:c,replace:u}}function Qw(t){t=jw(t);const n=Jw(t),r=Yw(t,n.state,n.location,n.replace);function i(l,u=!0){u||r.pauseListeners(),history.go(l)}const o=ie({location:"",base:t,go:i,createHref:qw.bind(null,t)},n,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>n.state.value}),o}function Xw(t){return typeof t=="string"||t&&typeof t=="object"}function ep(t){return typeof t=="string"||typeof t=="symbol"}const np=Symbol("");var Sd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Sd||(Sd={}));function ws(t,n){return ie(new Error,{type:t,[np]:!0},n)}function er(t,n){return t instanceof Error&&np in t&&(n==null||!!(t.type&n))}const Ed="[^/]+?",t2={sensitive:!1,strict:!1,start:!0,end:!0},e2=/[.+*?^${}()[\]/\\]/g;function n2(t,n){const r=ie({},t2,n),i=[];let o=r.start?"^":"";const l=[];for(const y of t){const g=y.length?[]:[90];r.strict&&!y.length&&(o+="/");for(let m=0;m<y.length;m++){const b=y[m];let v=40+(r.sensitive?.25:0);if(b.type===0)m||(o+="/"),o+=b.value.replace(e2,"\\$&"),v+=40;else if(b.type===1){const{value:O,repeatable:w,optional:$,regexp:S}=b;l.push({name:O,repeatable:w,optional:$});const R=S||Ed;if(R!==Ed){v+=10;try{new RegExp(`(${R})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${O}" (${R}): `+M.message)}}let A=w?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;m||(A=$&&y.length<2?`(?:/${A})`:"/"+A),$&&(A+="?"),o+=A,v+=20,$&&(v+=-8),w&&(v+=-20),R===".*"&&(v+=-50)}g.push(v)}i.push(g)}if(r.strict&&r.end){const y=i.length-1;i[y][i[y].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const u=new RegExp(o,r.sensitive?"":"i");function c(y){const g=y.match(u),m={};if(!g)return null;for(let b=1;b<g.length;b++){const v=g[b]||"",O=l[b-1];m[O.name]=v&&O.repeatable?v.split("/"):v}return m}function d(y){let g="",m=!1;for(const b of t){(!m||!g.endsWith("/"))&&(g+="/"),m=!1;for(const v of b)if(v.type===0)g+=v.value;else if(v.type===1){const{value:O,repeatable:w,optional:$}=v,S=O in y?y[O]:"";if($n(S)&&!w)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const R=$n(S)?S.join("/"):S;if(!R)if($)b.length<2&&(g.endsWith("/")?g=g.slice(0,-1):m=!0);else throw new Error(`Missing required param "${O}"`);g+=R}}return g||"/"}return{re:u,score:i,keys:l,parse:c,stringify:d}}function r2(t,n){let r=0;for(;r<t.length&&r<n.length;){const i=n[r]-t[r];if(i)return i;r++}return t.length<n.length?t.length===1&&t[0]===80?-1:1:t.length>n.length?n.length===1&&n[0]===80?1:-1:0}function rp(t,n){let r=0;const i=t.score,o=n.score;for(;r<i.length&&r<o.length;){const l=r2(i[r],o[r]);if(l)return l;r++}if(Math.abs(o.length-i.length)===1){if(Ad(i))return 1;if(Ad(o))return-1}return o.length-i.length}function Ad(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const s2={type:0,value:""},i2=/[a-zA-Z0-9_]/;function o2(t){if(!t)return[[]];if(t==="/")return[[s2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(v){throw new Error(`ERR (${r})/"${y}": ${v}`)}let r=0,i=r;const o=[];let l;function u(){l&&o.push(l),l=[]}let c=0,d,y="",g="";function m(){y&&(r===0?l.push({type:0,value:y}):r===1||r===2||r===3?(l.length>1&&(d==="*"||d==="+")&&n(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:y,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):n("Invalid state to consume buffer"),y="")}function b(){y+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:d==="/"?(y&&m(),u()):d===":"?(m(),r=1):b();break;case 4:b(),r=i;break;case 1:d==="("?r=2:i2.test(d)?b():(m(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:r=3:g+=d;break;case 3:m(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,g="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${y}"`),m(),u(),o}function a2(t,n,r){const i=n2(o2(t.path),r),o=ie(i,{record:t,parent:n,children:[],alias:[]});return n&&!o.record.aliasOf==!n.record.aliasOf&&n.children.push(o),o}function l2(t,n){const r=[],i=new Map;n=Id({strict:!1,end:!0,sensitive:!1},n);function o(m){return i.get(m)}function l(m,b,v){const O=!v,w=Rd(m);w.aliasOf=v&&v.record;const $=Id(n,m),S=[w];if("alias"in m){const M=typeof m.alias=="string"?[m.alias]:m.alias;for(const U of M)S.push(Rd(ie({},w,{components:v?v.record.components:w.components,path:U,aliasOf:v?v.record:w})))}let R,A;for(const M of S){const{path:U}=M;if(b&&U[0]!=="/"){const rt=b.record.path,F=rt[rt.length-1]==="/"?"":"/";M.path=b.record.path+(U&&F+U)}if(R=a2(M,b,$),v?v.alias.push(R):(A=A||R,A!==R&&A.alias.push(R),O&&m.name&&!Od(R)&&u(m.name)),sp(R)&&d(R),w.children){const rt=w.children;for(let F=0;F<rt.length;F++)l(rt[F],R,v&&v.children[F])}v=v||R}return A?()=>{u(A)}:ti}function u(m){if(ep(m)){const b=i.get(m);b&&(i.delete(m),r.splice(r.indexOf(b),1),b.children.forEach(u),b.alias.forEach(u))}else{const b=r.indexOf(m);b>-1&&(r.splice(b,1),m.record.name&&i.delete(m.record.name),m.children.forEach(u),m.alias.forEach(u))}}function c(){return r}function d(m){const b=f2(m,r);r.splice(b,0,m),m.record.name&&!Od(m)&&i.set(m.record.name,m)}function y(m,b){let v,O={},w,$;if("name"in m&&m.name){if(v=i.get(m.name),!v)throw ws(1,{location:m});$=v.record.name,O=ie(Td(b.params,v.keys.filter(A=>!A.optional).concat(v.parent?v.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),m.params&&Td(m.params,v.keys.map(A=>A.name))),w=v.stringify(O)}else if(m.path!=null)w=m.path,v=r.find(A=>A.re.test(w)),v&&(O=v.parse(w),$=v.record.name);else{if(v=b.name?i.get(b.name):r.find(A=>A.re.test(b.path)),!v)throw ws(1,{location:m,currentLocation:b});$=v.record.name,O=ie({},b.params,m.params),w=v.stringify(O)}const S=[];let R=v;for(;R;)S.unshift(R.record),R=R.parent;return{name:$,path:w,params:O,matched:S,meta:c2(S)}}t.forEach(m=>l(m));function g(){r.length=0,i.clear()}return{addRoute:l,resolve:y,removeRoute:u,clearRoutes:g,getRoutes:c,getRecordMatcher:o}}function Td(t,n){const r={};for(const i of n)i in t&&(r[i]=t[i]);return r}function Rd(t){const n={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:u2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function u2(t){const n={},r=t.props||!1;if("component"in t)n.default=r;else for(const i in t.components)n[i]=typeof r=="object"?r[i]:r;return n}function Od(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function c2(t){return t.reduce((n,r)=>ie(n,r.meta),{})}function Id(t,n){const r={};for(const i in t)r[i]=i in n?n[i]:t[i];return r}function f2(t,n){let r=0,i=n.length;for(;r!==i;){const l=r+i>>1;rp(t,n[l])<0?i=l:r=l+1}const o=d2(t);return o&&(i=n.lastIndexOf(o,i-1)),i}function d2(t){let n=t;for(;n=n.parent;)if(sp(n)&&rp(t,n)===0)return n}function sp({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function h2(t){const n={};if(t===""||t==="?")return n;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const l=i[o].replace(Zh," "),u=l.indexOf("="),c=ui(u<0?l:l.slice(0,u)),d=u<0?null:ui(l.slice(u+1));if(c in n){let y=n[c];$n(y)||(y=n[c]=[y]),y.push(d)}else n[c]=d}return n}function $d(t){let n="";for(let r in t){const i=t[r];if(r=Pw(r),i==null){i!==void 0&&(n+=(n.length?"&":"")+r);continue}($n(i)?i.map(l=>l&&Ll(l)):[i&&Ll(i)]).forEach(l=>{l!==void 0&&(n+=(n.length?"&":"")+r,l!=null&&(n+="="+l))})}return n}function p2(t){const n={};for(const r in t){const i=t[r];i!==void 0&&(n[r]=$n(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return n}const g2=Symbol(""),Pd=Symbol(""),Wo=Symbol(""),au=Symbol(""),Dl=Symbol("");function Ws(){let t=[];function n(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function r(){t=[]}return{add:n,list:()=>t.slice(),reset:r}}function kr(t,n,r,i,o,l=u=>u()){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((c,d)=>{const y=b=>{b===!1?d(ws(4,{from:r,to:n})):b instanceof Error?d(b):Xw(b)?d(ws(2,{from:n,to:b})):(u&&i.enterCallbacks[o]===u&&typeof b=="function"&&u.push(b),c())},g=l(()=>t.call(i&&i.instances[o],n,r,y));let m=Promise.resolve(g);t.length<3&&(m=m.then(y)),m.catch(b=>d(b))})}function vl(t,n,r,i,o=l=>l()){const l=[];for(const u of t)for(const c in u.components){let d=u.components[c];if(!(n!=="beforeRouteEnter"&&!u.instances[c]))if(Kh(d)){const g=(d.__vccOpts||d)[n];g&&l.push(kr(g,r,i,u,c,o))}else{let y=d();l.push(()=>y.then(g=>{if(!g)throw new Error(`Couldn't resolve component "${c}" at "${u.path}"`);const m=ww(g)?g.default:g;u.mods[c]=g,u.components[c]=m;const v=(m.__vccOpts||m)[n];return v&&kr(v,r,i,u,c,o)()}))}}return l}function Ld(t){const n=In(Wo),r=In(au),i=le(()=>{const d=ms(t.to);return n.resolve(d)}),o=le(()=>{const{matched:d}=i.value,{length:y}=d,g=d[y-1],m=r.matched;if(!g||!m.length)return-1;const b=m.findIndex(xs.bind(null,g));if(b>-1)return b;const v=Md(d[y-2]);return y>1&&Md(g)===v&&m[m.length-1].path!==v?m.findIndex(xs.bind(null,d[y-2])):b}),l=le(()=>o.value>-1&&b2(r.params,i.value.params)),u=le(()=>o.value>-1&&o.value===r.matched.length-1&&Xh(r.params,i.value.params));function c(d={}){if(y2(d)){const y=n[ms(t.replace)?"replace":"push"](ms(t.to)).catch(ti);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>y),y}return Promise.resolve()}return{route:i,href:le(()=>i.value.href),isActive:l,isExactActive:u,navigate:c}}function m2(t){return t.length===1?t[0]:t}const v2=yh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ld,setup(t,{slots:n}){const r=Fe(Ld(t)),{options:i}=In(Wo),o=le(()=>({[Dd(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Dd(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const l=n.default&&m2(n.default(r));return t.custom?l:qh("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},l)}}}),_2=v2;function y2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function b2(t,n){for(const r in n){const i=n[r],o=t[r];if(typeof i=="string"){if(i!==o)return!1}else if(!$n(o)||o.length!==i.length||i.some((l,u)=>l!==o[u]))return!1}return!0}function Md(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Dd=(t,n,r)=>t??n??r,x2=yh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:r}){const i=In(Dl),o=le(()=>t.route||i.value),l=In(Pd,0),u=le(()=>{let y=ms(l);const{matched:g}=o.value;let m;for(;(m=g[y])&&!m.components;)y++;return y}),c=le(()=>o.value.matched[u.value]);ho(Pd,le(()=>u.value+1)),ho(g2,c),ho(Dl,o);const d=pt();return Er(()=>[d.value,c.value,t.name],([y,g,m],[b,v,O])=>{g&&(g.instances[m]=y,v&&v!==g&&y&&y===b&&(g.leaveGuards.size||(g.leaveGuards=v.leaveGuards),g.updateGuards.size||(g.updateGuards=v.updateGuards))),y&&g&&(!v||!xs(g,v)||!b)&&(g.enterCallbacks[m]||[]).forEach(w=>w(y))},{flush:"post"}),()=>{const y=o.value,g=t.name,m=c.value,b=m&&m.components[g];if(!b)return Bd(r.default,{Component:b,route:y});const v=m.props[g],O=v?v===!0?y.params:typeof v=="function"?v(y):v:null,$=qh(b,ie({},O,n,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(m.instances[g]=null)},ref:d}));return Bd(r.default,{Component:$,route:y})||$}}});function Bd(t,n){if(!t)return null;const r=t(n);return r.length===1?r[0]:r}const w2=x2;function k2(t){const n=l2(t.routes,t),r=t.parseQuery||h2,i=t.stringifyQuery||$d,o=t.history,l=Ws(),u=Ws(),c=Ws(),d=Tb(br);let y=br;ds&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=gl.bind(null,V=>""+V),m=gl.bind(null,Mw),b=gl.bind(null,ui);function v(V,tt){let lt,wt;return ep(V)?(lt=n.getRecordMatcher(V),wt=tt):wt=V,n.addRoute(wt,lt)}function O(V){const tt=n.getRecordMatcher(V);tt&&n.removeRoute(tt)}function w(){return n.getRoutes().map(V=>V.record)}function $(V){return!!n.getRecordMatcher(V)}function S(V,tt){if(tt=ie({},tt||d.value),typeof V=="string"){const h=ml(r,V,tt.path),W=n.resolve({path:h.path},tt),j=o.createHref(h.fullPath);return ie(h,W,{params:b(W.params),hash:ui(h.hash),redirectedFrom:void 0,href:j})}let lt;if(V.path!=null)lt=ie({},V,{path:ml(r,V.path,tt.path).path});else{const h=ie({},V.params);for(const W in h)h[W]==null&&delete h[W];lt=ie({},V,{params:m(h)}),tt.params=m(tt.params)}const wt=n.resolve(lt,tt),dt=V.hash||"";wt.params=g(b(wt.params));const k=zw(i,ie({},V,{hash:$w(dt),path:wt.path})),L=o.createHref(k);return ie({fullPath:k,hash:dt,query:i===$d?p2(V.query):V.query||{}},wt,{redirectedFrom:void 0,href:L})}function R(V){return typeof V=="string"?ml(r,V,d.value.path):ie({},V)}function A(V,tt){if(y!==V)return ws(8,{from:tt,to:V})}function M(V){return F(V)}function U(V){return M(ie(R(V),{replace:!0}))}function rt(V){const tt=V.matched[V.matched.length-1];if(tt&&tt.redirect){const{redirect:lt}=tt;let wt=typeof lt=="function"?lt(V):lt;return typeof wt=="string"&&(wt=wt.includes("?")||wt.includes("#")?wt=R(wt):{path:wt},wt.params={}),ie({query:V.query,hash:V.hash,params:wt.path!=null?{}:V.params},wt)}}function F(V,tt){const lt=y=S(V),wt=d.value,dt=V.state,k=V.force,L=V.replace===!0,h=rt(lt);if(h)return F(ie(R(h),{state:typeof h=="object"?ie({},dt,h.state):dt,force:k,replace:L}),tt||lt);const W=lt;W.redirectedFrom=tt;let j;return!k&&Nw(i,wt,lt)&&(j=ws(16,{to:W,from:wt}),it(wt,wt,!0,!1)),(j?Promise.resolve(j):B(W,wt)).catch(C=>er(C)?er(C,2)?C:$t(C):Et(C,W,wt)).then(C=>{if(C){if(er(C,2))return F(ie({replace:L},R(C.to),{state:typeof C.to=="object"?ie({},dt,C.to.state):dt,force:k}),tt||W)}else C=E(W,wt,!0,L,dt);return nt(W,wt,C),C})}function z(V,tt){const lt=A(V,tt);return lt?Promise.reject(lt):Promise.resolve()}function D(V){const tt=At.values().next().value;return tt&&typeof tt.runWithContext=="function"?tt.runWithContext(V):V()}function B(V,tt){let lt;const[wt,dt,k]=C2(V,tt);lt=vl(wt.reverse(),"beforeRouteLeave",V,tt);for(const h of wt)h.leaveGuards.forEach(W=>{lt.push(kr(W,V,tt))});const L=z.bind(null,V,tt);return lt.push(L),yt(lt).then(()=>{lt=[];for(const h of l.list())lt.push(kr(h,V,tt));return lt.push(L),yt(lt)}).then(()=>{lt=vl(dt,"beforeRouteUpdate",V,tt);for(const h of dt)h.updateGuards.forEach(W=>{lt.push(kr(W,V,tt))});return lt.push(L),yt(lt)}).then(()=>{lt=[];for(const h of k)if(h.beforeEnter)if($n(h.beforeEnter))for(const W of h.beforeEnter)lt.push(kr(W,V,tt));else lt.push(kr(h.beforeEnter,V,tt));return lt.push(L),yt(lt)}).then(()=>(V.matched.forEach(h=>h.enterCallbacks={}),lt=vl(k,"beforeRouteEnter",V,tt,D),lt.push(L),yt(lt))).then(()=>{lt=[];for(const h of u.list())lt.push(kr(h,V,tt));return lt.push(L),yt(lt)}).catch(h=>er(h,8)?h:Promise.reject(h))}function nt(V,tt,lt){c.list().forEach(wt=>D(()=>wt(V,tt,lt)))}function E(V,tt,lt,wt,dt){const k=A(V,tt);if(k)return k;const L=tt===br,h=ds?history.state:{};lt&&(wt||L?o.replace(V.fullPath,ie({scroll:L&&h&&h.scroll},dt)):o.push(V.fullPath,dt)),d.value=V,it(V,tt,lt,L),$t()}let H;function _(){H||(H=o.listen((V,tt,lt)=>{if(!kt.listening)return;const wt=S(V),dt=rt(wt);if(dt){F(ie(dt,{replace:!0,force:!0}),wt).catch(ti);return}y=wt;const k=d.value;ds&&Kw(kd(k.fullPath,lt.delta),jo()),B(wt,k).catch(L=>er(L,12)?L:er(L,2)?(F(ie(R(L.to),{force:!0}),wt).then(h=>{er(h,20)&&!lt.delta&&lt.type===ci.pop&&o.go(-1,!1)}).catch(ti),Promise.reject()):(lt.delta&&o.go(-lt.delta,!1),Et(L,wt,k))).then(L=>{L=L||E(wt,k,!1),L&&(lt.delta&&!er(L,8)?o.go(-lt.delta,!1):lt.type===ci.pop&&er(L,20)&&o.go(-1,!1)),nt(wt,k,L)}).catch(ti)}))}let at=Ws(),Ct=Ws(),ut;function Et(V,tt,lt){$t(V);const wt=Ct.list();return wt.length?wt.forEach(dt=>dt(V,tt,lt)):console.error(V),Promise.reject(V)}function bt(){return ut&&d.value!==br?Promise.resolve():new Promise((V,tt)=>{at.add([V,tt])})}function $t(V){return ut||(ut=!V,_(),at.list().forEach(([tt,lt])=>V?lt(V):tt()),at.reset()),V}function it(V,tt,lt,wt){const{scrollBehavior:dt}=t;if(!ds||!dt)return Promise.resolve();const k=!lt&&Gw(kd(V.fullPath,0))||(wt||!lt)&&history.state&&history.state.scroll||null;return pi().then(()=>dt(V,tt,k)).then(L=>L&&Vw(L)).catch(L=>Et(L,V,tt))}const st=V=>o.go(V);let Pt;const At=new Set,kt={currentRoute:d,listening:!0,addRoute:v,removeRoute:O,clearRoutes:n.clearRoutes,hasRoute:$,getRoutes:w,resolve:S,options:t,push:M,replace:U,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:l.add,beforeResolve:u.add,afterEach:c.add,onError:Ct.add,isReady:bt,install(V){const tt=this;V.component("RouterLink",_2),V.component("RouterView",w2),V.config.globalProperties.$router=tt,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>ms(d)}),ds&&!Pt&&d.value===br&&(Pt=!0,M(o.location).catch(dt=>{}));const lt={};for(const dt in br)Object.defineProperty(lt,dt,{get:()=>d.value[dt],enumerable:!0});V.provide(Wo,tt),V.provide(au,fh(lt)),V.provide(Dl,d);const wt=V.unmount;At.add(V),V.unmount=function(){At.delete(V),At.size<1&&(y=br,H&&H(),H=null,d.value=br,Pt=!1,ut=!1),wt()}}};function yt(V){return V.reduce((tt,lt)=>tt.then(()=>D(lt)),Promise.resolve())}return kt}function C2(t,n){const r=[],i=[],o=[],l=Math.max(n.matched.length,t.matched.length);for(let u=0;u<l;u++){const c=n.matched[u];c&&(t.matched.find(y=>xs(y,c))?i.push(c):r.push(c));const d=t.matched[u];d&&(n.matched.find(y=>xs(y,d))||o.push(d))}return[r,i,o]}function mi(){return In(Wo)}function lu(t){return In(au)}const uu=(t,n)=>{const r=t.__vccOpts||t;for(const[i,o]of n)r[i]=o;return r},S2={key:0,class:"flex h-screen bg-slate-50 font-sans"},E2={class:"w-60 bg-white border-r border-slate-200 flex flex-col"},A2={class:"p-6 border-b border-slate-200"},T2={class:"text-base text-slate-500 mt-2"},R2={class:"flex-grow p-4 space-y-2"},O2={class:"flex-1 overflow-y-auto p-10"},I2={key:1},$2={__name:"App",setup(t){const n=lu(),r=mi(),i=pt(!1),o=pt({}),l=()=>{const y=localStorage.getItem("teacherToken"),g=localStorage.getItem("teacherInfo");i.value=!!y,o.value=g?JSON.parse(g):{}},u=le(()=>n.meta.layout||"default"),c=()=>{localStorage.clear(),l(),window.location.href="/auth"},d=y=>{(y.key==="teacherToken"||y.key==="teacherInfo")&&l()};return Ye(()=>{l(),window.addEventListener("storage",d),r.afterEach(()=>{l()})}),Kr(()=>{window.removeEventListener("storage",d)}),(y,g)=>{const m=Eo("router-link"),b=Eo("router-view");return u.value==="default"&&i.value?(K(),G("div",S2,[f("aside",E2,[f("div",A2,[g[0]||(g[0]=f("h1",{class:"text-3xl font-bold text-sky-600"},"智慧班級",-1)),f("p",T2,"歡迎，"+ct(o.value.name)+" 老師",1)]),f("nav",R2,[ce(m,{to:"/dashboard",class:"nav-link"},{default:cn(()=>[...g[1]||(g[1]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2a4 4 0 00-4-4H3V9h2a4 4 0 004-4V3l4 4-4 4zm11-1V9l-4-4 4-4v2a4 4 0 014 4h2v2h-2a4 4 0 01-4 4z"})],-1),f("span",{class:"text-lg"},"課堂儀表板",-1)])]),_:1}),ce(m,{to:"/seating-chart",class:"nav-link"},{default:cn(()=>[...g[2]||(g[2]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6z"})],-1),f("span",{class:"text-lg"},"座位表",-1)])]),_:1}),ce(m,{to:"/students",class:"nav-link"},{default:cn(()=>[...g[3]||(g[3]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),f("span",{class:"text-lg"},"學生管理",-1)])]),_:1}),ce(m,{to:"/grades",class:"nav-link"},{default:cn(()=>[...g[4]||(g[4]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),f("span",{class:"text-lg"},"成績管理",-1)])]),_:1}),ce(m,{to:"/assignments",class:"nav-link"},{default:cn(()=>[...g[5]||(g[5]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5V3a2 2 0 012-2h2a2 2 0 012 2v2"})],-1),f("span",{class:"text-lg"},"作業管理",-1)])]),_:1}),ce(m,{to:"/pingpong-teacher",class:"nav-link"},{default:cn(()=>[...g[6]||(g[6]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f("span",{class:"text-lg"},"PingPong",-1)])]),_:1}),ce(m,{to:"/quiz",class:"nav-link"},{default:cn(()=>[...g[7]||(g[7]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7",viewBox:"0 0 20 20",fill:"currentColor"},[f("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1),f("span",{class:"text-lg"},"搶答競賽",-1)])]),_:1}),ce(m,{to:"/",class:"nav-link"},{default:cn(()=>[...g[8]||(g[8]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),f("span",{class:"text-lg"},"首頁",-1)])]),_:1})]),f("div",{class:"p-6 mt-auto"},[f("button",{onClick:c,class:"w-full flex items-center justify-center gap-3 p-4 rounded-xl text-red-600 bg-red-100 hover:bg-red-200 transition-colors font-semibold text-lg"},[...g[9]||(g[9]=[f("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),f("span",null,"登出",-1)])])])]),f("main",O2,[ce(b)])])):(K(),G("div",I2,[ce(b)]))}}},P2=uu($2,[["__scopeId","data-v-21107c48"]]),Vt=(t,n={})=>{const r=localStorage.getItem("studentToken")||localStorage.getItem("teacherToken"),i={...n.headers};r&&(i.Authorization=`Bearer ${r}`),n.body instanceof FormData||(i["Content-Type"]="application/json");const o={...n,headers:i};return fetch(t,o)},L2={class:"flex justify-between items-start mb-8"},M2={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},D2={class:"card p-8 flex flex-col items-start hover:shadow-xl transition-shadow"},B2={class:"card p-8 flex flex-col items-start hover:shadow-xl transition-shadow"},z2={class:"card p-8 flex flex-col items-start hover:shadow-xl transition-shadow"},N2=["src"],U2={class:"mt-4 text-xl font-mono bg-gray-100 p-3 rounded-md"},F2={__name:"HomeView",setup(t){const n=pt(""),r=pt(!1),i=le(()=>n.value?`https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=${encodeURIComponent(n.value)}`:"");return Ye(async()=>{try{const l=await(await Vt("/api/server-info")).json();n.value=l.url}catch(o){console.error("無法獲取伺服器資訊:",o)}}),(o,l)=>{const u=Eo("router-link");return K(),G("div",null,[f("div",L2,[l[4]||(l[4]=f("div",null,[f("h1",{class:"text-4xl font-bold text-slate-800 mb-2"},"歡迎使用智慧班級系統"),f("p",{class:"text-lg text-slate-600"},"您可以從左側導覽列選擇功能，或透過下方快速入口開始。")],-1)),f("button",{onClick:l[0]||(l[0]=c=>r.value=!0),class:"btn btn-secondary flex items-center gap-2"},[...l[3]||(l[3]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v1m6 11h2m-6.5 6.5v1M4.5 12.5h-1M12 20.5v-1m7.5-6.5h1M4 12V6a2 2 0 012-2h6v6h6v6a2 2 0 01-2 2H6a2 2 0 01-2-2v-2m-2-4h2m18 0h2M12 7.5h6.5M7.5 12v6.5m7.5-11h2"})],-1),ve(" 顯示連線 QR Code ",-1)])])]),f("div",M2,[f("div",D2,[l[6]||(l[6]=qr('<div class="bg-sky-100 p-4 rounded-xl mb-4"><svg class="w-10 h-10 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2a4 4 0 00-4-4H3V9h2a4 4 0 004-4V3l4 4-4 4zm11-1V9l-4-4 4-4v2a4 4 0 014 4h2v2h-2a4 4 0 01-4 4z"></path></svg></div><h2 class="text-2xl font-bold text-slate-800">課堂儀表板</h2><p class="text-base text-slate-600 mt-2 flex-grow">即時掌握學生出缺席、課堂表現，並進行隨機抽籤。</p>',3)),ce(u,{to:"/dashboard",class:"btn btn-primary mt-6 w-full text-center"},{default:cn(()=>[...l[5]||(l[5]=[ve("前往儀表板",-1)])]),_:1})]),f("div",B2,[l[8]||(l[8]=qr('<div class="bg-teal-100 p-4 rounded-xl mb-4"><svg class="w-10 h-10 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><h2 class="text-2xl font-bold text-slate-800">學生管理</h2><p class="text-base text-slate-600 mt-2 flex-grow">管理班級學生名單、帳號、密碼，並支援批次匯入。</p>',3)),ce(u,{to:"/students",class:"btn bg-teal-500 hover:bg-teal-600 mt-6 w-full text-center"},{default:cn(()=>[...l[7]||(l[7]=[ve("管理學生",-1)])]),_:1})]),f("div",z2,[l[10]||(l[10]=qr('<div class="bg-amber-100 p-4 rounded-xl mb-4"><svg class="w-10 h-10 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h2 class="text-2xl font-bold text-slate-800">成績管理</h2><p class="text-base text-slate-600 mt-2 flex-grow">登錄平時測驗、定期評量成績，並查看課堂表現總分。</p>',3)),ce(u,{to:"/grades",class:"btn bg-amber-500 hover:bg-amber-600 mt-6 w-full text-center"},{default:cn(()=>[...l[9]||(l[9]=[ve("登錄成績",-1)])]),_:1})])]),r.value?(K(),G("div",{key:0,onClick:l[2]||(l[2]=c=>r.value=!1),class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4"},[f("div",{onClick:l[1]||(l[1]=We(()=>{},["stop"])),class:"bg-white p-8 rounded-2xl text-center"},[l[11]||(l[11]=f("h3",{class:"text-2xl font-bold mb-4"},"學生連線網址",-1)),f("img",{src:i.value,alt:"Connection QR Code",class:"w-80 h-80 md:w-96 md:h-96 lg:w-[500px] lg:h-[500px] mx-auto border-8 border-gray-200 rounded-lg"},null,8,N2),f("p",U2,ct(n.value),1),l[12]||(l[12]=f("p",{class:"mt-2 text-gray-500"},"請學生使用手機掃描，或在瀏覽器輸入上方網址",-1))])])):Tt("",!0)])}}},j2={class:"card p-8"},W2={class:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},q2={class:"flex gap-4 flex-wrap"},H2={class:"w-full md:w-1/3"},V2={key:0,class:"text-red-500 mb-4"},K2={key:1,class:"text-green-500 mb-4"},G2={class:"overflow-x-auto"},Z2={class:"min-w-full divide-y divide-gray-200"},Y2={class:"bg-slate-50"},J2={key:0},Q2={key:0},X2={key:0},tk={key:0},ek={key:0},nk={class:"bg-white divide-y divide-gray-200"},rk={key:0},sk={key:1},ik={class:"table-cell"},ok={class:"table-cell font-medium"},ak={class:"table-cell"},lk={class:"table-cell"},uk={class:"table-cell"},ck={class:"table-cell text-right"},fk=["onClick"],dk=["onClick"],hk={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},pk={class:"flex items-center justify-center min-h-screen"},gk={class:"bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all max-w-lg w-full"},mk={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},vk={class:"text-lg leading-6 font-medium text-gray-900"},_k={class:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4"},yk={class:"block text-sm font-medium text-gray-700"},bk=["required"],xk={class:"sm:col-span-2"},wk={key:0,class:"text-red-500 text-sm sm:col-span-2"},kk={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ck={__name:"StudentManagementView",setup(t){const n=pt([]),r=pt(!1),i=pt(null),o=pt({}),l=pt(!0),u=pt(""),c=pt(""),d=pt(""),y=pt(null),g=pt(null),m=pt(""),b=pt("seat_number"),v=pt("asc"),O=D=>D==null?"":String(D).padStart(2,"0"),w=le(()=>{let D=n.value;if(m.value){const B=m.value.toLowerCase();D=D.filter(nt=>{var E,H,_;return((E=nt.name)==null?void 0:E.toLowerCase().includes(B))||((H=nt.student_id)==null?void 0:H.toLowerCase().includes(B))||((_=nt.account)==null?void 0:_.toLowerCase().includes(B))})}return b.value&&D.sort((B,nt)=>{let E=B[b.value],H=nt[b.value];return b.value==="seat_number"&&(E=Number(E||1/0),H=Number(H||1/0)),E<H?v.value==="asc"?-1:1:E>H?v.value==="asc"?1:-1:0}),D}),$=D=>{b.value===D?v.value=v.value==="asc"?"desc":"asc":(b.value=D,v.value="asc")},S=async()=>{l.value=!0,u.value="";try{const D=await Vt("/api/students");if(!D.ok)throw new Error("無法讀取學生資料");n.value=await D.json()}catch(D){u.value=`錯誤: ${D.message}`}finally{l.value=!1}},R=D=>{d.value="",i.value=D,o.value=D?{...D,password:""}:{student_id:"",name:"",class:"",seat_number:"",gender:"",account:"",password:""},r.value=!0},A=async()=>{d.value="";const D=i.value?"PUT":"POST",B=i.value?`/api/students/${i.value.id}`:"/api/students",nt={...o.value};i.value&&!nt.password&&delete nt.password;try{const E=await Vt(B,{method:D,body:JSON.stringify(nt)}),H=await E.json();if(!E.ok)throw new Error(H.error||"儲存失敗");await S(),r.value=!1,c.value=`學生資料已成功${i.value?"更新":"新增"}！`,setTimeout(()=>c.value="",3e3)}catch(E){d.value=E.message}},M=async D=>{if(confirm("確定要刪除這位學生嗎？")){u.value="";try{const B=await Vt(`/api/students/${D}`,{method:"DELETE"});if(!B.ok)throw new Error((await B.json()).error||"刪除失敗");n.value=n.value.filter(nt=>nt.id!==D),c.value="學生已成功刪除！",setTimeout(()=>c.value="",3e3)}catch(B){u.value=`錯誤: ${B.message}`}}},U=()=>y.value.click(),rt=async D=>{const B=D.target.files[0];if(!B)return;const nt=new FormData;nt.append("file",B),u.value="",c.value="正在上傳並匯入資料...";try{const E=await Vt("/api/students/import",{method:"POST",body:nt}),H=await E.json();if(!E.ok)throw new Error(H.error||"匯入失敗");c.value=H.message||"匯入成功！",await S()}catch(E){u.value=`錯誤: ${E.message}`,c.value=""}finally{y.value.value=""}},F=()=>g.value.click(),z=async D=>{const B=D.target.files;if(!B.length)return;const nt=new FormData;for(const E of B)nt.append("photos",E);u.value="",c.value=`正在上傳 ${B.length} 張照片...`;try{const E=await Vt("/api/students/photos/upload",{method:"POST",body:nt}),H=await E.json();if(!E.ok)throw new Error(H.error||"照片上傳失敗");c.value=H.message||"照片上傳完成！",setTimeout(()=>c.value="",5e3)}catch(E){u.value=`錯誤: ${E.message}`,c.value=""}finally{g.value.value=""}};return Ye(S),(D,B)=>(K(),G("div",null,[B[31]||(B[31]=f("h1",{class:"text-4xl font-bold text-slate-800 mb-8"},"學生管理",-1)),f("div",j2,[f("div",W2,[f("div",q2,[f("button",{onClick:B[0]||(B[0]=nt=>R(null)),class:"btn btn-primary"}," 新增學生 "),f("div",null,[f("input",{type:"file",ref_key:"fileInput",ref:y,onChange:rt,class:"hidden",accept:".xlsx, .xls, .csv"},null,544),f("button",{onClick:U,class:"btn btn-success"}," 從檔案匯入 ")]),f("div",null,[f("input",{type:"file",ref_key:"photoInput",ref:g,onChange:z,multiple:"",class:"hidden",accept:"image/jpeg, image/png"},null,544),f("button",{onClick:F,class:"btn bg-orange-500 hover:bg-orange-600"}," 上傳學生照片 ")])]),f("div",H2,[Bt(f("input",{type:"text","onUpdate:modelValue":B[1]||(B[1]=nt=>m.value=nt),placeholder:"搜尋姓名、學號、帳號...",class:"form-input w-full text-base py-2"},null,512),[[Ft,m.value]])])]),u.value?(K(),G("p",V2,ct(u.value),1)):Tt("",!0),c.value?(K(),G("p",K2,ct(c.value),1)):Tt("",!0),f("div",G2,[f("table",Z2,[f("thead",Y2,[f("tr",null,[f("th",{onClick:B[2]||(B[2]=nt=>$("student_id")),class:"table-header cursor-pointer"},[B[16]||(B[16]=ve("學號 ",-1)),b.value==="student_id"?(K(),G("span",J2,ct(v.value==="asc"?"▲":"▼"),1)):Tt("",!0)]),f("th",{onClick:B[3]||(B[3]=nt=>$("name")),class:"table-header cursor-pointer"},[B[17]||(B[17]=ve("姓名 ",-1)),b.value==="name"?(K(),G("span",Q2,ct(v.value==="asc"?"▲":"▼"),1)):Tt("",!0)]),f("th",{onClick:B[4]||(B[4]=nt=>$("class")),class:"table-header cursor-pointer"},[B[18]||(B[18]=ve("班級 ",-1)),b.value==="class"?(K(),G("span",X2,ct(v.value==="asc"?"▲":"▼"),1)):Tt("",!0)]),f("th",{onClick:B[5]||(B[5]=nt=>$("seat_number")),class:"table-header cursor-pointer"},[B[19]||(B[19]=ve("座號 ",-1)),b.value==="seat_number"?(K(),G("span",tk,ct(v.value==="asc"?"▲":"▼"),1)):Tt("",!0)]),f("th",{onClick:B[6]||(B[6]=nt=>$("account")),class:"table-header cursor-pointer"},[B[20]||(B[20]=ve("帳號 ",-1)),b.value==="account"?(K(),G("span",ek,ct(v.value==="asc"?"▲":"▼"),1)):Tt("",!0)]),B[21]||(B[21]=f("th",{class:"table-header text-right"},"操作",-1))])]),f("tbody",nk,[l.value?(K(),G("tr",rk,[...B[22]||(B[22]=[f("td",{colspan:"6",class:"text-center py-4"},"正在載入學生資料...",-1)])])):w.value.length===0?(K(),G("tr",sk,[...B[23]||(B[23]=[f("td",{colspan:"6",class:"text-center py-4 text-gray-500"},"找不到符合條件的學生。",-1)])])):Tt("",!0),(K(!0),G(Wt,null,te(w.value,nt=>(K(),G("tr",{key:nt.id,class:"hover:bg-slate-50"},[f("td",ik,ct(nt.student_id),1),f("td",ok,ct(nt.name),1),f("td",ak,ct(nt.class),1),f("td",lk,ct(O(nt.seat_number)),1),f("td",uk,ct(nt.account),1),f("td",ck,[f("button",{onClick:We(E=>R(nt),["prevent"]),class:"text-indigo-600 hover:text-indigo-900 font-medium"},"編輯",8,fk),f("button",{onClick:We(E=>M(nt.id),["prevent"]),class:"text-red-600 hover:text-red-900 ml-4 font-medium"},"刪除",8,dk)])]))),128))])])])]),r.value?(K(),G("div",hk,[f("div",pk,[f("div",{class:"fixed inset-0 bg-gray-500 opacity-75",onClick:B[7]||(B[7]=nt=>r.value=!1)}),f("div",gk,[f("form",{onSubmit:We(A,["prevent"])},[f("div",mk,[f("h3",vk,ct(i.value?"編輯學生":"新增學生"),1),f("div",_k,[f("div",null,[B[24]||(B[24]=f("label",{class:"block text-sm font-medium text-gray-700"},"學號",-1)),Bt(f("input",{type:"text","onUpdate:modelValue":B[8]||(B[8]=nt=>o.value.student_id=nt),required:"",class:"mt-1 form-input"},null,512),[[Ft,o.value.student_id]])]),f("div",null,[B[25]||(B[25]=f("label",{class:"block text-sm font-medium text-gray-700"},"姓名",-1)),Bt(f("input",{type:"text","onUpdate:modelValue":B[9]||(B[9]=nt=>o.value.name=nt),required:"",class:"mt-1 form-input"},null,512),[[Ft,o.value.name]])]),f("div",null,[B[26]||(B[26]=f("label",{class:"block text-sm font-medium text-gray-700"},"帳號",-1)),Bt(f("input",{type:"text","onUpdate:modelValue":B[10]||(B[10]=nt=>o.value.account=nt),required:"",class:"mt-1 form-input"},null,512),[[Ft,o.value.account]])]),f("div",null,[f("label",yk,"密碼 ("+ct(i.value?"留空表示不變更":"必填")+")",1),Bt(f("input",{type:"password","onUpdate:modelValue":B[11]||(B[11]=nt=>o.value.password=nt),required:!i.value,class:"mt-1 form-input"},null,8,bk),[[Ft,o.value.password]])]),f("div",null,[B[27]||(B[27]=f("label",{class:"block text-sm font-medium text-gray-700"},"班級",-1)),Bt(f("input",{type:"text","onUpdate:modelValue":B[12]||(B[12]=nt=>o.value.class=nt),class:"mt-1 form-input"},null,512),[[Ft,o.value.class]])]),f("div",null,[B[28]||(B[28]=f("label",{class:"block text-sm font-medium text-gray-700"},"座號",-1)),Bt(f("input",{type:"number","onUpdate:modelValue":B[13]||(B[13]=nt=>o.value.seat_number=nt),class:"mt-1 form-input"},null,512),[[Ft,o.value.seat_number]])]),f("div",xk,[B[29]||(B[29]=f("label",{class:"block text-sm font-medium text-gray-700"},"性別",-1)),Bt(f("input",{type:"text","onUpdate:modelValue":B[14]||(B[14]=nt=>o.value.gender=nt),class:"mt-1 form-input"},null,512),[[Ft,o.value.gender]])]),d.value?(K(),G("p",wk,ct(d.value),1)):Tt("",!0)])]),f("div",kk,[B[30]||(B[30]=f("button",{type:"submit",class:"btn btn-primary w-full sm:w-auto"},"儲存",-1)),f("button",{type:"button",onClick:B[15]||(B[15]=nt=>r.value=!1),class:"btn btn-secondary mt-2 sm:mt-0 sm:ml-3 w-full sm:w-auto"},"取消")])],32)])])])):Tt("",!0)]))}},Sk=uu(Ck,[["__scopeId","data-v-0cf4172d"]]),Ek={class:"grid grid-cols-1 lg:grid-cols-5 gap-8"},Ak={class:"lg:col-span-1 card h-full"},Tk={class:"mb-4"},Rk={class:"max-h-[50vh] overflow-y-auto pr-2"},Ok=["onDragstart"],Ik={class:"font-bold text-sky-600"},$k={class:"space-y-3 mb-4"},Pk={class:"flex items-center"},Lk={class:"flex items-center"},Mk={key:0,class:"text-green-600 mt-2"},Dk={key:1,class:"text-red-600 mt-2"},Bk={class:"lg:col-span-4 card p-4"},zk={key:0,class:"text-center py-10"},Nk=["onDrop"],Uk={key:0,class:"w-full h-full p-2 relative flex flex-col justify-center items-center text-center"},Fk=["src"],jk={class:"font-bold truncate text-slate-800"},Wk={class:"text-sky-600"},qk={class:"text-gray-500 text-sm truncate"},Hk=["onClick"],Vk={key:1,class:"text-slate-400 text-sm"},Kk={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},Gk={class:"flex items-center justify-center min-h-screen"},Zk={class:"bg-white rounded-lg shadow-xl transform transition-all max-w-lg w-full"},Yk={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},_l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NkY2RjZCI+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgM2MxLjY2IDAgMyAxLjM0IDMgM3MtMS4zNCAzLTMgMy0zLTEuMzQtMy0zIDEuMzQtMyAzLTMzem0wIDE0LjJjLTIuNSAwLTQuNzEtMS4yOC02LTMuMjIuMDMtMS40OSw0LTMuMDggNi0zLjA4czUuOTcgMS4wOSA2IDMuMDhjLTEuMjkgMS45NC0zLjUgMy4yMi02IDMuMjJ6Ii8+PC9zdmc+",Jk={__name:"SeatingChartView",setup(t){const n=pt([]),r=pt(6),i=pt(5),o=pt({}),l=pt(!0),u=pt(""),c=pt(""),d=pt(""),y=pt(new Set),g=pt(!1),m=F=>F==null?"":String(F).padStart(2,"0"),b=le(()=>({display:"grid",gridTemplateColumns:`repeat(${i.value}, 1fr)`})),v=le(()=>{const F=new Set(Object.values(o.value).filter(Boolean).map(z=>z.id));return n.value.filter(z=>!F.has(z.id)).filter(z=>z.name.toLowerCase().includes(d.value.toLowerCase()))}),O=async()=>{l.value=!0,u.value="";try{const[F,z,D]=await Promise.all([Vt("/api/students"),Vt("/api/seating-chart"),Vt("/api/students/photos")]);if(!F.ok)throw new Error("無法讀取學生列表");if(n.value=await F.json(),!z.ok)throw new Error("無法讀取座位表資料");const B=await z.json();if(!D.ok)throw new Error("無法讀取學生照片列表");y.value=new Set(await D.json()),r.value=B.rows||6,i.value=B.cols||5,o.value=B.seats||{}}catch(F){u.value=F.message}finally{l.value=!1}},w=F=>{if(!(F!=null&&F.student_id))return _l;for(const z of[".jpg",".jpeg",".png"])if(y.value.has(F.student_id+z))return`/photos/${F.student_id}${z}?t=${new Date().getTime()}`;return _l},$=F=>{F.target.src=_l},S=(F,z)=>{F.dataTransfer.setData("studentId",z.id)},R=(F,z)=>{var nt;const D=parseInt(F.dataTransfer.getData("studentId"),10),B=n.value.find(E=>E.id===D);if(B){for(const E in o.value)((nt=o.value[E])==null?void 0:nt.id)===D&&(o.value[E]=null);o.value[z]=B}},A=F=>{o.value[F]=null},M=async()=>{u.value="",c.value="";try{const F=await Vt("/api/seating-chart",{method:"POST",body:JSON.stringify({rows:r.value,cols:i.value,seats:o.value})});if(!F.ok)throw new Error((await F.json()).error||"儲存失敗");c.value="座位表已成功儲存！",setTimeout(()=>c.value="",3e3)}catch(F){u.value=F.message}},U=()=>{g.value=!0},rt=()=>{const F=[...n.value].sort((D,B)=>(Number(D.seat_number)||1/0)-(Number(B.seat_number)||1/0)),z={};for(let D=0;D<r.value*i.value;D++)z[D]=F[D]||null;o.value=z,g.value=!1};return Ye(O),(F,z)=>(K(),G("div",null,[z[13]||(z[13]=f("h1",{class:"text-4xl font-bold text-slate-800 mb-8"},"座位表設定",-1)),f("div",Ek,[f("div",Ak,[z[9]||(z[9]=f("h2",{class:"text-2xl font-semibold mb-4"},"學生列表",-1)),f("div",Tk,[Bt(f("input",{type:"text","onUpdate:modelValue":z[0]||(z[0]=D=>d.value=D),placeholder:"搜尋學生...",class:"form-input w-full"},null,512),[[Ft,d.value]])]),f("div",Rk,[(K(!0),G(Wt,null,te(v.value,D=>(K(),G("div",{key:D.id,draggable:"true",onDragstart:B=>S(B,D),class:"p-3 mb-2 border rounded-lg cursor-grab bg-slate-100 hover:bg-sky-100 transition-colors flex items-center gap-3"},[f("span",Ik,ct(m(D.seat_number)),1),f("span",null,ct(D.name),1)],40,Ok))),128))]),z[10]||(z[10]=f("hr",{class:"my-6"},null,-1)),z[11]||(z[11]=f("h2",{class:"text-2xl font-semibold mb-4"},"版面設定",-1)),f("div",$k,[f("div",Pk,[z[7]||(z[7]=f("label",{class:"w-1/2 font-medium text-slate-700"},"行數:",-1)),Bt(f("input",{type:"number","onUpdate:modelValue":z[1]||(z[1]=D=>r.value=D),min:"1",max:"20",class:"form-input w-1/2 text-center"},null,512),[[Ft,r.value,void 0,{number:!0}]])]),f("div",Lk,[z[8]||(z[8]=f("label",{class:"w-1/2 font-medium text-slate-700"},"列數:",-1)),Bt(f("input",{type:"number","onUpdate:modelValue":z[2]||(z[2]=D=>i.value=D),min:"1",max:"20",class:"form-input w-1/2 text-center"},null,512),[[Ft,i.value,void 0,{number:!0}]])])]),f("button",{onClick:U,class:"w-full btn btn-success mb-3 px-0"}," 自動排列 "),f("button",{onClick:M,class:"w-full btn btn-primary px-0"}," 儲存座位表 "),c.value?(K(),G("p",Mk,ct(c.value),1)):Tt("",!0),u.value?(K(),G("p",Dk,ct(u.value),1)):Tt("",!0)]),f("div",Bk,[l.value?(K(),G("div",zk,"讀取中...")):(K(),G("div",{key:1,style:Vr(b.value),class:"grid gap-4"},[(K(!0),G(Wt,null,te(r.value*i.value,D=>(K(),G("div",{key:D,onDrop:B=>R(B,D-1),onDragover:z[3]||(z[3]=We(()=>{},["prevent"])),onDragenter:z[4]||(z[4]=We(()=>{},["prevent"])),class:me(["border-2 border-dashed rounded-lg h-36 flex flex-col justify-center items-center relative",{"bg-slate-50 hover:border-sky-400":!o.value[D-1],"bg-sky-50 border-sky-200":o.value[D-1]}])},[o.value[D-1]?(K(),G("div",Uk,[f("img",{src:w(o.value[D-1]),onError:$,class:"w-16 h-16 object-cover rounded-full bg-gray-200 mb-2 border-2 border-white shadow"},null,40,Fk),f("p",jk,[f("span",Wk,ct(m(o.value[D-1].seat_number))+".",1),ve(" "+ct(o.value[D-1].name),1)]),f("p",qk,ct(o.value[D-1].account),1),f("button",{onClick:B=>A(D-1),class:"absolute top-1 right-1 text-red-500 hover:text-red-700 bg-white rounded-full h-6 w-6 flex items-center justify-center shadow"},"✕",8,Hk)])):(K(),G("div",Vk,"(空位)"))],42,Nk))),128))],4))])]),g.value?(K(),G("div",Kk,[f("div",Gk,[f("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:z[5]||(z[5]=D=>g.value=!1)}),f("div",Zk,[z[12]||(z[12]=qr('<div class="p-6"><div class="flex items-start"><div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"><svg class="h-6 w-6 text-yellow-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"><h3 class="text-lg leading-6 font-medium text-gray-900"> 確認自動排列 </h3><div class="mt-2"><p class="text-sm text-gray-500"> 此操作將會覆蓋目前的座位表，您確定要依座號自動排列嗎？ </p></div></div></div></div>',1)),f("div",Yk,[f("button",{onClick:rt,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-yellow-500 text-base font-medium text-white hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 sm:ml-3 sm:w-auto sm:text-sm"}," 確認排列 "),f("button",{onClick:z[6]||(z[6]=D=>g.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm"}," 取消 ")])])])])):Tt("",!0)]))}},Qk={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mb-8"},Xk={class:"card h-full"},t4={class:"flex justify-between items-start mb-4"},e4={class:"text-xl font-semibold text-slate-700"},n4={key:0,class:"mt-2 text-center py-8"},r4={key:1,class:"grid grid-cols-3 gap-4 text-center"},s4={class:"text-5xl font-bold text-green-600"},i4={class:"text-5xl font-bold text-orange-500"},o4={class:"text-5xl font-bold text-red-600"},a4={class:"card flex flex-col items-center justify-center text-center h-full"},l4=["disabled"],u4={class:"card flex flex-col items-center justify-center text-center h-full"},c4={key:0,class:"text-5xl font-bold mt-4"},f4={key:1,class:"text-6xl font-bold text-slate-800 mt-4"},d4={key:0,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",role:"alert"},h4={class:"card p-4"},p4={key:0,class:"text-center py-16"},g4=["onClick"],m4={class:"absolute top-2 left-2 text-slate-500"},v4={key:0,class:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_4={key:1,class:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},y4={key:2,class:"w-6 h-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},b4={class:"flex-grow flex flex-col items-center justify-center"},x4=["src"],w4={class:"font-bold text-xl leading-tight mt-2"},k4={class:"text-sm text-slate-600"},C4={key:1,class:"text-slate-400 text-sm"},S4={key:1,class:"fixed z-20 inset-0 overflow-y-auto"},E4={class:"flex items-center justify-center min-h-screen"},A4={class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all my-8 max-w-sm w-full"},T4={class:"bg-white p-6"},R4={class:"text-2xl leading-6 font-bold text-gray-900 text-center mb-2"},O4={class:"my-4 text-center"},I4={class:"grid grid-cols-2 gap-4 mt-2"},$4={class:"bg-gray-50 px-4 py-3 text-right"},P4={key:2,class:"fixed z-30 inset-0 overflow-y-auto"},L4={class:"flex items-center justify-center min-h-screen"},M4={class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all my-8 max-w-5xl w-full"},D4={class:"bg-white px-6 pt-5 pb-4"},B4={class:"max-h-[60vh] overflow-y-auto pr-4"},z4={class:"col-span-1 font-semibold text-lg"},N4={class:"col-span-5 grid grid-cols-5 gap-2"},U4=["onClick"],F4={class:"bg-gray-100 px-6 py-4 flex justify-end space-x-4"},j4={key:3,class:"fixed z-40 inset-0 overflow-y-auto"},W4={class:"flex items-center justify-center min-h-screen"},q4={class:"inline-block bg-white rounded-2xl text-center overflow-hidden shadow-2xl transform transition-all my-8 max-w-md w-full relative border-4 border-yellow-400"},H4={class:"p-8 sm:p-12 relative"},V4={class:"text-8xl font-extrabold text-gray-900 my-4"},K4={class:"text-3xl text-gray-500 font-semibold"},G4={key:4,class:"fixed z-50 inset-0 overflow-y-auto"},Z4={class:"flex items-center justify-center min-h-screen p-4"},Y4={class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all my-8 max-w-6xl w-full"},J4={class:"bg-white px-6 pt-5 pb-4"},Q4={class:"flex items-center space-x-4 mb-4 p-4 bg-slate-50 rounded-md"},X4={class:"max-h-[60vh] overflow-y-auto"},t3={key:0,class:"text-center py-8"},e3={key:1,class:"min-w-full divide-y divide-gray-200"},n3={class:"bg-white divide-y divide-gray-200"},r3={class:"px-4 py-3 whitespace-nowrap"},s3={class:"px-4 py-3 whitespace-nowrap font-semibold"},i3={class:"px-4 py-3 text-center"},o3={class:"px-4 py-3 text-center"},a3={class:"px-4 py-3 text-center"},l3={class:"px-4 py-3 text-center"},u3={class:"px-4 py-3 text-center text-red-600 font-bold"},c3={class:"px-4 py-3 text-center font-medium"},f3={key:0},d3={key:1},h3={class:"bg-gray-100 px-6 py-4 flex justify-end"},yl="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NkY2RjZCI+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgM2MxLjY2IDAgMyAxLjM0IDMgM3MtMS4zNCAzLTMgMy0zLTEuMzQtMy0zIDEuMzQtMyAzLTMzem0wIDE0LjJjLTIuNSAwLTQuNzEtMS4yOC02LTMuMjIuMDMtMS45OSA0LTMuMDggNi0zLjA4czUuOTcgMS4wOSA2IDMuMDhjLTEuMjkgMS45NC0zLjUgMy4yMi02IDMuMjJ6Ii8+PC9zdmc+",p3={__name:"ClassroomDashboardView",setup(t){const n=pt([]),r=pt({rows:0,cols:0,seats:{}}),i=pt({}),o=pt({}),l=pt(!0),u=pt(""),c=pt(new Set),d=pt(!1),y=pt(!1),g=pt(!1),m=pt(null),b=pt({}),v=pt(!1),O=pt(null),w={present:{label:"出席",color:"green",bgColor:"bg-green-500",hoverBg:"hover:bg-green-200"},sick:{label:"病假",color:"orange",bgColor:"bg-orange-500",hoverBg:"hover:bg-orange-200"},official:{label:"公假",color:"blue",bgColor:"bg-blue-500",hoverBg:"hover:bg-blue-200"},personal:{label:"事假",color:"yellow",bgColor:"bg-yellow-500",hoverBg:"hover:bg-yellow-200"},absent:{label:"曠課",color:"red",bgColor:"bg-red-500",hoverBg:"hover:bg-red-200"}},$=pt(!1),S=pt(""),R=pt(""),A=pt([]),M=pt(!1),U=le(()=>new Date().toISOString().split("T")[0]),rt=le(()=>new Date().toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})),F=le(()=>({display:"grid",gridTemplateColumns:`repeat(${r.value.cols}, 1fr)`})),z=le(()=>Object.values(r.value.seats).filter(Boolean).length),D=le(()=>[...n.value].sort((dt,k)=>(Number(dt.seat_number)||1/0)-(Number(k.seat_number)||1/0))),B=le(()=>{const dt={present:0,leave:0,absent:0},k=Object.values(r.value.seats).filter(Boolean);return k.length&&k.forEach(L=>{const h=i.value[L.student_id];h==="present"?dt.present++:h==="absent"?dt.absent++:["sick","official","personal"].includes(h)?dt.leave++:dt.present++}),dt}),nt=le(()=>m.value&&o.value[m.value.student_id]||0),E=le(()=>{const dt=nt.value;return dt>0?"text-green-600":dt<0?"text-red-600":"text-gray-800"}),H=dt=>{if(!(dt!=null&&dt.student_id))return yl;for(const k of[".jpg",".jpeg",".png"])if(c.value.has(dt.student_id+k))return`/photos/${dt.student_id}${k}?t=${new Date().getTime()}`;return yl},_=dt=>{dt.target.src=yl},at=dt=>i.value[dt]||"present",Ct=dt=>{if(!dt)return"bg-slate-100 border-slate-200";if(O.value&&O.value.id===dt.id)return"ring-4 ring-offset-2 ring-indigo-500 scale-105 shadow-lg z-10 bg-white";const k=at(dt.student_id),L=w[k],h=k!=="present"?" opacity-50":"";return L?`bg-${L.color}-100 hover:bg-${L.color}-200 border-${L.color}-300${h}`:`bg-slate-200 hover:bg-slate-300 border-slate-400${h}`},ut=dt=>{if(!dt)return"bg-slate-800";const k=o.value[dt.student_id]||0;return k>0?"bg-green-600":k<0?"bg-red-600":"bg-slate-800"},Et=(dt,k)=>b.value[dt]===k?`${w[k].bgColor} text-white`:`bg-slate-200 ${w[k].hoverBg} text-slate-700`,bt=async()=>{l.value=!0,u.value="";try{const[dt,k,L]=await Promise.all([Vt(`/api/classroom-status?date=${U.value}`),Vt("/api/students"),Vt("/api/students/photos")]);if(!dt.ok)throw new Error("無法讀取課堂儀表板資料");if(!k.ok)throw new Error("無法讀取學生列表");if(!L.ok)throw new Error("無法讀取學生照片列表");const h=await dt.json();n.value=await k.json(),c.value=new Set(await L.json()),r.value=h.seatingChart||{rows:6,cols:5,seats:{}},o.value=h.performance||{};const W=h.attendance||{},j=Object.values(r.value.seats).filter(Boolean),C={};j.forEach(T=>{C[T.student_id]=W[T.student_id]||"present"}),i.value=C}catch(dt){u.value=`錯誤: ${dt.message}`}finally{l.value=!1}},$t=dt=>{if(!dt)return;(i.value[dt.student_id]||"present")==="present"&&it(dt)},it=dt=>{m.value=dt,d.value=!0},st=()=>{const dt={};n.value.forEach(k=>{dt[k.student_id]=i.value[k.student_id]||"present"}),b.value=dt,y.value=!0},Pt=(dt,k)=>{b.value[dt]=k},At=async()=>{const dt=[];for(const k in b.value)b.value[k]!==i.value[k]&&dt.push(Vt("/api/attendance",{method:"POST",body:JSON.stringify({student_id:k,date:U.value,status:b.value[k]})}));if(dt.length===0){y.value=!1;return}try{await Promise.all(dt),i.value={...b.value},y.value=!1}catch{u.value="儲存出缺席狀態時發生錯誤。請重新整理頁面。"}},kt=async dt=>{if(!m.value)return;const k=m.value.student_id;o.value[k]||(o.value[k]=0),o.value[k]+=dt;try{await Vt("/api/performance",{method:"POST",body:JSON.stringify({student_id:k,date:U.value,points:dt})})}catch{u.value="新增表現分數失敗",bt()}},yt=()=>{const dt=Object.keys(i.value).filter(W=>i.value[W]==="present"),k=n.value.filter(W=>dt.includes(W.student_id));if(k.length===0){alert("目前沒有標記為「出席」的學生可以抽籤。");return}v.value=!0,O.value=null;let L=0;const h=setInterval(()=>{const W=Math.floor(Math.random()*k.length);O.value=k[W],L++,L>20&&(clearInterval(h),v.value=!1,g.value=!0)},100)},V=()=>{g.value=!1,setTimeout(()=>{O.value=null},300)},tt=()=>{const dt=new Date,k=new Date;k.setDate(dt.getDate()-90),R.value=dt.toISOString().split("T")[0],S.value=k.toISOString().split("T")[0],$.value=!0,lt()},lt=async()=>{M.value=!0,u.value="";try{const dt=await Vt(`/api/attendance-summary?startDate=${S.value}&endDate=${R.value}`);if(!dt.ok)throw new Error("無法讀取學期統計資料");A.value=await dt.json()}catch(dt){u.value=dt.message}finally{M.value=!1}},wt=dt=>{const k=dt.present+dt.sick+dt.official+dt.personal+dt.absent;return k===0?null:(dt.present/k*100).toFixed(1)};return Ye(bt),(dt,k)=>(K(),G("div",null,[f("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8"},[k[10]||(k[10]=f("h1",{class:"text-4xl font-bold text-slate-800"},"班級儀表板",-1)),f("div",{class:"flex space-x-2 mt-4 md:mt-0"},[f("button",{onClick:st,class:"btn btn-secondary px-4 py-2 text-base"},"批次登記"),f("button",{onClick:tt,class:"btn bg-slate-600 hover:bg-slate-700 px-4 py-2 text-base"},"學期統計")])]),f("div",Qk,[f("div",Xk,[f("div",t4,[f("h2",e4,"今日出缺席 ("+ct(rt.value)+")",1)]),l.value?(K(),G("div",n4,"讀取中...")):(K(),G("div",r4,[f("div",null,[f("p",s4,ct(B.value.present),1),k[11]||(k[11]=f("p",{class:"text-base text-slate-500"},"出席",-1))]),f("div",null,[f("p",i4,ct(B.value.leave),1),k[12]||(k[12]=f("p",{class:"text-base text-slate-500"},"請假",-1))]),f("div",null,[f("p",o4,ct(B.value.absent),1),k[13]||(k[13]=f("p",{class:"text-base text-slate-500"},"曠課",-1))])]))]),f("div",a4,[k[14]||(k[14]=f("h2",{class:"text-xl font-semibold text-slate-700 mb-4"},"隨機抽籤",-1)),f("button",{onClick:yt,class:"btn btn-primary text-xl px-8 py-4 rounded-full",disabled:v.value},ct(v.value?"抽籤中...":"開始抽籤"),9,l4),k[15]||(k[15]=f("p",{class:"mt-3 text-sm h-8 text-slate-400"},"點擊按鈕從出席學生中抽籤",-1))]),f("div",u4,[k[17]||(k[17]=f("h2",{class:"text-xl font-semibold text-slate-700"},"座位表學生總數",-1)),l.value?(K(),G("p",c4,"...")):(K(),G("p",f4,[ve(ct(z.value)+" ",1),k[16]||(k[16]=f("span",{class:"text-2xl text-slate-500"},"人",-1))]))])]),u.value?(K(),G("div",d4,[k[18]||(k[18]=f("p",{class:"font-bold"},"發生錯誤：",-1)),f("p",null,ct(u.value),1)])):Tt("",!0),f("div",h4,[l.value?(K(),G("div",p4,"座位表讀取中...")):(K(),G("div",{key:1,style:Vr(F.value),class:"grid gap-3"},[(K(!0),G(Wt,null,te(r.value.rows*r.value.cols,L=>(K(),G("div",{key:L,class:me(["h-40 rounded-xl flex flex-col justify-center items-center text-center p-2 transition-all duration-300 relative border-2",Ct(r.value.seats[L-1])])},[r.value.seats[L-1]?(K(),G("div",{key:0,onClick:h=>$t(r.value.seats[L-1]),class:me(["w-full h-full flex flex-col justify-center items-center",(i.value[r.value.seats[L-1].student_id]||"present")==="present"?"cursor-pointer":"cursor-not-allowed"])},[f("div",{class:me(["absolute top-2 right-2 rounded-full h-9 w-9 flex items-center justify-center text-lg font-bold text-white shadow-md",ut(r.value.seats[L-1])])},ct(o.value[r.value.seats[L-1].student_id]||0),3),f("div",m4,[at(r.value.seats[L-1].student_id)==="sick"?(K(),G("svg",v4,[...k[19]||(k[19]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):Tt("",!0),["official","personal"].includes(at(r.value.seats[L-1].student_id))?(K(),G("svg",_4,[...k[20]||(k[20]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):Tt("",!0),at(r.value.seats[L-1].student_id)==="absent"?(K(),G("svg",y4,[...k[21]||(k[21]=[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},null,-1)])])):Tt("",!0)]),f("div",b4,[f("img",{src:H(r.value.seats[L-1]),onError:_,class:"w-20 h-20 object-cover rounded-full bg-gray-200 border-2 border-white shadow-sm"},null,40,x4),f("p",w4,ct(r.value.seats[L-1].name),1),f("p",k4,"("+ct(r.value.seats[L-1].seat_number)+")",1)])],10,g4)):(K(),G("div",C4,"(空位)"))],2))),128))],4))]),d.value?(K(),G("div",S4,[f("div",E4,[f("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:k[0]||(k[0]=L=>d.value=!1)},[...k[22]||(k[22]=[f("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)])]),f("div",A4,[f("div",T4,[f("h3",R4,ct(m.value.name),1),f("div",O4,[k[23]||(k[23]=f("p",{class:"text-base font-medium text-gray-500"},"本日累計分數",-1)),f("p",{class:me(["text-7xl font-bold",E.value])},ct(nt.value),3)]),f("div",null,[k[24]||(k[24]=f("h4",{class:"font-semibold text-center mt-6 text-gray-600"},"調整分數",-1)),f("div",I4,[f("button",{onClick:k[1]||(k[1]=L=>kt(1)),class:"btn btn-primary text-lg py-3"},"+1 分"),f("button",{onClick:k[2]||(k[2]=L=>kt(-1)),class:"btn btn-warning text-lg py-3"},"-1 分")])])]),f("div",$4,[f("button",{onClick:k[3]||(k[3]=L=>d.value=!1),type:"button",class:"btn btn-secondary"},"關閉")])])])])):Tt("",!0),y.value?(K(),G("div",P4,[f("div",L4,[f("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:k[4]||(k[4]=L=>y.value=!1)},[...k[25]||(k[25]=[f("div",{class:"absolute inset-0 bg-gray-600 opacity-75"},null,-1)])]),f("div",M4,[f("div",D4,[k[26]||(k[26]=f("h3",{class:"text-2xl font-bold text-gray-900 mb-4"},"批次登記今日出缺席",-1)),f("div",B4,[(K(!0),G(Wt,null,te(D.value,L=>(K(),G("div",{key:L.id,class:"grid grid-cols-6 gap-4 items-center mb-2 p-2 rounded-md hover:bg-slate-50"},[f("div",z4,ct(L.seat_number)+". "+ct(L.name),1),f("div",N4,[(K(!0),G(Wt,null,te(Object.keys(w),h=>(K(),G("button",{key:h,onClick:W=>Pt(L.student_id,h),class:me(["px-2 py-2 text-base rounded-md transition-colors",Et(L.student_id,h)])},ct(w[h].label),11,U4))),128))])]))),128))])]),f("div",F4,[f("button",{onClick:k[5]||(k[5]=L=>y.value=!1),type:"button",class:"btn btn-secondary text-base py-2 px-6"},"取消"),f("button",{onClick:At,type:"button",class:"btn bg-purple-600 hover:bg-purple-700 text-base py-2 px-6"},"儲存變更")])])])])):Tt("",!0),g.value&&O.value?(K(),G("div",j4,[f("div",W4,[f("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:V},[...k[27]||(k[27]=[f("div",{class:"absolute inset-0 bg-gray-800 opacity-75"},null,-1)])]),f("div",q4,[f("div",H4,[k[28]||(k[28]=f("p",{class:"text-xl font-medium text-indigo-600"},"恭喜！抽中了...",-1)),f("p",V4,ct(O.value.name),1),f("p",K4,ct(O.value.seat_number)+" 號",1),f("div",{class:"mt-8"},[f("button",{onClick:V,type:"button",class:"btn btn-primary text-lg px-8 py-3"}," 關閉 ")])])])])])):Tt("",!0),$.value?(K(),G("div",G4,[f("div",Z4,[f("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:k[6]||(k[6]=L=>$.value=!1)},[...k[29]||(k[29]=[f("div",{class:"absolute inset-0 bg-gray-600 opacity-75"},null,-1)])]),f("div",Y4,[f("div",J4,[k[33]||(k[33]=f("h3",{class:"text-2xl font-bold text-gray-900 mb-4"},"學期出缺席統計",-1)),f("div",Q4,[k[30]||(k[30]=f("label",{for:"startDate",class:"text-sm font-medium"},"開始日期:",-1)),Bt(f("input",{type:"date",id:"startDate","onUpdate:modelValue":k[7]||(k[7]=L=>S.value=L),class:"form-input"},null,512),[[Ft,S.value]]),k[31]||(k[31]=f("label",{for:"endDate",class:"text-sm font-medium"},"結束日期:",-1)),Bt(f("input",{type:"date",id:"endDate","onUpdate:modelValue":k[8]||(k[8]=L=>R.value=L),class:"form-input"},null,512),[[Ft,R.value]]),f("button",{onClick:lt,class:"btn btn-primary"},"查詢")]),f("div",X4,[M.value?(K(),G("div",t3,"正在讀取統計資料...")):(K(),G("table",e3,[k[32]||(k[32]=f("thead",{class:"bg-slate-50 sticky top-0"},[f("tr",null,[f("th",{class:"px-4 py-3 text-left text-sm font-medium uppercase"},"座號"),f("th",{class:"px-4 py-3 text-left text-sm font-medium uppercase"},"姓名"),f("th",{class:"px-4 py-3 text-center text-sm font-medium uppercase text-green-600"},"出席"),f("th",{class:"px-4 py-3 text-center text-sm font-medium uppercase text-orange-600"},"病假"),f("th",{class:"px-4 py-3 text-center text-sm font-medium uppercase text-blue-600"},"公假"),f("th",{class:"px-4 py-3 text-center text-sm font-medium uppercase text-yellow-600"},"事假"),f("th",{class:"px-4 py-3 text-center text-sm font-medium uppercase text-red-600"},"曠課"),f("th",{class:"px-4 py-3 text-center text-sm font-medium uppercase"},"出席率")])],-1)),f("tbody",n3,[(K(!0),G(Wt,null,te(A.value,L=>(K(),G("tr",{key:L.student_id,class:"hover:bg-slate-50"},[f("td",r3,ct(L.seat_number),1),f("td",s3,ct(L.name),1),f("td",i3,ct(L.present),1),f("td",o3,ct(L.sick),1),f("td",a3,ct(L.official),1),f("td",l3,ct(L.personal),1),f("td",u3,ct(L.absent),1),f("td",c3,[wt(L)!==null?(K(),G("span",f3,ct(wt(L))+"%",1)):(K(),G("span",d3,"N/A"))])]))),128))])]))])]),f("div",h3,[f("button",{onClick:k[9]||(k[9]=L=>$.value=!1),type:"button",class:"btn btn-secondary"},"關閉")])])])])):Tt("",!0)]))}},g3={class:"card p-8 mb-8"},m3={class:"text-2xl font-semibold mb-6"},v3={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_3=["value"],y3={class:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center"},b3={class:"flex items-center pt-6"},x3={class:"flex items-center justify-end space-x-4 pt-4"},w3={type:"submit",class:"btn btn-primary text-base px-6 py-2.5"},k3={key:0,class:"text-red-500 mb-4"},C3={class:"card p-8"},S3={key:0,class:"text-center text-slate-500 py-8"},E3={key:1,class:"space-y-4"},A3={class:"px-2 py-1 text-xs font-semibold rounded-full bg-sky-100 text-sky-800"},T3={class:"font-bold text-xl mt-2"},R3={class:"text-sm text-slate-600"},O3={class:"text-xs text-slate-500 mt-2"},I3={class:"flex items-center space-x-3"},$3=["onClick"],P3=["onClick"],L3=["onClick"],M3={key:2,class:"text-slate-500 text-center py-8"},D3={key:1,class:"fixed z-10 inset-0 overflow-y-auto"},B3={class:"flex items-center justify-center min-h-screen p-4"},z3={class:"bg-white rounded-lg shadow-xl transform transition-all w-full max-w-6xl h-[80vh] flex flex-col"},N3={class:"p-4 border-b flex justify-between items-center"},U3={class:"text-xl font-bold"},F3={class:"flex-grow flex overflow-hidden"},j3={class:"w-1/4 bg-slate-50 border-r overflow-y-auto"},W3={key:0,class:"p-4 text-center"},q3={key:1},H3=["onClick"],V3={class:"font-semibold"},K3={class:"text-sm text-slate-500"},G3={class:"w-3/4 p-6 overflow-y-auto"},Z3={key:0,class:"flex items-center justify-center h-full text-slate-500"},Y3={key:1},J3={class:"text-lg font-bold mb-4"},Q3={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},X3=["href"],t5=["src"],e5={key:1,class:"w-full h-24 bg-slate-100 rounded-md mb-2 flex items-center justify-center"},n5={class:"text-xs text-slate-700 truncate"},r5={__name:"AssignmentsView",setup(t){const n=pt([]),r=pt([]),i=Fe({title:"",description:"",due_date:"",subject_id:null,allow_resubmission:!0}),o=pt(!1),l=pt(null),u=pt(!0),c=pt(""),d=pt(!1),y=pt(null),g=pt([]),m=pt(!1),b=pt(null),v=z=>z==null?"":String(z).padStart(2,"0"),O=async()=>{u.value=!0,c.value="";try{const[z,D]=await Promise.all([Vt("/api/assignments"),Vt("/api/subjects")]);if(!z.ok)throw new Error("無法讀取作業列表");if(!D.ok)throw new Error("無法讀取科目列表");n.value=await z.json(),r.value=await D.json()}catch(z){c.value=`錯誤: ${z.message}`}finally{u.value=!1}},w=async()=>{o.value?await S():await $()},$=async()=>{c.value="";try{const z=await Vt("/api/assignments",{method:"POST",body:JSON.stringify(i)}),D=await z.json();if(!z.ok)throw new Error(D.error||"建立作業失敗");n.value.unshift(D),Object.assign(i,{title:"",description:"",due_date:"",subject_id:null,allow_resubmission:!0})}catch(z){c.value=`錯誤: ${z.message}`}},S=async()=>{c.value="";try{const z=await Vt(`/api/assignments/${l.value}`,{method:"PUT",body:JSON.stringify(i)}),D=await z.json();if(!z.ok)throw new Error(D.error||"更新作業失敗");const B=n.value.findIndex(nt=>nt.id===l.value);B!==-1&&(n.value[B]=D),A()}catch(z){c.value=`錯誤: ${z.message}`}},R=z=>{o.value=!0,l.value=z.id,Object.assign(i,{...z,allow_resubmission:!!z.allow_resubmission})},A=()=>{o.value=!1,l.value=null,Object.assign(i,{title:"",description:"",due_date:"",subject_id:null,allow_resubmission:!0})},M=async z=>{if(confirm("確定要刪除這個作業嗎？")){c.value="";try{const D=await Vt(`/api/assignments/${z}`,{method:"DELETE"}),B=await D.json();if(!D.ok)throw new Error(B.error||"刪除失敗");n.value=n.value.filter(nt=>nt.id!==z)}catch(D){c.value=`錯誤: ${D.message}`}}},U=async z=>{y.value=z,d.value=!0,m.value=!0,b.value=null;try{const D=await Vt(`/api/assignments/${z.id}/submissions`);if(!D.ok)throw new Error("無法讀取繳交列表");const B=await D.json();B.sort((nt,E)=>parseInt(nt.seat_number,10)-parseInt(E.seat_number,10)),g.value=B}catch(D){c.value=`讀取繳交列表時發生錯誤: ${D.message}`}finally{m.value=!1}},rt=()=>{d.value=!1,y.value=null,g.value=[],b.value=null},F=z=>/\.(jpg|jpeg|png|gif|webp)$/i.test(z);return Ye(O),(z,D)=>(K(),G("div",null,[D[13]||(D[13]=f("h1",{class:"text-4xl font-bold text-slate-800 mb-8"},"作業管理",-1)),f("div",g3,[f("h2",m3,ct(o.value?"編輯作業":"新增作業"),1),f("form",{onSubmit:We(w,["prevent"]),class:"space-y-6"},[f("div",v3,[f("div",null,[D[5]||(D[5]=f("label",{for:"title",class:"block text-base font-medium text-slate-700"},"作業標題",-1)),Bt(f("input",{type:"text",id:"title","onUpdate:modelValue":D[0]||(D[0]=B=>i.title=B),required:"",class:"mt-1 form-input text-lg py-3"},null,512),[[Ft,i.title]])]),f("div",null,[D[7]||(D[7]=f("label",{for:"subject",class:"block text-base font-medium text-slate-700"},"科目",-1)),Bt(f("select",{id:"subject","onUpdate:modelValue":D[1]||(D[1]=B=>i.subject_id=B),required:"",class:"mt-1 form-input text-lg py-3"},[D[6]||(D[6]=f("option",{value:null,disabled:""},"-- 請選擇科目 --",-1)),(K(!0),G(Wt,null,te(r.value,B=>(K(),G("option",{key:B.id,value:B.id},ct(B.name),9,_3))),128))],512),[[ai,i.subject_id]])])]),f("div",null,[D[8]||(D[8]=f("label",{for:"description",class:"block text-base font-medium text-slate-700"},"作業說明 (選填)",-1)),Bt(f("textarea",{id:"description","onUpdate:modelValue":D[2]||(D[2]=B=>i.description=B),rows:"3",class:"mt-1 form-input text-lg py-3"},null,512),[[Ft,i.description]])]),f("div",y3,[f("div",null,[D[9]||(D[9]=f("label",{for:"due_date",class:"block text-base font-medium text-slate-700"},"繳交截止日期 (選填)",-1)),Bt(f("input",{type:"datetime-local",id:"due_date","onUpdate:modelValue":D[3]||(D[3]=B=>i.due_date=B),class:"mt-1 form-input text-lg py-3"},null,512),[[Ft,i.due_date]])]),f("div",b3,[Bt(f("input",{type:"checkbox",id:"allow_resubmission","onUpdate:modelValue":D[4]||(D[4]=B=>i.allow_resubmission=B),class:"h-5 w-5 text-sky-600 border-gray-300 rounded focus:ring-sky-500"},null,512),[[dw,i.allow_resubmission]]),D[10]||(D[10]=f("label",{for:"allow_resubmission",class:"ml-2 block text-base text-slate-700"},"允許學生重複上傳",-1))])]),f("div",x3,[o.value?(K(),G("button",{key:0,onClick:A,type:"button",class:"btn btn-secondary text-base px-6 py-2.5"},"取消")):Tt("",!0),f("button",w3,ct(o.value?"更新作業":"建立作業"),1)])],32)]),c.value?(K(),G("p",k3,ct(c.value),1)):Tt("",!0),f("div",C3,[D[11]||(D[11]=f("h2",{class:"text-2xl font-semibold mb-6"},"現有作業列表",-1)),u.value?(K(),G("div",S3,"讀取中...")):n.value.length>0?(K(),G("ul",E3,[(K(!0),G(Wt,null,te(n.value,B=>(K(),G("li",{key:B.id,class:"p-4 border rounded-lg flex justify-between items-center hover:bg-slate-50 transition-colors"},[f("div",null,[f("span",A3,ct(B.subject_name),1),f("h3",T3,ct(B.title),1),f("p",R3,ct(B.description),1),f("p",O3,[ve(" 建立於: "+ct(new Date(B.created_at).toLocaleString())+" | 截止於: "+ct(B.due_date?new Date(B.due_date).toLocaleString():"無")+" | ",1),f("span",{class:me(B.allow_resubmission?"text-green-600":"text-red-600")},ct(B.allow_resubmission?"允許多次上傳":"僅限單次上傳"),3)])]),f("div",I3,[f("button",{onClick:nt=>U(B),class:"btn bg-teal-500 hover:bg-teal-600 text-sm"},"查看繳交",8,$3),f("button",{onClick:nt=>R(B),class:"btn bg-yellow-500 hover:bg-yellow-600 text-sm"},"編輯",8,P3),f("button",{onClick:nt=>M(B.id),class:"btn btn-danger text-sm"},"刪除",8,L3)])]))),128))])):(K(),G("p",M3,"目前沒有任何作業。"))]),d.value?(K(),G("div",D3,[f("div",B3,[f("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:rt}),f("div",z3,[f("div",N3,[f("h3",U3,"查看「"+ct(y.value.title)+"」繳交狀況",1),f("button",{onClick:rt,class:"text-2xl text-gray-500 hover:text-gray-800"},"×")]),f("div",F3,[f("div",j3,[m.value?(K(),G("div",W3,"讀取中...")):(K(),G("ul",q3,[(K(!0),G(Wt,null,te(g.value,B=>(K(),G("li",{key:B.studentId,onClick:nt=>b.value=B,class:me(["p-4 cursor-pointer hover:bg-sky-100",{"bg-sky-200":b.value&&b.value.name===B.name}])},[f("p",V3,ct(v(B.seat_number))+". "+ct(B.name),1),f("p",K3,ct(B.files.length)+" 個檔案",1)],10,H3))),128))]))]),f("div",G3,[b.value?(K(),G("div",Y3,[f("h4",J3,ct(b.value.name)+" 的檔案",1),f("div",Q3,[(K(!0),G(Wt,null,te(b.value.files,B=>(K(),G("a",{key:B.name,href:B.url,target:"_blank",class:"block border rounded-lg p-2 text-center hover:shadow-md transition-shadow"},[F(B.name)?(K(),G("img",{key:0,src:B.url,class:"w-full h-24 object-cover rounded-md mb-2 bg-slate-100"},null,8,t5)):(K(),G("div",e5,[...D[12]||(D[12]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor"},[f("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z","clip-rule":"evenodd"})],-1)])])),f("p",n5,ct(B.name.split("_").slice(3).join("_")),1)],8,X3))),128))])])):(K(),G("div",Z3," 請從左側選擇一位學生以檢視檔案 "))])])])])])):Tt("",!0)]))}};var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Io={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Io.exports;(function(t,n){(function(){var r,i="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",y=500,g="__lodash_placeholder__",m=1,b=2,v=4,O=1,w=2,$=1,S=2,R=4,A=8,M=16,U=32,rt=64,F=128,z=256,D=512,B=30,nt="...",E=800,H=16,_=1,at=2,Ct=3,ut=1/0,Et=9007199254740991,bt=17976931348623157e292,$t=NaN,it=4294967295,st=it-1,Pt=it>>>1,At=[["ary",F],["bind",$],["bindKey",S],["curry",A],["curryRight",M],["flip",D],["partial",U],["partialRight",rt],["rearg",z]],kt="[object Arguments]",yt="[object Array]",V="[object AsyncFunction]",tt="[object Boolean]",lt="[object Date]",wt="[object DOMException]",dt="[object Error]",k="[object Function]",L="[object GeneratorFunction]",h="[object Map]",W="[object Number]",j="[object Null]",C="[object Object]",T="[object Promise]",N="[object Proxy]",Q="[object RegExp]",J="[object Set]",Z="[object String]",ot="[object Symbol]",mt="[object Undefined]",ht="[object WeakMap]",St="[object WeakSet]",Mt="[object ArrayBuffer]",Ot="[object DataView]",ee="[object Float32Array]",be="[object Float64Array]",_e="[object Int8Array]",Te="[object Int16Array]",ne="[object Int32Array]",Cn="[object Uint8Array]",Se="[object Uint8ClampedArray]",xe="[object Uint16Array]",qn="[object Uint32Array]",Gr=/\b__p \+= '';/g,Vo=/\b(__p \+=) '' \+/g,Ko=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ss=/&(?:amp|lt|gt|quot|#39);/g,cr=/[&<>"']/g,Zr=RegExp(Ss.source),xp=RegExp(cr.source),wp=/<%-([\s\S]+?)%>/g,kp=/<%([\s\S]+?)%>/g,gu=/<%=([\s\S]+?)%>/g,Cp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sp=/^\w*$/,Ep=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Go=/[\\^$.*+?()[\]{}|]/g,Ap=RegExp(Go.source),Zo=/^\s+/,Tp=/\s/,Rp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Op=/\{\n\/\* \[wrapped with (.+)\] \*/,Ip=/,? & /,$p=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pp=/[()=,{}\[\]\/\s]/,Lp=/\\(\\)?/g,Mp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mu=/\w*$/,Dp=/^[-+]0x[0-9a-f]+$/i,Bp=/^0b[01]+$/i,zp=/^\[object .+?Constructor\]$/,Np=/^0o[0-7]+$/i,Up=/^(?:0|[1-9]\d*)$/,Fp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vi=/($^)/,jp=/['\n\r\u2028\u2029\\]/g,_i="\\ud800-\\udfff",Wp="\\u0300-\\u036f",qp="\\ufe20-\\ufe2f",Hp="\\u20d0-\\u20ff",vu=Wp+qp+Hp,_u="\\u2700-\\u27bf",yu="a-z\\xdf-\\xf6\\xf8-\\xff",Vp="\\xac\\xb1\\xd7\\xf7",Kp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gp="\\u2000-\\u206f",Zp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bu="A-Z\\xc0-\\xd6\\xd8-\\xde",xu="\\ufe0e\\ufe0f",wu=Vp+Kp+Gp+Zp,Yo="['’]",Yp="["+_i+"]",ku="["+wu+"]",yi="["+vu+"]",Cu="\\d+",Jp="["+_u+"]",Su="["+yu+"]",Eu="[^"+_i+wu+Cu+_u+yu+bu+"]",Jo="\\ud83c[\\udffb-\\udfff]",Qp="(?:"+yi+"|"+Jo+")",Au="[^"+_i+"]",Qo="(?:\\ud83c[\\udde6-\\uddff]){2}",Xo="[\\ud800-\\udbff][\\udc00-\\udfff]",Yr="["+bu+"]",Tu="\\u200d",Ru="(?:"+Su+"|"+Eu+")",Xp="(?:"+Yr+"|"+Eu+")",Ou="(?:"+Yo+"(?:d|ll|m|re|s|t|ve))?",Iu="(?:"+Yo+"(?:D|LL|M|RE|S|T|VE))?",$u=Qp+"?",Pu="["+xu+"]?",t0="(?:"+Tu+"(?:"+[Au,Qo,Xo].join("|")+")"+Pu+$u+")*",e0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",n0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lu=Pu+$u+t0,r0="(?:"+[Jp,Qo,Xo].join("|")+")"+Lu,s0="(?:"+[Au+yi+"?",yi,Qo,Xo,Yp].join("|")+")",i0=RegExp(Yo,"g"),o0=RegExp(yi,"g"),ta=RegExp(Jo+"(?="+Jo+")|"+s0+Lu,"g"),a0=RegExp([Yr+"?"+Su+"+"+Ou+"(?="+[ku,Yr,"$"].join("|")+")",Xp+"+"+Iu+"(?="+[ku,Yr+Ru,"$"].join("|")+")",Yr+"?"+Ru+"+"+Ou,Yr+"+"+Iu,n0,e0,Cu,r0].join("|"),"g"),l0=RegExp("["+Tu+_i+vu+xu+"]"),u0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,c0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],f0=-1,ye={};ye[ee]=ye[be]=ye[_e]=ye[Te]=ye[ne]=ye[Cn]=ye[Se]=ye[xe]=ye[qn]=!0,ye[kt]=ye[yt]=ye[Mt]=ye[tt]=ye[Ot]=ye[lt]=ye[dt]=ye[k]=ye[h]=ye[W]=ye[C]=ye[Q]=ye[J]=ye[Z]=ye[ht]=!1;var pe={};pe[kt]=pe[yt]=pe[Mt]=pe[Ot]=pe[tt]=pe[lt]=pe[ee]=pe[be]=pe[_e]=pe[Te]=pe[ne]=pe[h]=pe[W]=pe[C]=pe[Q]=pe[J]=pe[Z]=pe[ot]=pe[Cn]=pe[Se]=pe[xe]=pe[qn]=!0,pe[dt]=pe[k]=pe[ht]=!1;var d0={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},h0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},g0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},m0=parseFloat,v0=parseInt,Mu=typeof ir=="object"&&ir&&ir.Object===Object&&ir,_0=typeof self=="object"&&self&&self.Object===Object&&self,Le=Mu||_0||Function("return this")(),ea=n&&!n.nodeType&&n,Ir=ea&&!0&&t&&!t.nodeType&&t,Du=Ir&&Ir.exports===ea,na=Du&&Mu.process,hn=function(){try{var X=Ir&&Ir.require&&Ir.require("util").types;return X||na&&na.binding&&na.binding("util")}catch{}}(),Bu=hn&&hn.isArrayBuffer,zu=hn&&hn.isDate,Nu=hn&&hn.isMap,Uu=hn&&hn.isRegExp,Fu=hn&&hn.isSet,ju=hn&&hn.isTypedArray;function nn(X,gt,ft){switch(ft.length){case 0:return X.call(gt);case 1:return X.call(gt,ft[0]);case 2:return X.call(gt,ft[0],ft[1]);case 3:return X.call(gt,ft[0],ft[1],ft[2])}return X.apply(gt,ft)}function y0(X,gt,ft,It){for(var jt=-1,re=X==null?0:X.length;++jt<re;){var Ie=X[jt];gt(It,Ie,ft(Ie),X)}return It}function pn(X,gt){for(var ft=-1,It=X==null?0:X.length;++ft<It&&gt(X[ft],ft,X)!==!1;);return X}function b0(X,gt){for(var ft=X==null?0:X.length;ft--&&gt(X[ft],ft,X)!==!1;);return X}function Wu(X,gt){for(var ft=-1,It=X==null?0:X.length;++ft<It;)if(!gt(X[ft],ft,X))return!1;return!0}function fr(X,gt){for(var ft=-1,It=X==null?0:X.length,jt=0,re=[];++ft<It;){var Ie=X[ft];gt(Ie,ft,X)&&(re[jt++]=Ie)}return re}function bi(X,gt){var ft=X==null?0:X.length;return!!ft&&Jr(X,gt,0)>-1}function ra(X,gt,ft){for(var It=-1,jt=X==null?0:X.length;++It<jt;)if(ft(gt,X[It]))return!0;return!1}function we(X,gt){for(var ft=-1,It=X==null?0:X.length,jt=Array(It);++ft<It;)jt[ft]=gt(X[ft],ft,X);return jt}function dr(X,gt){for(var ft=-1,It=gt.length,jt=X.length;++ft<It;)X[jt+ft]=gt[ft];return X}function sa(X,gt,ft,It){var jt=-1,re=X==null?0:X.length;for(It&&re&&(ft=X[++jt]);++jt<re;)ft=gt(ft,X[jt],jt,X);return ft}function x0(X,gt,ft,It){var jt=X==null?0:X.length;for(It&&jt&&(ft=X[--jt]);jt--;)ft=gt(ft,X[jt],jt,X);return ft}function ia(X,gt){for(var ft=-1,It=X==null?0:X.length;++ft<It;)if(gt(X[ft],ft,X))return!0;return!1}var w0=oa("length");function k0(X){return X.split("")}function C0(X){return X.match($p)||[]}function qu(X,gt,ft){var It;return ft(X,function(jt,re,Ie){if(gt(jt,re,Ie))return It=re,!1}),It}function xi(X,gt,ft,It){for(var jt=X.length,re=ft+(It?1:-1);It?re--:++re<jt;)if(gt(X[re],re,X))return re;return-1}function Jr(X,gt,ft){return gt===gt?D0(X,gt,ft):xi(X,Hu,ft)}function S0(X,gt,ft,It){for(var jt=ft-1,re=X.length;++jt<re;)if(It(X[jt],gt))return jt;return-1}function Hu(X){return X!==X}function Vu(X,gt){var ft=X==null?0:X.length;return ft?la(X,gt)/ft:$t}function oa(X){return function(gt){return gt==null?r:gt[X]}}function aa(X){return function(gt){return X==null?r:X[gt]}}function Ku(X,gt,ft,It,jt){return jt(X,function(re,Ie,fe){ft=It?(It=!1,re):gt(ft,re,Ie,fe)}),ft}function E0(X,gt){var ft=X.length;for(X.sort(gt);ft--;)X[ft]=X[ft].value;return X}function la(X,gt){for(var ft,It=-1,jt=X.length;++It<jt;){var re=gt(X[It]);re!==r&&(ft=ft===r?re:ft+re)}return ft}function ua(X,gt){for(var ft=-1,It=Array(X);++ft<X;)It[ft]=gt(ft);return It}function A0(X,gt){return we(gt,function(ft){return[ft,X[ft]]})}function Gu(X){return X&&X.slice(0,Qu(X)+1).replace(Zo,"")}function rn(X){return function(gt){return X(gt)}}function ca(X,gt){return we(gt,function(ft){return X[ft]})}function Es(X,gt){return X.has(gt)}function Zu(X,gt){for(var ft=-1,It=X.length;++ft<It&&Jr(gt,X[ft],0)>-1;);return ft}function Yu(X,gt){for(var ft=X.length;ft--&&Jr(gt,X[ft],0)>-1;);return ft}function T0(X,gt){for(var ft=X.length,It=0;ft--;)X[ft]===gt&&++It;return It}var R0=aa(d0),O0=aa(h0);function I0(X){return"\\"+g0[X]}function $0(X,gt){return X==null?r:X[gt]}function Qr(X){return l0.test(X)}function P0(X){return u0.test(X)}function L0(X){for(var gt,ft=[];!(gt=X.next()).done;)ft.push(gt.value);return ft}function fa(X){var gt=-1,ft=Array(X.size);return X.forEach(function(It,jt){ft[++gt]=[jt,It]}),ft}function Ju(X,gt){return function(ft){return X(gt(ft))}}function hr(X,gt){for(var ft=-1,It=X.length,jt=0,re=[];++ft<It;){var Ie=X[ft];(Ie===gt||Ie===g)&&(X[ft]=g,re[jt++]=ft)}return re}function wi(X){var gt=-1,ft=Array(X.size);return X.forEach(function(It){ft[++gt]=It}),ft}function M0(X){var gt=-1,ft=Array(X.size);return X.forEach(function(It){ft[++gt]=[It,It]}),ft}function D0(X,gt,ft){for(var It=ft-1,jt=X.length;++It<jt;)if(X[It]===gt)return It;return-1}function B0(X,gt,ft){for(var It=ft+1;It--;)if(X[It]===gt)return It;return It}function Xr(X){return Qr(X)?N0(X):w0(X)}function Sn(X){return Qr(X)?U0(X):k0(X)}function Qu(X){for(var gt=X.length;gt--&&Tp.test(X.charAt(gt)););return gt}var z0=aa(p0);function N0(X){for(var gt=ta.lastIndex=0;ta.test(X);)++gt;return gt}function U0(X){return X.match(ta)||[]}function F0(X){return X.match(a0)||[]}var j0=function X(gt){gt=gt==null?Le:ts.defaults(Le.Object(),gt,ts.pick(Le,c0));var ft=gt.Array,It=gt.Date,jt=gt.Error,re=gt.Function,Ie=gt.Math,fe=gt.Object,da=gt.RegExp,W0=gt.String,gn=gt.TypeError,ki=ft.prototype,q0=re.prototype,es=fe.prototype,Ci=gt["__core-js_shared__"],Si=q0.toString,ue=es.hasOwnProperty,H0=0,Xu=function(){var e=/[^.]+$/.exec(Ci&&Ci.keys&&Ci.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ei=es.toString,V0=Si.call(fe),K0=Le._,G0=da("^"+Si.call(ue).replace(Go,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ai=Du?gt.Buffer:r,pr=gt.Symbol,Ti=gt.Uint8Array,tc=Ai?Ai.allocUnsafe:r,Ri=Ju(fe.getPrototypeOf,fe),ec=fe.create,nc=es.propertyIsEnumerable,Oi=ki.splice,rc=pr?pr.isConcatSpreadable:r,As=pr?pr.iterator:r,$r=pr?pr.toStringTag:r,Ii=function(){try{var e=Br(fe,"defineProperty");return e({},"",{}),e}catch{}}(),Z0=gt.clearTimeout!==Le.clearTimeout&&gt.clearTimeout,Y0=It&&It.now!==Le.Date.now&&It.now,J0=gt.setTimeout!==Le.setTimeout&&gt.setTimeout,$i=Ie.ceil,Pi=Ie.floor,ha=fe.getOwnPropertySymbols,Q0=Ai?Ai.isBuffer:r,sc=gt.isFinite,X0=ki.join,tg=Ju(fe.keys,fe),$e=Ie.max,Be=Ie.min,eg=It.now,ng=gt.parseInt,ic=Ie.random,rg=ki.reverse,pa=Br(gt,"DataView"),Ts=Br(gt,"Map"),ga=Br(gt,"Promise"),ns=Br(gt,"Set"),Rs=Br(gt,"WeakMap"),Os=Br(fe,"create"),Li=Rs&&new Rs,rs={},sg=zr(pa),ig=zr(Ts),og=zr(ga),ag=zr(ns),lg=zr(Rs),Mi=pr?pr.prototype:r,Is=Mi?Mi.valueOf:r,oc=Mi?Mi.toString:r;function I(e){if(Ce(e)&&!qt(e)&&!(e instanceof Jt)){if(e instanceof mn)return e;if(ue.call(e,"__wrapped__"))return lf(e)}return new mn(e)}var ss=function(){function e(){}return function(s){if(!ke(s))return{};if(ec)return ec(s);e.prototype=s;var a=new e;return e.prototype=r,a}}();function Di(){}function mn(e,s){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}I.templateSettings={escape:wp,evaluate:kp,interpolate:gu,variable:"",imports:{_:I}},I.prototype=Di.prototype,I.prototype.constructor=I,mn.prototype=ss(Di.prototype),mn.prototype.constructor=mn;function Jt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function ug(){var e=new Jt(this.__wrapped__);return e.__actions__=Je(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Je(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Je(this.__views__),e}function cg(){if(this.__filtered__){var e=new Jt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function fg(){var e=this.__wrapped__.value(),s=this.__dir__,a=qt(e),p=s<0,x=a?e.length:0,P=km(0,x,this.__views__),q=P.start,Y=P.end,et=Y-q,vt=p?Y:q-1,_t=this.__iteratees__,xt=_t.length,Rt=0,Lt=Be(et,this.__takeCount__);if(!a||!p&&x==et&&Lt==et)return Oc(e,this.__actions__);var zt=[];t:for(;et--&&Rt<Lt;){vt+=s;for(var Gt=-1,Nt=e[vt];++Gt<xt;){var Yt=_t[Gt],Qt=Yt.iteratee,an=Yt.type,Ke=Qt(Nt);if(an==at)Nt=Ke;else if(!Ke){if(an==_)continue t;break t}}zt[Rt++]=Nt}return zt}Jt.prototype=ss(Di.prototype),Jt.prototype.constructor=Jt;function Pr(e){var s=-1,a=e==null?0:e.length;for(this.clear();++s<a;){var p=e[s];this.set(p[0],p[1])}}function dg(){this.__data__=Os?Os(null):{},this.size=0}function hg(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s}function pg(e){var s=this.__data__;if(Os){var a=s[e];return a===d?r:a}return ue.call(s,e)?s[e]:r}function gg(e){var s=this.__data__;return Os?s[e]!==r:ue.call(s,e)}function mg(e,s){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Os&&s===r?d:s,this}Pr.prototype.clear=dg,Pr.prototype.delete=hg,Pr.prototype.get=pg,Pr.prototype.has=gg,Pr.prototype.set=mg;function Hn(e){var s=-1,a=e==null?0:e.length;for(this.clear();++s<a;){var p=e[s];this.set(p[0],p[1])}}function vg(){this.__data__=[],this.size=0}function _g(e){var s=this.__data__,a=Bi(s,e);if(a<0)return!1;var p=s.length-1;return a==p?s.pop():Oi.call(s,a,1),--this.size,!0}function yg(e){var s=this.__data__,a=Bi(s,e);return a<0?r:s[a][1]}function bg(e){return Bi(this.__data__,e)>-1}function xg(e,s){var a=this.__data__,p=Bi(a,e);return p<0?(++this.size,a.push([e,s])):a[p][1]=s,this}Hn.prototype.clear=vg,Hn.prototype.delete=_g,Hn.prototype.get=yg,Hn.prototype.has=bg,Hn.prototype.set=xg;function Vn(e){var s=-1,a=e==null?0:e.length;for(this.clear();++s<a;){var p=e[s];this.set(p[0],p[1])}}function wg(){this.size=0,this.__data__={hash:new Pr,map:new(Ts||Hn),string:new Pr}}function kg(e){var s=Zi(this,e).delete(e);return this.size-=s?1:0,s}function Cg(e){return Zi(this,e).get(e)}function Sg(e){return Zi(this,e).has(e)}function Eg(e,s){var a=Zi(this,e),p=a.size;return a.set(e,s),this.size+=a.size==p?0:1,this}Vn.prototype.clear=wg,Vn.prototype.delete=kg,Vn.prototype.get=Cg,Vn.prototype.has=Sg,Vn.prototype.set=Eg;function Lr(e){var s=-1,a=e==null?0:e.length;for(this.__data__=new Vn;++s<a;)this.add(e[s])}function Ag(e){return this.__data__.set(e,d),this}function Tg(e){return this.__data__.has(e)}Lr.prototype.add=Lr.prototype.push=Ag,Lr.prototype.has=Tg;function En(e){var s=this.__data__=new Hn(e);this.size=s.size}function Rg(){this.__data__=new Hn,this.size=0}function Og(e){var s=this.__data__,a=s.delete(e);return this.size=s.size,a}function Ig(e){return this.__data__.get(e)}function $g(e){return this.__data__.has(e)}function Pg(e,s){var a=this.__data__;if(a instanceof Hn){var p=a.__data__;if(!Ts||p.length<o-1)return p.push([e,s]),this.size=++a.size,this;a=this.__data__=new Vn(p)}return a.set(e,s),this.size=a.size,this}En.prototype.clear=Rg,En.prototype.delete=Og,En.prototype.get=Ig,En.prototype.has=$g,En.prototype.set=Pg;function ac(e,s){var a=qt(e),p=!a&&Nr(e),x=!a&&!p&&yr(e),P=!a&&!p&&!x&&ls(e),q=a||p||x||P,Y=q?ua(e.length,W0):[],et=Y.length;for(var vt in e)(s||ue.call(e,vt))&&!(q&&(vt=="length"||x&&(vt=="offset"||vt=="parent")||P&&(vt=="buffer"||vt=="byteLength"||vt=="byteOffset")||Yn(vt,et)))&&Y.push(vt);return Y}function lc(e){var s=e.length;return s?e[Ea(0,s-1)]:r}function Lg(e,s){return Yi(Je(e),Mr(s,0,e.length))}function Mg(e){return Yi(Je(e))}function ma(e,s,a){(a!==r&&!An(e[s],a)||a===r&&!(s in e))&&Kn(e,s,a)}function $s(e,s,a){var p=e[s];(!(ue.call(e,s)&&An(p,a))||a===r&&!(s in e))&&Kn(e,s,a)}function Bi(e,s){for(var a=e.length;a--;)if(An(e[a][0],s))return a;return-1}function Dg(e,s,a,p){return gr(e,function(x,P,q){s(p,x,a(x),q)}),p}function uc(e,s){return e&&Ln(s,Pe(s),e)}function Bg(e,s){return e&&Ln(s,Xe(s),e)}function Kn(e,s,a){s=="__proto__"&&Ii?Ii(e,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[s]=a}function va(e,s){for(var a=-1,p=s.length,x=ft(p),P=e==null;++a<p;)x[a]=P?r:Ja(e,s[a]);return x}function Mr(e,s,a){return e===e&&(a!==r&&(e=e<=a?e:a),s!==r&&(e=e>=s?e:s)),e}function vn(e,s,a,p,x,P){var q,Y=s&m,et=s&b,vt=s&v;if(a&&(q=x?a(e,p,x,P):a(e)),q!==r)return q;if(!ke(e))return e;var _t=qt(e);if(_t){if(q=Sm(e),!Y)return Je(e,q)}else{var xt=ze(e),Rt=xt==k||xt==L;if(yr(e))return Pc(e,Y);if(xt==C||xt==kt||Rt&&!x){if(q=et||Rt?{}:Qc(e),!Y)return et?pm(e,Bg(q,e)):hm(e,uc(q,e))}else{if(!pe[xt])return x?e:{};q=Em(e,xt,Y)}}P||(P=new En);var Lt=P.get(e);if(Lt)return Lt;P.set(e,q),Tf(e)?e.forEach(function(Nt){q.add(vn(Nt,s,a,Nt,e,P))}):Ef(e)&&e.forEach(function(Nt,Yt){q.set(Yt,vn(Nt,s,a,Yt,e,P))});var zt=vt?et?Ba:Da:et?Xe:Pe,Gt=_t?r:zt(e);return pn(Gt||e,function(Nt,Yt){Gt&&(Yt=Nt,Nt=e[Yt]),$s(q,Yt,vn(Nt,s,a,Yt,e,P))}),q}function zg(e){var s=Pe(e);return function(a){return cc(a,e,s)}}function cc(e,s,a){var p=a.length;if(e==null)return!p;for(e=fe(e);p--;){var x=a[p],P=s[x],q=e[x];if(q===r&&!(x in e)||!P(q))return!1}return!0}function fc(e,s,a){if(typeof e!="function")throw new gn(u);return Ns(function(){e.apply(r,a)},s)}function Ps(e,s,a,p){var x=-1,P=bi,q=!0,Y=e.length,et=[],vt=s.length;if(!Y)return et;a&&(s=we(s,rn(a))),p?(P=ra,q=!1):s.length>=o&&(P=Es,q=!1,s=new Lr(s));t:for(;++x<Y;){var _t=e[x],xt=a==null?_t:a(_t);if(_t=p||_t!==0?_t:0,q&&xt===xt){for(var Rt=vt;Rt--;)if(s[Rt]===xt)continue t;et.push(_t)}else P(s,xt,p)||et.push(_t)}return et}var gr=zc(Pn),dc=zc(ya,!0);function Ng(e,s){var a=!0;return gr(e,function(p,x,P){return a=!!s(p,x,P),a}),a}function zi(e,s,a){for(var p=-1,x=e.length;++p<x;){var P=e[p],q=s(P);if(q!=null&&(Y===r?q===q&&!on(q):a(q,Y)))var Y=q,et=P}return et}function Ug(e,s,a,p){var x=e.length;for(a=Kt(a),a<0&&(a=-a>x?0:x+a),p=p===r||p>x?x:Kt(p),p<0&&(p+=x),p=a>p?0:Of(p);a<p;)e[a++]=s;return e}function hc(e,s){var a=[];return gr(e,function(p,x,P){s(p,x,P)&&a.push(p)}),a}function Me(e,s,a,p,x){var P=-1,q=e.length;for(a||(a=Tm),x||(x=[]);++P<q;){var Y=e[P];s>0&&a(Y)?s>1?Me(Y,s-1,a,p,x):dr(x,Y):p||(x[x.length]=Y)}return x}var _a=Nc(),pc=Nc(!0);function Pn(e,s){return e&&_a(e,s,Pe)}function ya(e,s){return e&&pc(e,s,Pe)}function Ni(e,s){return fr(s,function(a){return Jn(e[a])})}function Dr(e,s){s=vr(s,e);for(var a=0,p=s.length;e!=null&&a<p;)e=e[Mn(s[a++])];return a&&a==p?e:r}function gc(e,s,a){var p=s(e);return qt(e)?p:dr(p,a(e))}function He(e){return e==null?e===r?mt:j:$r&&$r in fe(e)?wm(e):Mm(e)}function ba(e,s){return e>s}function Fg(e,s){return e!=null&&ue.call(e,s)}function jg(e,s){return e!=null&&s in fe(e)}function Wg(e,s,a){return e>=Be(s,a)&&e<$e(s,a)}function xa(e,s,a){for(var p=a?ra:bi,x=e[0].length,P=e.length,q=P,Y=ft(P),et=1/0,vt=[];q--;){var _t=e[q];q&&s&&(_t=we(_t,rn(s))),et=Be(_t.length,et),Y[q]=!a&&(s||x>=120&&_t.length>=120)?new Lr(q&&_t):r}_t=e[0];var xt=-1,Rt=Y[0];t:for(;++xt<x&&vt.length<et;){var Lt=_t[xt],zt=s?s(Lt):Lt;if(Lt=a||Lt!==0?Lt:0,!(Rt?Es(Rt,zt):p(vt,zt,a))){for(q=P;--q;){var Gt=Y[q];if(!(Gt?Es(Gt,zt):p(e[q],zt,a)))continue t}Rt&&Rt.push(zt),vt.push(Lt)}}return vt}function qg(e,s,a,p){return Pn(e,function(x,P,q){s(p,a(x),P,q)}),p}function Ls(e,s,a){s=vr(s,e),e=nf(e,s);var p=e==null?e:e[Mn(yn(s))];return p==null?r:nn(p,e,a)}function mc(e){return Ce(e)&&He(e)==kt}function Hg(e){return Ce(e)&&He(e)==Mt}function Vg(e){return Ce(e)&&He(e)==lt}function Ms(e,s,a,p,x){return e===s?!0:e==null||s==null||!Ce(e)&&!Ce(s)?e!==e&&s!==s:Kg(e,s,a,p,Ms,x)}function Kg(e,s,a,p,x,P){var q=qt(e),Y=qt(s),et=q?yt:ze(e),vt=Y?yt:ze(s);et=et==kt?C:et,vt=vt==kt?C:vt;var _t=et==C,xt=vt==C,Rt=et==vt;if(Rt&&yr(e)){if(!yr(s))return!1;q=!0,_t=!1}if(Rt&&!_t)return P||(P=new En),q||ls(e)?Zc(e,s,a,p,x,P):bm(e,s,et,a,p,x,P);if(!(a&O)){var Lt=_t&&ue.call(e,"__wrapped__"),zt=xt&&ue.call(s,"__wrapped__");if(Lt||zt){var Gt=Lt?e.value():e,Nt=zt?s.value():s;return P||(P=new En),x(Gt,Nt,a,p,P)}}return Rt?(P||(P=new En),xm(e,s,a,p,x,P)):!1}function Gg(e){return Ce(e)&&ze(e)==h}function wa(e,s,a,p){var x=a.length,P=x,q=!p;if(e==null)return!P;for(e=fe(e);x--;){var Y=a[x];if(q&&Y[2]?Y[1]!==e[Y[0]]:!(Y[0]in e))return!1}for(;++x<P;){Y=a[x];var et=Y[0],vt=e[et],_t=Y[1];if(q&&Y[2]){if(vt===r&&!(et in e))return!1}else{var xt=new En;if(p)var Rt=p(vt,_t,et,e,s,xt);if(!(Rt===r?Ms(_t,vt,O|w,p,xt):Rt))return!1}}return!0}function vc(e){if(!ke(e)||Om(e))return!1;var s=Jn(e)?G0:zp;return s.test(zr(e))}function Zg(e){return Ce(e)&&He(e)==Q}function Yg(e){return Ce(e)&&ze(e)==J}function Jg(e){return Ce(e)&&no(e.length)&&!!ye[He(e)]}function _c(e){return typeof e=="function"?e:e==null?tn:typeof e=="object"?qt(e)?xc(e[0],e[1]):bc(e):Ff(e)}function ka(e){if(!zs(e))return tg(e);var s=[];for(var a in fe(e))ue.call(e,a)&&a!="constructor"&&s.push(a);return s}function Qg(e){if(!ke(e))return Lm(e);var s=zs(e),a=[];for(var p in e)p=="constructor"&&(s||!ue.call(e,p))||a.push(p);return a}function Ca(e,s){return e<s}function yc(e,s){var a=-1,p=Qe(e)?ft(e.length):[];return gr(e,function(x,P,q){p[++a]=s(x,P,q)}),p}function bc(e){var s=Na(e);return s.length==1&&s[0][2]?tf(s[0][0],s[0][1]):function(a){return a===e||wa(a,e,s)}}function xc(e,s){return Fa(e)&&Xc(s)?tf(Mn(e),s):function(a){var p=Ja(a,e);return p===r&&p===s?Qa(a,e):Ms(s,p,O|w)}}function Ui(e,s,a,p,x){e!==s&&_a(s,function(P,q){if(x||(x=new En),ke(P))Xg(e,s,q,a,Ui,p,x);else{var Y=p?p(Wa(e,q),P,q+"",e,s,x):r;Y===r&&(Y=P),ma(e,q,Y)}},Xe)}function Xg(e,s,a,p,x,P,q){var Y=Wa(e,a),et=Wa(s,a),vt=q.get(et);if(vt){ma(e,a,vt);return}var _t=P?P(Y,et,a+"",e,s,q):r,xt=_t===r;if(xt){var Rt=qt(et),Lt=!Rt&&yr(et),zt=!Rt&&!Lt&&ls(et);_t=et,Rt||Lt||zt?qt(Y)?_t=Y:Ee(Y)?_t=Je(Y):Lt?(xt=!1,_t=Pc(et,!0)):zt?(xt=!1,_t=Lc(et,!0)):_t=[]:Us(et)||Nr(et)?(_t=Y,Nr(Y)?_t=If(Y):(!ke(Y)||Jn(Y))&&(_t=Qc(et))):xt=!1}xt&&(q.set(et,_t),x(_t,et,p,P,q),q.delete(et)),ma(e,a,_t)}function wc(e,s){var a=e.length;if(a)return s+=s<0?a:0,Yn(s,a)?e[s]:r}function kc(e,s,a){s.length?s=we(s,function(P){return qt(P)?function(q){return Dr(q,P.length===1?P[0]:P)}:P}):s=[tn];var p=-1;s=we(s,rn(Dt()));var x=yc(e,function(P,q,Y){var et=we(s,function(vt){return vt(P)});return{criteria:et,index:++p,value:P}});return E0(x,function(P,q){return dm(P,q,a)})}function tm(e,s){return Cc(e,s,function(a,p){return Qa(e,p)})}function Cc(e,s,a){for(var p=-1,x=s.length,P={};++p<x;){var q=s[p],Y=Dr(e,q);a(Y,q)&&Ds(P,vr(q,e),Y)}return P}function em(e){return function(s){return Dr(s,e)}}function Sa(e,s,a,p){var x=p?S0:Jr,P=-1,q=s.length,Y=e;for(e===s&&(s=Je(s)),a&&(Y=we(e,rn(a)));++P<q;)for(var et=0,vt=s[P],_t=a?a(vt):vt;(et=x(Y,_t,et,p))>-1;)Y!==e&&Oi.call(Y,et,1),Oi.call(e,et,1);return e}function Sc(e,s){for(var a=e?s.length:0,p=a-1;a--;){var x=s[a];if(a==p||x!==P){var P=x;Yn(x)?Oi.call(e,x,1):Ra(e,x)}}return e}function Ea(e,s){return e+Pi(ic()*(s-e+1))}function nm(e,s,a,p){for(var x=-1,P=$e($i((s-e)/(a||1)),0),q=ft(P);P--;)q[p?P:++x]=e,e+=a;return q}function Aa(e,s){var a="";if(!e||s<1||s>Et)return a;do s%2&&(a+=e),s=Pi(s/2),s&&(e+=e);while(s);return a}function Zt(e,s){return qa(ef(e,s,tn),e+"")}function rm(e){return lc(us(e))}function sm(e,s){var a=us(e);return Yi(a,Mr(s,0,a.length))}function Ds(e,s,a,p){if(!ke(e))return e;s=vr(s,e);for(var x=-1,P=s.length,q=P-1,Y=e;Y!=null&&++x<P;){var et=Mn(s[x]),vt=a;if(et==="__proto__"||et==="constructor"||et==="prototype")return e;if(x!=q){var _t=Y[et];vt=p?p(_t,et,Y):r,vt===r&&(vt=ke(_t)?_t:Yn(s[x+1])?[]:{})}$s(Y,et,vt),Y=Y[et]}return e}var Ec=Li?function(e,s){return Li.set(e,s),e}:tn,im=Ii?function(e,s){return Ii(e,"toString",{configurable:!0,enumerable:!1,value:tl(s),writable:!0})}:tn;function om(e){return Yi(us(e))}function _n(e,s,a){var p=-1,x=e.length;s<0&&(s=-s>x?0:x+s),a=a>x?x:a,a<0&&(a+=x),x=s>a?0:a-s>>>0,s>>>=0;for(var P=ft(x);++p<x;)P[p]=e[p+s];return P}function am(e,s){var a;return gr(e,function(p,x,P){return a=s(p,x,P),!a}),!!a}function Fi(e,s,a){var p=0,x=e==null?p:e.length;if(typeof s=="number"&&s===s&&x<=Pt){for(;p<x;){var P=p+x>>>1,q=e[P];q!==null&&!on(q)&&(a?q<=s:q<s)?p=P+1:x=P}return x}return Ta(e,s,tn,a)}function Ta(e,s,a,p){var x=0,P=e==null?0:e.length;if(P===0)return 0;s=a(s);for(var q=s!==s,Y=s===null,et=on(s),vt=s===r;x<P;){var _t=Pi((x+P)/2),xt=a(e[_t]),Rt=xt!==r,Lt=xt===null,zt=xt===xt,Gt=on(xt);if(q)var Nt=p||zt;else vt?Nt=zt&&(p||Rt):Y?Nt=zt&&Rt&&(p||!Lt):et?Nt=zt&&Rt&&!Lt&&(p||!Gt):Lt||Gt?Nt=!1:Nt=p?xt<=s:xt<s;Nt?x=_t+1:P=_t}return Be(P,st)}function Ac(e,s){for(var a=-1,p=e.length,x=0,P=[];++a<p;){var q=e[a],Y=s?s(q):q;if(!a||!An(Y,et)){var et=Y;P[x++]=q===0?0:q}}return P}function Tc(e){return typeof e=="number"?e:on(e)?$t:+e}function sn(e){if(typeof e=="string")return e;if(qt(e))return we(e,sn)+"";if(on(e))return oc?oc.call(e):"";var s=e+"";return s=="0"&&1/e==-ut?"-0":s}function mr(e,s,a){var p=-1,x=bi,P=e.length,q=!0,Y=[],et=Y;if(a)q=!1,x=ra;else if(P>=o){var vt=s?null:_m(e);if(vt)return wi(vt);q=!1,x=Es,et=new Lr}else et=s?[]:Y;t:for(;++p<P;){var _t=e[p],xt=s?s(_t):_t;if(_t=a||_t!==0?_t:0,q&&xt===xt){for(var Rt=et.length;Rt--;)if(et[Rt]===xt)continue t;s&&et.push(xt),Y.push(_t)}else x(et,xt,a)||(et!==Y&&et.push(xt),Y.push(_t))}return Y}function Ra(e,s){return s=vr(s,e),e=nf(e,s),e==null||delete e[Mn(yn(s))]}function Rc(e,s,a,p){return Ds(e,s,a(Dr(e,s)),p)}function ji(e,s,a,p){for(var x=e.length,P=p?x:-1;(p?P--:++P<x)&&s(e[P],P,e););return a?_n(e,p?0:P,p?P+1:x):_n(e,p?P+1:0,p?x:P)}function Oc(e,s){var a=e;return a instanceof Jt&&(a=a.value()),sa(s,function(p,x){return x.func.apply(x.thisArg,dr([p],x.args))},a)}function Oa(e,s,a){var p=e.length;if(p<2)return p?mr(e[0]):[];for(var x=-1,P=ft(p);++x<p;)for(var q=e[x],Y=-1;++Y<p;)Y!=x&&(P[x]=Ps(P[x]||q,e[Y],s,a));return mr(Me(P,1),s,a)}function Ic(e,s,a){for(var p=-1,x=e.length,P=s.length,q={};++p<x;){var Y=p<P?s[p]:r;a(q,e[p],Y)}return q}function Ia(e){return Ee(e)?e:[]}function $a(e){return typeof e=="function"?e:tn}function vr(e,s){return qt(e)?e:Fa(e,s)?[e]:af(se(e))}var lm=Zt;function _r(e,s,a){var p=e.length;return a=a===r?p:a,!s&&a>=p?e:_n(e,s,a)}var $c=Z0||function(e){return Le.clearTimeout(e)};function Pc(e,s){if(s)return e.slice();var a=e.length,p=tc?tc(a):new e.constructor(a);return e.copy(p),p}function Pa(e){var s=new e.constructor(e.byteLength);return new Ti(s).set(new Ti(e)),s}function um(e,s){var a=s?Pa(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function cm(e){var s=new e.constructor(e.source,mu.exec(e));return s.lastIndex=e.lastIndex,s}function fm(e){return Is?fe(Is.call(e)):{}}function Lc(e,s){var a=s?Pa(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Mc(e,s){if(e!==s){var a=e!==r,p=e===null,x=e===e,P=on(e),q=s!==r,Y=s===null,et=s===s,vt=on(s);if(!Y&&!vt&&!P&&e>s||P&&q&&et&&!Y&&!vt||p&&q&&et||!a&&et||!x)return 1;if(!p&&!P&&!vt&&e<s||vt&&a&&x&&!p&&!P||Y&&a&&x||!q&&x||!et)return-1}return 0}function dm(e,s,a){for(var p=-1,x=e.criteria,P=s.criteria,q=x.length,Y=a.length;++p<q;){var et=Mc(x[p],P[p]);if(et){if(p>=Y)return et;var vt=a[p];return et*(vt=="desc"?-1:1)}}return e.index-s.index}function Dc(e,s,a,p){for(var x=-1,P=e.length,q=a.length,Y=-1,et=s.length,vt=$e(P-q,0),_t=ft(et+vt),xt=!p;++Y<et;)_t[Y]=s[Y];for(;++x<q;)(xt||x<P)&&(_t[a[x]]=e[x]);for(;vt--;)_t[Y++]=e[x++];return _t}function Bc(e,s,a,p){for(var x=-1,P=e.length,q=-1,Y=a.length,et=-1,vt=s.length,_t=$e(P-Y,0),xt=ft(_t+vt),Rt=!p;++x<_t;)xt[x]=e[x];for(var Lt=x;++et<vt;)xt[Lt+et]=s[et];for(;++q<Y;)(Rt||x<P)&&(xt[Lt+a[q]]=e[x++]);return xt}function Je(e,s){var a=-1,p=e.length;for(s||(s=ft(p));++a<p;)s[a]=e[a];return s}function Ln(e,s,a,p){var x=!a;a||(a={});for(var P=-1,q=s.length;++P<q;){var Y=s[P],et=p?p(a[Y],e[Y],Y,a,e):r;et===r&&(et=e[Y]),x?Kn(a,Y,et):$s(a,Y,et)}return a}function hm(e,s){return Ln(e,Ua(e),s)}function pm(e,s){return Ln(e,Yc(e),s)}function Wi(e,s){return function(a,p){var x=qt(a)?y0:Dg,P=s?s():{};return x(a,e,Dt(p,2),P)}}function is(e){return Zt(function(s,a){var p=-1,x=a.length,P=x>1?a[x-1]:r,q=x>2?a[2]:r;for(P=e.length>3&&typeof P=="function"?(x--,P):r,q&&Ve(a[0],a[1],q)&&(P=x<3?r:P,x=1),s=fe(s);++p<x;){var Y=a[p];Y&&e(s,Y,p,P)}return s})}function zc(e,s){return function(a,p){if(a==null)return a;if(!Qe(a))return e(a,p);for(var x=a.length,P=s?x:-1,q=fe(a);(s?P--:++P<x)&&p(q[P],P,q)!==!1;);return a}}function Nc(e){return function(s,a,p){for(var x=-1,P=fe(s),q=p(s),Y=q.length;Y--;){var et=q[e?Y:++x];if(a(P[et],et,P)===!1)break}return s}}function gm(e,s,a){var p=s&$,x=Bs(e);function P(){var q=this&&this!==Le&&this instanceof P?x:e;return q.apply(p?a:this,arguments)}return P}function Uc(e){return function(s){s=se(s);var a=Qr(s)?Sn(s):r,p=a?a[0]:s.charAt(0),x=a?_r(a,1).join(""):s.slice(1);return p[e]()+x}}function os(e){return function(s){return sa(Nf(zf(s).replace(i0,"")),e,"")}}function Bs(e){return function(){var s=arguments;switch(s.length){case 0:return new e;case 1:return new e(s[0]);case 2:return new e(s[0],s[1]);case 3:return new e(s[0],s[1],s[2]);case 4:return new e(s[0],s[1],s[2],s[3]);case 5:return new e(s[0],s[1],s[2],s[3],s[4]);case 6:return new e(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new e(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var a=ss(e.prototype),p=e.apply(a,s);return ke(p)?p:a}}function mm(e,s,a){var p=Bs(e);function x(){for(var P=arguments.length,q=ft(P),Y=P,et=as(x);Y--;)q[Y]=arguments[Y];var vt=P<3&&q[0]!==et&&q[P-1]!==et?[]:hr(q,et);if(P-=vt.length,P<a)return Hc(e,s,qi,x.placeholder,r,q,vt,r,r,a-P);var _t=this&&this!==Le&&this instanceof x?p:e;return nn(_t,this,q)}return x}function Fc(e){return function(s,a,p){var x=fe(s);if(!Qe(s)){var P=Dt(a,3);s=Pe(s),a=function(Y){return P(x[Y],Y,x)}}var q=e(s,a,p);return q>-1?x[P?s[q]:q]:r}}function jc(e){return Zn(function(s){var a=s.length,p=a,x=mn.prototype.thru;for(e&&s.reverse();p--;){var P=s[p];if(typeof P!="function")throw new gn(u);if(x&&!q&&Gi(P)=="wrapper")var q=new mn([],!0)}for(p=q?p:a;++p<a;){P=s[p];var Y=Gi(P),et=Y=="wrapper"?za(P):r;et&&ja(et[0])&&et[1]==(F|A|U|z)&&!et[4].length&&et[9]==1?q=q[Gi(et[0])].apply(q,et[3]):q=P.length==1&&ja(P)?q[Y]():q.thru(P)}return function(){var vt=arguments,_t=vt[0];if(q&&vt.length==1&&qt(_t))return q.plant(_t).value();for(var xt=0,Rt=a?s[xt].apply(this,vt):_t;++xt<a;)Rt=s[xt].call(this,Rt);return Rt}})}function qi(e,s,a,p,x,P,q,Y,et,vt){var _t=s&F,xt=s&$,Rt=s&S,Lt=s&(A|M),zt=s&D,Gt=Rt?r:Bs(e);function Nt(){for(var Yt=arguments.length,Qt=ft(Yt),an=Yt;an--;)Qt[an]=arguments[an];if(Lt)var Ke=as(Nt),ln=T0(Qt,Ke);if(p&&(Qt=Dc(Qt,p,x,Lt)),P&&(Qt=Bc(Qt,P,q,Lt)),Yt-=ln,Lt&&Yt<vt){var Ae=hr(Qt,Ke);return Hc(e,s,qi,Nt.placeholder,a,Qt,Ae,Y,et,vt-Yt)}var Tn=xt?a:this,Xn=Rt?Tn[e]:e;return Yt=Qt.length,Y?Qt=Dm(Qt,Y):zt&&Yt>1&&Qt.reverse(),_t&&et<Yt&&(Qt.length=et),this&&this!==Le&&this instanceof Nt&&(Xn=Gt||Bs(Xn)),Xn.apply(Tn,Qt)}return Nt}function Wc(e,s){return function(a,p){return qg(a,e,s(p),{})}}function Hi(e,s){return function(a,p){var x;if(a===r&&p===r)return s;if(a!==r&&(x=a),p!==r){if(x===r)return p;typeof a=="string"||typeof p=="string"?(a=sn(a),p=sn(p)):(a=Tc(a),p=Tc(p)),x=e(a,p)}return x}}function La(e){return Zn(function(s){return s=we(s,rn(Dt())),Zt(function(a){var p=this;return e(s,function(x){return nn(x,p,a)})})})}function Vi(e,s){s=s===r?" ":sn(s);var a=s.length;if(a<2)return a?Aa(s,e):s;var p=Aa(s,$i(e/Xr(s)));return Qr(s)?_r(Sn(p),0,e).join(""):p.slice(0,e)}function vm(e,s,a,p){var x=s&$,P=Bs(e);function q(){for(var Y=-1,et=arguments.length,vt=-1,_t=p.length,xt=ft(_t+et),Rt=this&&this!==Le&&this instanceof q?P:e;++vt<_t;)xt[vt]=p[vt];for(;et--;)xt[vt++]=arguments[++Y];return nn(Rt,x?a:this,xt)}return q}function qc(e){return function(s,a,p){return p&&typeof p!="number"&&Ve(s,a,p)&&(a=p=r),s=Qn(s),a===r?(a=s,s=0):a=Qn(a),p=p===r?s<a?1:-1:Qn(p),nm(s,a,p,e)}}function Ki(e){return function(s,a){return typeof s=="string"&&typeof a=="string"||(s=bn(s),a=bn(a)),e(s,a)}}function Hc(e,s,a,p,x,P,q,Y,et,vt){var _t=s&A,xt=_t?q:r,Rt=_t?r:q,Lt=_t?P:r,zt=_t?r:P;s|=_t?U:rt,s&=~(_t?rt:U),s&R||(s&=-4);var Gt=[e,s,x,Lt,xt,zt,Rt,Y,et,vt],Nt=a.apply(r,Gt);return ja(e)&&rf(Nt,Gt),Nt.placeholder=p,sf(Nt,e,s)}function Ma(e){var s=Ie[e];return function(a,p){if(a=bn(a),p=p==null?0:Be(Kt(p),292),p&&sc(a)){var x=(se(a)+"e").split("e"),P=s(x[0]+"e"+(+x[1]+p));return x=(se(P)+"e").split("e"),+(x[0]+"e"+(+x[1]-p))}return s(a)}}var _m=ns&&1/wi(new ns([,-0]))[1]==ut?function(e){return new ns(e)}:rl;function Vc(e){return function(s){var a=ze(s);return a==h?fa(s):a==J?M0(s):A0(s,e(s))}}function Gn(e,s,a,p,x,P,q,Y){var et=s&S;if(!et&&typeof e!="function")throw new gn(u);var vt=p?p.length:0;if(vt||(s&=-97,p=x=r),q=q===r?q:$e(Kt(q),0),Y=Y===r?Y:Kt(Y),vt-=x?x.length:0,s&rt){var _t=p,xt=x;p=x=r}var Rt=et?r:za(e),Lt=[e,s,a,p,x,_t,xt,P,q,Y];if(Rt&&Pm(Lt,Rt),e=Lt[0],s=Lt[1],a=Lt[2],p=Lt[3],x=Lt[4],Y=Lt[9]=Lt[9]===r?et?0:e.length:$e(Lt[9]-vt,0),!Y&&s&(A|M)&&(s&=-25),!s||s==$)var zt=gm(e,s,a);else s==A||s==M?zt=mm(e,s,Y):(s==U||s==($|U))&&!x.length?zt=vm(e,s,a,p):zt=qi.apply(r,Lt);var Gt=Rt?Ec:rf;return sf(Gt(zt,Lt),e,s)}function Kc(e,s,a,p){return e===r||An(e,es[a])&&!ue.call(p,a)?s:e}function Gc(e,s,a,p,x,P){return ke(e)&&ke(s)&&(P.set(s,e),Ui(e,s,r,Gc,P),P.delete(s)),e}function ym(e){return Us(e)?r:e}function Zc(e,s,a,p,x,P){var q=a&O,Y=e.length,et=s.length;if(Y!=et&&!(q&&et>Y))return!1;var vt=P.get(e),_t=P.get(s);if(vt&&_t)return vt==s&&_t==e;var xt=-1,Rt=!0,Lt=a&w?new Lr:r;for(P.set(e,s),P.set(s,e);++xt<Y;){var zt=e[xt],Gt=s[xt];if(p)var Nt=q?p(Gt,zt,xt,s,e,P):p(zt,Gt,xt,e,s,P);if(Nt!==r){if(Nt)continue;Rt=!1;break}if(Lt){if(!ia(s,function(Yt,Qt){if(!Es(Lt,Qt)&&(zt===Yt||x(zt,Yt,a,p,P)))return Lt.push(Qt)})){Rt=!1;break}}else if(!(zt===Gt||x(zt,Gt,a,p,P))){Rt=!1;break}}return P.delete(e),P.delete(s),Rt}function bm(e,s,a,p,x,P,q){switch(a){case Ot:if(e.byteLength!=s.byteLength||e.byteOffset!=s.byteOffset)return!1;e=e.buffer,s=s.buffer;case Mt:return!(e.byteLength!=s.byteLength||!P(new Ti(e),new Ti(s)));case tt:case lt:case W:return An(+e,+s);case dt:return e.name==s.name&&e.message==s.message;case Q:case Z:return e==s+"";case h:var Y=fa;case J:var et=p&O;if(Y||(Y=wi),e.size!=s.size&&!et)return!1;var vt=q.get(e);if(vt)return vt==s;p|=w,q.set(e,s);var _t=Zc(Y(e),Y(s),p,x,P,q);return q.delete(e),_t;case ot:if(Is)return Is.call(e)==Is.call(s)}return!1}function xm(e,s,a,p,x,P){var q=a&O,Y=Da(e),et=Y.length,vt=Da(s),_t=vt.length;if(et!=_t&&!q)return!1;for(var xt=et;xt--;){var Rt=Y[xt];if(!(q?Rt in s:ue.call(s,Rt)))return!1}var Lt=P.get(e),zt=P.get(s);if(Lt&&zt)return Lt==s&&zt==e;var Gt=!0;P.set(e,s),P.set(s,e);for(var Nt=q;++xt<et;){Rt=Y[xt];var Yt=e[Rt],Qt=s[Rt];if(p)var an=q?p(Qt,Yt,Rt,s,e,P):p(Yt,Qt,Rt,e,s,P);if(!(an===r?Yt===Qt||x(Yt,Qt,a,p,P):an)){Gt=!1;break}Nt||(Nt=Rt=="constructor")}if(Gt&&!Nt){var Ke=e.constructor,ln=s.constructor;Ke!=ln&&"constructor"in e&&"constructor"in s&&!(typeof Ke=="function"&&Ke instanceof Ke&&typeof ln=="function"&&ln instanceof ln)&&(Gt=!1)}return P.delete(e),P.delete(s),Gt}function Zn(e){return qa(ef(e,r,ff),e+"")}function Da(e){return gc(e,Pe,Ua)}function Ba(e){return gc(e,Xe,Yc)}var za=Li?function(e){return Li.get(e)}:rl;function Gi(e){for(var s=e.name+"",a=rs[s],p=ue.call(rs,s)?a.length:0;p--;){var x=a[p],P=x.func;if(P==null||P==e)return x.name}return s}function as(e){var s=ue.call(I,"placeholder")?I:e;return s.placeholder}function Dt(){var e=I.iteratee||el;return e=e===el?_c:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,s){var a=e.__data__;return Rm(s)?a[typeof s=="string"?"string":"hash"]:a.map}function Na(e){for(var s=Pe(e),a=s.length;a--;){var p=s[a],x=e[p];s[a]=[p,x,Xc(x)]}return s}function Br(e,s){var a=$0(e,s);return vc(a)?a:r}function wm(e){var s=ue.call(e,$r),a=e[$r];try{e[$r]=r;var p=!0}catch{}var x=Ei.call(e);return p&&(s?e[$r]=a:delete e[$r]),x}var Ua=ha?function(e){return e==null?[]:(e=fe(e),fr(ha(e),function(s){return nc.call(e,s)}))}:sl,Yc=ha?function(e){for(var s=[];e;)dr(s,Ua(e)),e=Ri(e);return s}:sl,ze=He;(pa&&ze(new pa(new ArrayBuffer(1)))!=Ot||Ts&&ze(new Ts)!=h||ga&&ze(ga.resolve())!=T||ns&&ze(new ns)!=J||Rs&&ze(new Rs)!=ht)&&(ze=function(e){var s=He(e),a=s==C?e.constructor:r,p=a?zr(a):"";if(p)switch(p){case sg:return Ot;case ig:return h;case og:return T;case ag:return J;case lg:return ht}return s});function km(e,s,a){for(var p=-1,x=a.length;++p<x;){var P=a[p],q=P.size;switch(P.type){case"drop":e+=q;break;case"dropRight":s-=q;break;case"take":s=Be(s,e+q);break;case"takeRight":e=$e(e,s-q);break}}return{start:e,end:s}}function Cm(e){var s=e.match(Op);return s?s[1].split(Ip):[]}function Jc(e,s,a){s=vr(s,e);for(var p=-1,x=s.length,P=!1;++p<x;){var q=Mn(s[p]);if(!(P=e!=null&&a(e,q)))break;e=e[q]}return P||++p!=x?P:(x=e==null?0:e.length,!!x&&no(x)&&Yn(q,x)&&(qt(e)||Nr(e)))}function Sm(e){var s=e.length,a=new e.constructor(s);return s&&typeof e[0]=="string"&&ue.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Qc(e){return typeof e.constructor=="function"&&!zs(e)?ss(Ri(e)):{}}function Em(e,s,a){var p=e.constructor;switch(s){case Mt:return Pa(e);case tt:case lt:return new p(+e);case Ot:return um(e,a);case ee:case be:case _e:case Te:case ne:case Cn:case Se:case xe:case qn:return Lc(e,a);case h:return new p;case W:case Z:return new p(e);case Q:return cm(e);case J:return new p;case ot:return fm(e)}}function Am(e,s){var a=s.length;if(!a)return e;var p=a-1;return s[p]=(a>1?"& ":"")+s[p],s=s.join(a>2?", ":" "),e.replace(Rp,`{
/* [wrapped with `+s+`] */
`)}function Tm(e){return qt(e)||Nr(e)||!!(rc&&e&&e[rc])}function Yn(e,s){var a=typeof e;return s=s??Et,!!s&&(a=="number"||a!="symbol"&&Up.test(e))&&e>-1&&e%1==0&&e<s}function Ve(e,s,a){if(!ke(a))return!1;var p=typeof s;return(p=="number"?Qe(a)&&Yn(s,a.length):p=="string"&&s in a)?An(a[s],e):!1}function Fa(e,s){if(qt(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||on(e)?!0:Sp.test(e)||!Cp.test(e)||s!=null&&e in fe(s)}function Rm(e){var s=typeof e;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?e!=="__proto__":e===null}function ja(e){var s=Gi(e),a=I[s];if(typeof a!="function"||!(s in Jt.prototype))return!1;if(e===a)return!0;var p=za(a);return!!p&&e===p[0]}function Om(e){return!!Xu&&Xu in e}var Im=Ci?Jn:il;function zs(e){var s=e&&e.constructor,a=typeof s=="function"&&s.prototype||es;return e===a}function Xc(e){return e===e&&!ke(e)}function tf(e,s){return function(a){return a==null?!1:a[e]===s&&(s!==r||e in fe(a))}}function $m(e){var s=to(e,function(p){return a.size===y&&a.clear(),p}),a=s.cache;return s}function Pm(e,s){var a=e[1],p=s[1],x=a|p,P=x<($|S|F),q=p==F&&a==A||p==F&&a==z&&e[7].length<=s[8]||p==(F|z)&&s[7].length<=s[8]&&a==A;if(!(P||q))return e;p&$&&(e[2]=s[2],x|=a&$?0:R);var Y=s[3];if(Y){var et=e[3];e[3]=et?Dc(et,Y,s[4]):Y,e[4]=et?hr(e[3],g):s[4]}return Y=s[5],Y&&(et=e[5],e[5]=et?Bc(et,Y,s[6]):Y,e[6]=et?hr(e[5],g):s[6]),Y=s[7],Y&&(e[7]=Y),p&F&&(e[8]=e[8]==null?s[8]:Be(e[8],s[8])),e[9]==null&&(e[9]=s[9]),e[0]=s[0],e[1]=x,e}function Lm(e){var s=[];if(e!=null)for(var a in fe(e))s.push(a);return s}function Mm(e){return Ei.call(e)}function ef(e,s,a){return s=$e(s===r?e.length-1:s,0),function(){for(var p=arguments,x=-1,P=$e(p.length-s,0),q=ft(P);++x<P;)q[x]=p[s+x];x=-1;for(var Y=ft(s+1);++x<s;)Y[x]=p[x];return Y[s]=a(q),nn(e,this,Y)}}function nf(e,s){return s.length<2?e:Dr(e,_n(s,0,-1))}function Dm(e,s){for(var a=e.length,p=Be(s.length,a),x=Je(e);p--;){var P=s[p];e[p]=Yn(P,a)?x[P]:r}return e}function Wa(e,s){if(!(s==="constructor"&&typeof e[s]=="function")&&s!="__proto__")return e[s]}var rf=of(Ec),Ns=J0||function(e,s){return Le.setTimeout(e,s)},qa=of(im);function sf(e,s,a){var p=s+"";return qa(e,Am(p,Bm(Cm(p),a)))}function of(e){var s=0,a=0;return function(){var p=eg(),x=H-(p-a);if(a=p,x>0){if(++s>=E)return arguments[0]}else s=0;return e.apply(r,arguments)}}function Yi(e,s){var a=-1,p=e.length,x=p-1;for(s=s===r?p:s;++a<s;){var P=Ea(a,x),q=e[P];e[P]=e[a],e[a]=q}return e.length=s,e}var af=$m(function(e){var s=[];return e.charCodeAt(0)===46&&s.push(""),e.replace(Ep,function(a,p,x,P){s.push(x?P.replace(Lp,"$1"):p||a)}),s});function Mn(e){if(typeof e=="string"||on(e))return e;var s=e+"";return s=="0"&&1/e==-ut?"-0":s}function zr(e){if(e!=null){try{return Si.call(e)}catch{}try{return e+""}catch{}}return""}function Bm(e,s){return pn(At,function(a){var p="_."+a[0];s&a[1]&&!bi(e,p)&&e.push(p)}),e.sort()}function lf(e){if(e instanceof Jt)return e.clone();var s=new mn(e.__wrapped__,e.__chain__);return s.__actions__=Je(e.__actions__),s.__index__=e.__index__,s.__values__=e.__values__,s}function zm(e,s,a){(a?Ve(e,s,a):s===r)?s=1:s=$e(Kt(s),0);var p=e==null?0:e.length;if(!p||s<1)return[];for(var x=0,P=0,q=ft($i(p/s));x<p;)q[P++]=_n(e,x,x+=s);return q}function Nm(e){for(var s=-1,a=e==null?0:e.length,p=0,x=[];++s<a;){var P=e[s];P&&(x[p++]=P)}return x}function Um(){var e=arguments.length;if(!e)return[];for(var s=ft(e-1),a=arguments[0],p=e;p--;)s[p-1]=arguments[p];return dr(qt(a)?Je(a):[a],Me(s,1))}var Fm=Zt(function(e,s){return Ee(e)?Ps(e,Me(s,1,Ee,!0)):[]}),jm=Zt(function(e,s){var a=yn(s);return Ee(a)&&(a=r),Ee(e)?Ps(e,Me(s,1,Ee,!0),Dt(a,2)):[]}),Wm=Zt(function(e,s){var a=yn(s);return Ee(a)&&(a=r),Ee(e)?Ps(e,Me(s,1,Ee,!0),r,a):[]});function qm(e,s,a){var p=e==null?0:e.length;return p?(s=a||s===r?1:Kt(s),_n(e,s<0?0:s,p)):[]}function Hm(e,s,a){var p=e==null?0:e.length;return p?(s=a||s===r?1:Kt(s),s=p-s,_n(e,0,s<0?0:s)):[]}function Vm(e,s){return e&&e.length?ji(e,Dt(s,3),!0,!0):[]}function Km(e,s){return e&&e.length?ji(e,Dt(s,3),!0):[]}function Gm(e,s,a,p){var x=e==null?0:e.length;return x?(a&&typeof a!="number"&&Ve(e,s,a)&&(a=0,p=x),Ug(e,s,a,p)):[]}function uf(e,s,a){var p=e==null?0:e.length;if(!p)return-1;var x=a==null?0:Kt(a);return x<0&&(x=$e(p+x,0)),xi(e,Dt(s,3),x)}function cf(e,s,a){var p=e==null?0:e.length;if(!p)return-1;var x=p-1;return a!==r&&(x=Kt(a),x=a<0?$e(p+x,0):Be(x,p-1)),xi(e,Dt(s,3),x,!0)}function ff(e){var s=e==null?0:e.length;return s?Me(e,1):[]}function Zm(e){var s=e==null?0:e.length;return s?Me(e,ut):[]}function Ym(e,s){var a=e==null?0:e.length;return a?(s=s===r?1:Kt(s),Me(e,s)):[]}function Jm(e){for(var s=-1,a=e==null?0:e.length,p={};++s<a;){var x=e[s];p[x[0]]=x[1]}return p}function df(e){return e&&e.length?e[0]:r}function Qm(e,s,a){var p=e==null?0:e.length;if(!p)return-1;var x=a==null?0:Kt(a);return x<0&&(x=$e(p+x,0)),Jr(e,s,x)}function Xm(e){var s=e==null?0:e.length;return s?_n(e,0,-1):[]}var tv=Zt(function(e){var s=we(e,Ia);return s.length&&s[0]===e[0]?xa(s):[]}),ev=Zt(function(e){var s=yn(e),a=we(e,Ia);return s===yn(a)?s=r:a.pop(),a.length&&a[0]===e[0]?xa(a,Dt(s,2)):[]}),nv=Zt(function(e){var s=yn(e),a=we(e,Ia);return s=typeof s=="function"?s:r,s&&a.pop(),a.length&&a[0]===e[0]?xa(a,r,s):[]});function rv(e,s){return e==null?"":X0.call(e,s)}function yn(e){var s=e==null?0:e.length;return s?e[s-1]:r}function sv(e,s,a){var p=e==null?0:e.length;if(!p)return-1;var x=p;return a!==r&&(x=Kt(a),x=x<0?$e(p+x,0):Be(x,p-1)),s===s?B0(e,s,x):xi(e,Hu,x,!0)}function iv(e,s){return e&&e.length?wc(e,Kt(s)):r}var ov=Zt(hf);function hf(e,s){return e&&e.length&&s&&s.length?Sa(e,s):e}function av(e,s,a){return e&&e.length&&s&&s.length?Sa(e,s,Dt(a,2)):e}function lv(e,s,a){return e&&e.length&&s&&s.length?Sa(e,s,r,a):e}var uv=Zn(function(e,s){var a=e==null?0:e.length,p=va(e,s);return Sc(e,we(s,function(x){return Yn(x,a)?+x:x}).sort(Mc)),p});function cv(e,s){var a=[];if(!(e&&e.length))return a;var p=-1,x=[],P=e.length;for(s=Dt(s,3);++p<P;){var q=e[p];s(q,p,e)&&(a.push(q),x.push(p))}return Sc(e,x),a}function Ha(e){return e==null?e:rg.call(e)}function fv(e,s,a){var p=e==null?0:e.length;return p?(a&&typeof a!="number"&&Ve(e,s,a)?(s=0,a=p):(s=s==null?0:Kt(s),a=a===r?p:Kt(a)),_n(e,s,a)):[]}function dv(e,s){return Fi(e,s)}function hv(e,s,a){return Ta(e,s,Dt(a,2))}function pv(e,s){var a=e==null?0:e.length;if(a){var p=Fi(e,s);if(p<a&&An(e[p],s))return p}return-1}function gv(e,s){return Fi(e,s,!0)}function mv(e,s,a){return Ta(e,s,Dt(a,2),!0)}function vv(e,s){var a=e==null?0:e.length;if(a){var p=Fi(e,s,!0)-1;if(An(e[p],s))return p}return-1}function _v(e){return e&&e.length?Ac(e):[]}function yv(e,s){return e&&e.length?Ac(e,Dt(s,2)):[]}function bv(e){var s=e==null?0:e.length;return s?_n(e,1,s):[]}function xv(e,s,a){return e&&e.length?(s=a||s===r?1:Kt(s),_n(e,0,s<0?0:s)):[]}function wv(e,s,a){var p=e==null?0:e.length;return p?(s=a||s===r?1:Kt(s),s=p-s,_n(e,s<0?0:s,p)):[]}function kv(e,s){return e&&e.length?ji(e,Dt(s,3),!1,!0):[]}function Cv(e,s){return e&&e.length?ji(e,Dt(s,3)):[]}var Sv=Zt(function(e){return mr(Me(e,1,Ee,!0))}),Ev=Zt(function(e){var s=yn(e);return Ee(s)&&(s=r),mr(Me(e,1,Ee,!0),Dt(s,2))}),Av=Zt(function(e){var s=yn(e);return s=typeof s=="function"?s:r,mr(Me(e,1,Ee,!0),r,s)});function Tv(e){return e&&e.length?mr(e):[]}function Rv(e,s){return e&&e.length?mr(e,Dt(s,2)):[]}function Ov(e,s){return s=typeof s=="function"?s:r,e&&e.length?mr(e,r,s):[]}function Va(e){if(!(e&&e.length))return[];var s=0;return e=fr(e,function(a){if(Ee(a))return s=$e(a.length,s),!0}),ua(s,function(a){return we(e,oa(a))})}function pf(e,s){if(!(e&&e.length))return[];var a=Va(e);return s==null?a:we(a,function(p){return nn(s,r,p)})}var Iv=Zt(function(e,s){return Ee(e)?Ps(e,s):[]}),$v=Zt(function(e){return Oa(fr(e,Ee))}),Pv=Zt(function(e){var s=yn(e);return Ee(s)&&(s=r),Oa(fr(e,Ee),Dt(s,2))}),Lv=Zt(function(e){var s=yn(e);return s=typeof s=="function"?s:r,Oa(fr(e,Ee),r,s)}),Mv=Zt(Va);function Dv(e,s){return Ic(e||[],s||[],$s)}function Bv(e,s){return Ic(e||[],s||[],Ds)}var zv=Zt(function(e){var s=e.length,a=s>1?e[s-1]:r;return a=typeof a=="function"?(e.pop(),a):r,pf(e,a)});function gf(e){var s=I(e);return s.__chain__=!0,s}function Nv(e,s){return s(e),e}function Ji(e,s){return s(e)}var Uv=Zn(function(e){var s=e.length,a=s?e[0]:0,p=this.__wrapped__,x=function(P){return va(P,e)};return s>1||this.__actions__.length||!(p instanceof Jt)||!Yn(a)?this.thru(x):(p=p.slice(a,+a+(s?1:0)),p.__actions__.push({func:Ji,args:[x],thisArg:r}),new mn(p,this.__chain__).thru(function(P){return s&&!P.length&&P.push(r),P}))});function Fv(){return gf(this)}function jv(){return new mn(this.value(),this.__chain__)}function Wv(){this.__values__===r&&(this.__values__=Rf(this.value()));var e=this.__index__>=this.__values__.length,s=e?r:this.__values__[this.__index__++];return{done:e,value:s}}function qv(){return this}function Hv(e){for(var s,a=this;a instanceof Di;){var p=lf(a);p.__index__=0,p.__values__=r,s?x.__wrapped__=p:s=p;var x=p;a=a.__wrapped__}return x.__wrapped__=e,s}function Vv(){var e=this.__wrapped__;if(e instanceof Jt){var s=e;return this.__actions__.length&&(s=new Jt(this)),s=s.reverse(),s.__actions__.push({func:Ji,args:[Ha],thisArg:r}),new mn(s,this.__chain__)}return this.thru(Ha)}function Kv(){return Oc(this.__wrapped__,this.__actions__)}var Gv=Wi(function(e,s,a){ue.call(e,a)?++e[a]:Kn(e,a,1)});function Zv(e,s,a){var p=qt(e)?Wu:Ng;return a&&Ve(e,s,a)&&(s=r),p(e,Dt(s,3))}function Yv(e,s){var a=qt(e)?fr:hc;return a(e,Dt(s,3))}var Jv=Fc(uf),Qv=Fc(cf);function Xv(e,s){return Me(Qi(e,s),1)}function t1(e,s){return Me(Qi(e,s),ut)}function e1(e,s,a){return a=a===r?1:Kt(a),Me(Qi(e,s),a)}function mf(e,s){var a=qt(e)?pn:gr;return a(e,Dt(s,3))}function vf(e,s){var a=qt(e)?b0:dc;return a(e,Dt(s,3))}var n1=Wi(function(e,s,a){ue.call(e,a)?e[a].push(s):Kn(e,a,[s])});function r1(e,s,a,p){e=Qe(e)?e:us(e),a=a&&!p?Kt(a):0;var x=e.length;return a<0&&(a=$e(x+a,0)),ro(e)?a<=x&&e.indexOf(s,a)>-1:!!x&&Jr(e,s,a)>-1}var s1=Zt(function(e,s,a){var p=-1,x=typeof s=="function",P=Qe(e)?ft(e.length):[];return gr(e,function(q){P[++p]=x?nn(s,q,a):Ls(q,s,a)}),P}),i1=Wi(function(e,s,a){Kn(e,a,s)});function Qi(e,s){var a=qt(e)?we:yc;return a(e,Dt(s,3))}function o1(e,s,a,p){return e==null?[]:(qt(s)||(s=s==null?[]:[s]),a=p?r:a,qt(a)||(a=a==null?[]:[a]),kc(e,s,a))}var a1=Wi(function(e,s,a){e[a?0:1].push(s)},function(){return[[],[]]});function l1(e,s,a){var p=qt(e)?sa:Ku,x=arguments.length<3;return p(e,Dt(s,4),a,x,gr)}function u1(e,s,a){var p=qt(e)?x0:Ku,x=arguments.length<3;return p(e,Dt(s,4),a,x,dc)}function c1(e,s){var a=qt(e)?fr:hc;return a(e,eo(Dt(s,3)))}function f1(e){var s=qt(e)?lc:rm;return s(e)}function d1(e,s,a){(a?Ve(e,s,a):s===r)?s=1:s=Kt(s);var p=qt(e)?Lg:sm;return p(e,s)}function h1(e){var s=qt(e)?Mg:om;return s(e)}function p1(e){if(e==null)return 0;if(Qe(e))return ro(e)?Xr(e):e.length;var s=ze(e);return s==h||s==J?e.size:ka(e).length}function g1(e,s,a){var p=qt(e)?ia:am;return a&&Ve(e,s,a)&&(s=r),p(e,Dt(s,3))}var m1=Zt(function(e,s){if(e==null)return[];var a=s.length;return a>1&&Ve(e,s[0],s[1])?s=[]:a>2&&Ve(s[0],s[1],s[2])&&(s=[s[0]]),kc(e,Me(s,1),[])}),Xi=Y0||function(){return Le.Date.now()};function v1(e,s){if(typeof s!="function")throw new gn(u);return e=Kt(e),function(){if(--e<1)return s.apply(this,arguments)}}function _f(e,s,a){return s=a?r:s,s=e&&s==null?e.length:s,Gn(e,F,r,r,r,r,s)}function yf(e,s){var a;if(typeof s!="function")throw new gn(u);return e=Kt(e),function(){return--e>0&&(a=s.apply(this,arguments)),e<=1&&(s=r),a}}var Ka=Zt(function(e,s,a){var p=$;if(a.length){var x=hr(a,as(Ka));p|=U}return Gn(e,p,s,a,x)}),bf=Zt(function(e,s,a){var p=$|S;if(a.length){var x=hr(a,as(bf));p|=U}return Gn(s,p,e,a,x)});function xf(e,s,a){s=a?r:s;var p=Gn(e,A,r,r,r,r,r,s);return p.placeholder=xf.placeholder,p}function wf(e,s,a){s=a?r:s;var p=Gn(e,M,r,r,r,r,r,s);return p.placeholder=wf.placeholder,p}function kf(e,s,a){var p,x,P,q,Y,et,vt=0,_t=!1,xt=!1,Rt=!0;if(typeof e!="function")throw new gn(u);s=bn(s)||0,ke(a)&&(_t=!!a.leading,xt="maxWait"in a,P=xt?$e(bn(a.maxWait)||0,s):P,Rt="trailing"in a?!!a.trailing:Rt);function Lt(Ae){var Tn=p,Xn=x;return p=x=r,vt=Ae,q=e.apply(Xn,Tn),q}function zt(Ae){return vt=Ae,Y=Ns(Yt,s),_t?Lt(Ae):q}function Gt(Ae){var Tn=Ae-et,Xn=Ae-vt,jf=s-Tn;return xt?Be(jf,P-Xn):jf}function Nt(Ae){var Tn=Ae-et,Xn=Ae-vt;return et===r||Tn>=s||Tn<0||xt&&Xn>=P}function Yt(){var Ae=Xi();if(Nt(Ae))return Qt(Ae);Y=Ns(Yt,Gt(Ae))}function Qt(Ae){return Y=r,Rt&&p?Lt(Ae):(p=x=r,q)}function an(){Y!==r&&$c(Y),vt=0,p=et=x=Y=r}function Ke(){return Y===r?q:Qt(Xi())}function ln(){var Ae=Xi(),Tn=Nt(Ae);if(p=arguments,x=this,et=Ae,Tn){if(Y===r)return zt(et);if(xt)return $c(Y),Y=Ns(Yt,s),Lt(et)}return Y===r&&(Y=Ns(Yt,s)),q}return ln.cancel=an,ln.flush=Ke,ln}var _1=Zt(function(e,s){return fc(e,1,s)}),y1=Zt(function(e,s,a){return fc(e,bn(s)||0,a)});function b1(e){return Gn(e,D)}function to(e,s){if(typeof e!="function"||s!=null&&typeof s!="function")throw new gn(u);var a=function(){var p=arguments,x=s?s.apply(this,p):p[0],P=a.cache;if(P.has(x))return P.get(x);var q=e.apply(this,p);return a.cache=P.set(x,q)||P,q};return a.cache=new(to.Cache||Vn),a}to.Cache=Vn;function eo(e){if(typeof e!="function")throw new gn(u);return function(){var s=arguments;switch(s.length){case 0:return!e.call(this);case 1:return!e.call(this,s[0]);case 2:return!e.call(this,s[0],s[1]);case 3:return!e.call(this,s[0],s[1],s[2])}return!e.apply(this,s)}}function x1(e){return yf(2,e)}var w1=lm(function(e,s){s=s.length==1&&qt(s[0])?we(s[0],rn(Dt())):we(Me(s,1),rn(Dt()));var a=s.length;return Zt(function(p){for(var x=-1,P=Be(p.length,a);++x<P;)p[x]=s[x].call(this,p[x]);return nn(e,this,p)})}),Ga=Zt(function(e,s){var a=hr(s,as(Ga));return Gn(e,U,r,s,a)}),Cf=Zt(function(e,s){var a=hr(s,as(Cf));return Gn(e,rt,r,s,a)}),k1=Zn(function(e,s){return Gn(e,z,r,r,r,s)});function C1(e,s){if(typeof e!="function")throw new gn(u);return s=s===r?s:Kt(s),Zt(e,s)}function S1(e,s){if(typeof e!="function")throw new gn(u);return s=s==null?0:$e(Kt(s),0),Zt(function(a){var p=a[s],x=_r(a,0,s);return p&&dr(x,p),nn(e,this,x)})}function E1(e,s,a){var p=!0,x=!0;if(typeof e!="function")throw new gn(u);return ke(a)&&(p="leading"in a?!!a.leading:p,x="trailing"in a?!!a.trailing:x),kf(e,s,{leading:p,maxWait:s,trailing:x})}function A1(e){return _f(e,1)}function T1(e,s){return Ga($a(s),e)}function R1(){if(!arguments.length)return[];var e=arguments[0];return qt(e)?e:[e]}function O1(e){return vn(e,v)}function I1(e,s){return s=typeof s=="function"?s:r,vn(e,v,s)}function $1(e){return vn(e,m|v)}function P1(e,s){return s=typeof s=="function"?s:r,vn(e,m|v,s)}function L1(e,s){return s==null||cc(e,s,Pe(s))}function An(e,s){return e===s||e!==e&&s!==s}var M1=Ki(ba),D1=Ki(function(e,s){return e>=s}),Nr=mc(function(){return arguments}())?mc:function(e){return Ce(e)&&ue.call(e,"callee")&&!nc.call(e,"callee")},qt=ft.isArray,B1=Bu?rn(Bu):Hg;function Qe(e){return e!=null&&no(e.length)&&!Jn(e)}function Ee(e){return Ce(e)&&Qe(e)}function z1(e){return e===!0||e===!1||Ce(e)&&He(e)==tt}var yr=Q0||il,N1=zu?rn(zu):Vg;function U1(e){return Ce(e)&&e.nodeType===1&&!Us(e)}function F1(e){if(e==null)return!0;if(Qe(e)&&(qt(e)||typeof e=="string"||typeof e.splice=="function"||yr(e)||ls(e)||Nr(e)))return!e.length;var s=ze(e);if(s==h||s==J)return!e.size;if(zs(e))return!ka(e).length;for(var a in e)if(ue.call(e,a))return!1;return!0}function j1(e,s){return Ms(e,s)}function W1(e,s,a){a=typeof a=="function"?a:r;var p=a?a(e,s):r;return p===r?Ms(e,s,r,a):!!p}function Za(e){if(!Ce(e))return!1;var s=He(e);return s==dt||s==wt||typeof e.message=="string"&&typeof e.name=="string"&&!Us(e)}function q1(e){return typeof e=="number"&&sc(e)}function Jn(e){if(!ke(e))return!1;var s=He(e);return s==k||s==L||s==V||s==N}function Sf(e){return typeof e=="number"&&e==Kt(e)}function no(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Et}function ke(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}function Ce(e){return e!=null&&typeof e=="object"}var Ef=Nu?rn(Nu):Gg;function H1(e,s){return e===s||wa(e,s,Na(s))}function V1(e,s,a){return a=typeof a=="function"?a:r,wa(e,s,Na(s),a)}function K1(e){return Af(e)&&e!=+e}function G1(e){if(Im(e))throw new jt(l);return vc(e)}function Z1(e){return e===null}function Y1(e){return e==null}function Af(e){return typeof e=="number"||Ce(e)&&He(e)==W}function Us(e){if(!Ce(e)||He(e)!=C)return!1;var s=Ri(e);if(s===null)return!0;var a=ue.call(s,"constructor")&&s.constructor;return typeof a=="function"&&a instanceof a&&Si.call(a)==V0}var Ya=Uu?rn(Uu):Zg;function J1(e){return Sf(e)&&e>=-Et&&e<=Et}var Tf=Fu?rn(Fu):Yg;function ro(e){return typeof e=="string"||!qt(e)&&Ce(e)&&He(e)==Z}function on(e){return typeof e=="symbol"||Ce(e)&&He(e)==ot}var ls=ju?rn(ju):Jg;function Q1(e){return e===r}function X1(e){return Ce(e)&&ze(e)==ht}function t_(e){return Ce(e)&&He(e)==St}var e_=Ki(Ca),n_=Ki(function(e,s){return e<=s});function Rf(e){if(!e)return[];if(Qe(e))return ro(e)?Sn(e):Je(e);if(As&&e[As])return L0(e[As]());var s=ze(e),a=s==h?fa:s==J?wi:us;return a(e)}function Qn(e){if(!e)return e===0?e:0;if(e=bn(e),e===ut||e===-ut){var s=e<0?-1:1;return s*bt}return e===e?e:0}function Kt(e){var s=Qn(e),a=s%1;return s===s?a?s-a:s:0}function Of(e){return e?Mr(Kt(e),0,it):0}function bn(e){if(typeof e=="number")return e;if(on(e))return $t;if(ke(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=ke(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=Gu(e);var a=Bp.test(e);return a||Np.test(e)?v0(e.slice(2),a?2:8):Dp.test(e)?$t:+e}function If(e){return Ln(e,Xe(e))}function r_(e){return e?Mr(Kt(e),-Et,Et):e===0?e:0}function se(e){return e==null?"":sn(e)}var s_=is(function(e,s){if(zs(s)||Qe(s)){Ln(s,Pe(s),e);return}for(var a in s)ue.call(s,a)&&$s(e,a,s[a])}),$f=is(function(e,s){Ln(s,Xe(s),e)}),so=is(function(e,s,a,p){Ln(s,Xe(s),e,p)}),i_=is(function(e,s,a,p){Ln(s,Pe(s),e,p)}),o_=Zn(va);function a_(e,s){var a=ss(e);return s==null?a:uc(a,s)}var l_=Zt(function(e,s){e=fe(e);var a=-1,p=s.length,x=p>2?s[2]:r;for(x&&Ve(s[0],s[1],x)&&(p=1);++a<p;)for(var P=s[a],q=Xe(P),Y=-1,et=q.length;++Y<et;){var vt=q[Y],_t=e[vt];(_t===r||An(_t,es[vt])&&!ue.call(e,vt))&&(e[vt]=P[vt])}return e}),u_=Zt(function(e){return e.push(r,Gc),nn(Pf,r,e)});function c_(e,s){return qu(e,Dt(s,3),Pn)}function f_(e,s){return qu(e,Dt(s,3),ya)}function d_(e,s){return e==null?e:_a(e,Dt(s,3),Xe)}function h_(e,s){return e==null?e:pc(e,Dt(s,3),Xe)}function p_(e,s){return e&&Pn(e,Dt(s,3))}function g_(e,s){return e&&ya(e,Dt(s,3))}function m_(e){return e==null?[]:Ni(e,Pe(e))}function v_(e){return e==null?[]:Ni(e,Xe(e))}function Ja(e,s,a){var p=e==null?r:Dr(e,s);return p===r?a:p}function __(e,s){return e!=null&&Jc(e,s,Fg)}function Qa(e,s){return e!=null&&Jc(e,s,jg)}var y_=Wc(function(e,s,a){s!=null&&typeof s.toString!="function"&&(s=Ei.call(s)),e[s]=a},tl(tn)),b_=Wc(function(e,s,a){s!=null&&typeof s.toString!="function"&&(s=Ei.call(s)),ue.call(e,s)?e[s].push(a):e[s]=[a]},Dt),x_=Zt(Ls);function Pe(e){return Qe(e)?ac(e):ka(e)}function Xe(e){return Qe(e)?ac(e,!0):Qg(e)}function w_(e,s){var a={};return s=Dt(s,3),Pn(e,function(p,x,P){Kn(a,s(p,x,P),p)}),a}function k_(e,s){var a={};return s=Dt(s,3),Pn(e,function(p,x,P){Kn(a,x,s(p,x,P))}),a}var C_=is(function(e,s,a){Ui(e,s,a)}),Pf=is(function(e,s,a,p){Ui(e,s,a,p)}),S_=Zn(function(e,s){var a={};if(e==null)return a;var p=!1;s=we(s,function(P){return P=vr(P,e),p||(p=P.length>1),P}),Ln(e,Ba(e),a),p&&(a=vn(a,m|b|v,ym));for(var x=s.length;x--;)Ra(a,s[x]);return a});function E_(e,s){return Lf(e,eo(Dt(s)))}var A_=Zn(function(e,s){return e==null?{}:tm(e,s)});function Lf(e,s){if(e==null)return{};var a=we(Ba(e),function(p){return[p]});return s=Dt(s),Cc(e,a,function(p,x){return s(p,x[0])})}function T_(e,s,a){s=vr(s,e);var p=-1,x=s.length;for(x||(x=1,e=r);++p<x;){var P=e==null?r:e[Mn(s[p])];P===r&&(p=x,P=a),e=Jn(P)?P.call(e):P}return e}function R_(e,s,a){return e==null?e:Ds(e,s,a)}function O_(e,s,a,p){return p=typeof p=="function"?p:r,e==null?e:Ds(e,s,a,p)}var Mf=Vc(Pe),Df=Vc(Xe);function I_(e,s,a){var p=qt(e),x=p||yr(e)||ls(e);if(s=Dt(s,4),a==null){var P=e&&e.constructor;x?a=p?new P:[]:ke(e)?a=Jn(P)?ss(Ri(e)):{}:a={}}return(x?pn:Pn)(e,function(q,Y,et){return s(a,q,Y,et)}),a}function $_(e,s){return e==null?!0:Ra(e,s)}function P_(e,s,a){return e==null?e:Rc(e,s,$a(a))}function L_(e,s,a,p){return p=typeof p=="function"?p:r,e==null?e:Rc(e,s,$a(a),p)}function us(e){return e==null?[]:ca(e,Pe(e))}function M_(e){return e==null?[]:ca(e,Xe(e))}function D_(e,s,a){return a===r&&(a=s,s=r),a!==r&&(a=bn(a),a=a===a?a:0),s!==r&&(s=bn(s),s=s===s?s:0),Mr(bn(e),s,a)}function B_(e,s,a){return s=Qn(s),a===r?(a=s,s=0):a=Qn(a),e=bn(e),Wg(e,s,a)}function z_(e,s,a){if(a&&typeof a!="boolean"&&Ve(e,s,a)&&(s=a=r),a===r&&(typeof s=="boolean"?(a=s,s=r):typeof e=="boolean"&&(a=e,e=r)),e===r&&s===r?(e=0,s=1):(e=Qn(e),s===r?(s=e,e=0):s=Qn(s)),e>s){var p=e;e=s,s=p}if(a||e%1||s%1){var x=ic();return Be(e+x*(s-e+m0("1e-"+((x+"").length-1))),s)}return Ea(e,s)}var N_=os(function(e,s,a){return s=s.toLowerCase(),e+(a?Bf(s):s)});function Bf(e){return Xa(se(e).toLowerCase())}function zf(e){return e=se(e),e&&e.replace(Fp,R0).replace(o0,"")}function U_(e,s,a){e=se(e),s=sn(s);var p=e.length;a=a===r?p:Mr(Kt(a),0,p);var x=a;return a-=s.length,a>=0&&e.slice(a,x)==s}function F_(e){return e=se(e),e&&xp.test(e)?e.replace(cr,O0):e}function j_(e){return e=se(e),e&&Ap.test(e)?e.replace(Go,"\\$&"):e}var W_=os(function(e,s,a){return e+(a?"-":"")+s.toLowerCase()}),q_=os(function(e,s,a){return e+(a?" ":"")+s.toLowerCase()}),H_=Uc("toLowerCase");function V_(e,s,a){e=se(e),s=Kt(s);var p=s?Xr(e):0;if(!s||p>=s)return e;var x=(s-p)/2;return Vi(Pi(x),a)+e+Vi($i(x),a)}function K_(e,s,a){e=se(e),s=Kt(s);var p=s?Xr(e):0;return s&&p<s?e+Vi(s-p,a):e}function G_(e,s,a){e=se(e),s=Kt(s);var p=s?Xr(e):0;return s&&p<s?Vi(s-p,a)+e:e}function Z_(e,s,a){return a||s==null?s=0:s&&(s=+s),ng(se(e).replace(Zo,""),s||0)}function Y_(e,s,a){return(a?Ve(e,s,a):s===r)?s=1:s=Kt(s),Aa(se(e),s)}function J_(){var e=arguments,s=se(e[0]);return e.length<3?s:s.replace(e[1],e[2])}var Q_=os(function(e,s,a){return e+(a?"_":"")+s.toLowerCase()});function X_(e,s,a){return a&&typeof a!="number"&&Ve(e,s,a)&&(s=a=r),a=a===r?it:a>>>0,a?(e=se(e),e&&(typeof s=="string"||s!=null&&!Ya(s))&&(s=sn(s),!s&&Qr(e))?_r(Sn(e),0,a):e.split(s,a)):[]}var ty=os(function(e,s,a){return e+(a?" ":"")+Xa(s)});function ey(e,s,a){return e=se(e),a=a==null?0:Mr(Kt(a),0,e.length),s=sn(s),e.slice(a,a+s.length)==s}function ny(e,s,a){var p=I.templateSettings;a&&Ve(e,s,a)&&(s=r),e=se(e),s=so({},s,p,Kc);var x=so({},s.imports,p.imports,Kc),P=Pe(x),q=ca(x,P),Y,et,vt=0,_t=s.interpolate||vi,xt="__p += '",Rt=da((s.escape||vi).source+"|"+_t.source+"|"+(_t===gu?Mp:vi).source+"|"+(s.evaluate||vi).source+"|$","g"),Lt="//# sourceURL="+(ue.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++f0+"]")+`
`;e.replace(Rt,function(Nt,Yt,Qt,an,Ke,ln){return Qt||(Qt=an),xt+=e.slice(vt,ln).replace(jp,I0),Yt&&(Y=!0,xt+=`' +
__e(`+Yt+`) +
'`),Ke&&(et=!0,xt+=`';
`+Ke+`;
__p += '`),Qt&&(xt+=`' +
((__t = (`+Qt+`)) == null ? '' : __t) +
'`),vt=ln+Nt.length,Nt}),xt+=`';
`;var zt=ue.call(s,"variable")&&s.variable;if(!zt)xt=`with (obj) {
`+xt+`
}
`;else if(Pp.test(zt))throw new jt(c);xt=(et?xt.replace(Gr,""):xt).replace(Vo,"$1").replace(Ko,"$1;"),xt="function("+(zt||"obj")+`) {
`+(zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(et?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xt+`return __p
}`;var Gt=Uf(function(){return re(P,Lt+"return "+xt).apply(r,q)});if(Gt.source=xt,Za(Gt))throw Gt;return Gt}function ry(e){return se(e).toLowerCase()}function sy(e){return se(e).toUpperCase()}function iy(e,s,a){if(e=se(e),e&&(a||s===r))return Gu(e);if(!e||!(s=sn(s)))return e;var p=Sn(e),x=Sn(s),P=Zu(p,x),q=Yu(p,x)+1;return _r(p,P,q).join("")}function oy(e,s,a){if(e=se(e),e&&(a||s===r))return e.slice(0,Qu(e)+1);if(!e||!(s=sn(s)))return e;var p=Sn(e),x=Yu(p,Sn(s))+1;return _r(p,0,x).join("")}function ay(e,s,a){if(e=se(e),e&&(a||s===r))return e.replace(Zo,"");if(!e||!(s=sn(s)))return e;var p=Sn(e),x=Zu(p,Sn(s));return _r(p,x).join("")}function ly(e,s){var a=B,p=nt;if(ke(s)){var x="separator"in s?s.separator:x;a="length"in s?Kt(s.length):a,p="omission"in s?sn(s.omission):p}e=se(e);var P=e.length;if(Qr(e)){var q=Sn(e);P=q.length}if(a>=P)return e;var Y=a-Xr(p);if(Y<1)return p;var et=q?_r(q,0,Y).join(""):e.slice(0,Y);if(x===r)return et+p;if(q&&(Y+=et.length-Y),Ya(x)){if(e.slice(Y).search(x)){var vt,_t=et;for(x.global||(x=da(x.source,se(mu.exec(x))+"g")),x.lastIndex=0;vt=x.exec(_t);)var xt=vt.index;et=et.slice(0,xt===r?Y:xt)}}else if(e.indexOf(sn(x),Y)!=Y){var Rt=et.lastIndexOf(x);Rt>-1&&(et=et.slice(0,Rt))}return et+p}function uy(e){return e=se(e),e&&Zr.test(e)?e.replace(Ss,z0):e}var cy=os(function(e,s,a){return e+(a?" ":"")+s.toUpperCase()}),Xa=Uc("toUpperCase");function Nf(e,s,a){return e=se(e),s=a?r:s,s===r?P0(e)?F0(e):C0(e):e.match(s)||[]}var Uf=Zt(function(e,s){try{return nn(e,r,s)}catch(a){return Za(a)?a:new jt(a)}}),fy=Zn(function(e,s){return pn(s,function(a){a=Mn(a),Kn(e,a,Ka(e[a],e))}),e});function dy(e){var s=e==null?0:e.length,a=Dt();return e=s?we(e,function(p){if(typeof p[1]!="function")throw new gn(u);return[a(p[0]),p[1]]}):[],Zt(function(p){for(var x=-1;++x<s;){var P=e[x];if(nn(P[0],this,p))return nn(P[1],this,p)}})}function hy(e){return zg(vn(e,m))}function tl(e){return function(){return e}}function py(e,s){return e==null||e!==e?s:e}var gy=jc(),my=jc(!0);function tn(e){return e}function el(e){return _c(typeof e=="function"?e:vn(e,m))}function vy(e){return bc(vn(e,m))}function _y(e,s){return xc(e,vn(s,m))}var yy=Zt(function(e,s){return function(a){return Ls(a,e,s)}}),by=Zt(function(e,s){return function(a){return Ls(e,a,s)}});function nl(e,s,a){var p=Pe(s),x=Ni(s,p);a==null&&!(ke(s)&&(x.length||!p.length))&&(a=s,s=e,e=this,x=Ni(s,Pe(s)));var P=!(ke(a)&&"chain"in a)||!!a.chain,q=Jn(e);return pn(x,function(Y){var et=s[Y];e[Y]=et,q&&(e.prototype[Y]=function(){var vt=this.__chain__;if(P||vt){var _t=e(this.__wrapped__),xt=_t.__actions__=Je(this.__actions__);return xt.push({func:et,args:arguments,thisArg:e}),_t.__chain__=vt,_t}return et.apply(e,dr([this.value()],arguments))})}),e}function xy(){return Le._===this&&(Le._=K0),this}function rl(){}function wy(e){return e=Kt(e),Zt(function(s){return wc(s,e)})}var ky=La(we),Cy=La(Wu),Sy=La(ia);function Ff(e){return Fa(e)?oa(Mn(e)):em(e)}function Ey(e){return function(s){return e==null?r:Dr(e,s)}}var Ay=qc(),Ty=qc(!0);function sl(){return[]}function il(){return!1}function Ry(){return{}}function Oy(){return""}function Iy(){return!0}function $y(e,s){if(e=Kt(e),e<1||e>Et)return[];var a=it,p=Be(e,it);s=Dt(s),e-=it;for(var x=ua(p,s);++a<e;)s(a);return x}function Py(e){return qt(e)?we(e,Mn):on(e)?[e]:Je(af(se(e)))}function Ly(e){var s=++H0;return se(e)+s}var My=Hi(function(e,s){return e+s},0),Dy=Ma("ceil"),By=Hi(function(e,s){return e/s},1),zy=Ma("floor");function Ny(e){return e&&e.length?zi(e,tn,ba):r}function Uy(e,s){return e&&e.length?zi(e,Dt(s,2),ba):r}function Fy(e){return Vu(e,tn)}function jy(e,s){return Vu(e,Dt(s,2))}function Wy(e){return e&&e.length?zi(e,tn,Ca):r}function qy(e,s){return e&&e.length?zi(e,Dt(s,2),Ca):r}var Hy=Hi(function(e,s){return e*s},1),Vy=Ma("round"),Ky=Hi(function(e,s){return e-s},0);function Gy(e){return e&&e.length?la(e,tn):0}function Zy(e,s){return e&&e.length?la(e,Dt(s,2)):0}return I.after=v1,I.ary=_f,I.assign=s_,I.assignIn=$f,I.assignInWith=so,I.assignWith=i_,I.at=o_,I.before=yf,I.bind=Ka,I.bindAll=fy,I.bindKey=bf,I.castArray=R1,I.chain=gf,I.chunk=zm,I.compact=Nm,I.concat=Um,I.cond=dy,I.conforms=hy,I.constant=tl,I.countBy=Gv,I.create=a_,I.curry=xf,I.curryRight=wf,I.debounce=kf,I.defaults=l_,I.defaultsDeep=u_,I.defer=_1,I.delay=y1,I.difference=Fm,I.differenceBy=jm,I.differenceWith=Wm,I.drop=qm,I.dropRight=Hm,I.dropRightWhile=Vm,I.dropWhile=Km,I.fill=Gm,I.filter=Yv,I.flatMap=Xv,I.flatMapDeep=t1,I.flatMapDepth=e1,I.flatten=ff,I.flattenDeep=Zm,I.flattenDepth=Ym,I.flip=b1,I.flow=gy,I.flowRight=my,I.fromPairs=Jm,I.functions=m_,I.functionsIn=v_,I.groupBy=n1,I.initial=Xm,I.intersection=tv,I.intersectionBy=ev,I.intersectionWith=nv,I.invert=y_,I.invertBy=b_,I.invokeMap=s1,I.iteratee=el,I.keyBy=i1,I.keys=Pe,I.keysIn=Xe,I.map=Qi,I.mapKeys=w_,I.mapValues=k_,I.matches=vy,I.matchesProperty=_y,I.memoize=to,I.merge=C_,I.mergeWith=Pf,I.method=yy,I.methodOf=by,I.mixin=nl,I.negate=eo,I.nthArg=wy,I.omit=S_,I.omitBy=E_,I.once=x1,I.orderBy=o1,I.over=ky,I.overArgs=w1,I.overEvery=Cy,I.overSome=Sy,I.partial=Ga,I.partialRight=Cf,I.partition=a1,I.pick=A_,I.pickBy=Lf,I.property=Ff,I.propertyOf=Ey,I.pull=ov,I.pullAll=hf,I.pullAllBy=av,I.pullAllWith=lv,I.pullAt=uv,I.range=Ay,I.rangeRight=Ty,I.rearg=k1,I.reject=c1,I.remove=cv,I.rest=C1,I.reverse=Ha,I.sampleSize=d1,I.set=R_,I.setWith=O_,I.shuffle=h1,I.slice=fv,I.sortBy=m1,I.sortedUniq=_v,I.sortedUniqBy=yv,I.split=X_,I.spread=S1,I.tail=bv,I.take=xv,I.takeRight=wv,I.takeRightWhile=kv,I.takeWhile=Cv,I.tap=Nv,I.throttle=E1,I.thru=Ji,I.toArray=Rf,I.toPairs=Mf,I.toPairsIn=Df,I.toPath=Py,I.toPlainObject=If,I.transform=I_,I.unary=A1,I.union=Sv,I.unionBy=Ev,I.unionWith=Av,I.uniq=Tv,I.uniqBy=Rv,I.uniqWith=Ov,I.unset=$_,I.unzip=Va,I.unzipWith=pf,I.update=P_,I.updateWith=L_,I.values=us,I.valuesIn=M_,I.without=Iv,I.words=Nf,I.wrap=T1,I.xor=$v,I.xorBy=Pv,I.xorWith=Lv,I.zip=Mv,I.zipObject=Dv,I.zipObjectDeep=Bv,I.zipWith=zv,I.entries=Mf,I.entriesIn=Df,I.extend=$f,I.extendWith=so,nl(I,I),I.add=My,I.attempt=Uf,I.camelCase=N_,I.capitalize=Bf,I.ceil=Dy,I.clamp=D_,I.clone=O1,I.cloneDeep=$1,I.cloneDeepWith=P1,I.cloneWith=I1,I.conformsTo=L1,I.deburr=zf,I.defaultTo=py,I.divide=By,I.endsWith=U_,I.eq=An,I.escape=F_,I.escapeRegExp=j_,I.every=Zv,I.find=Jv,I.findIndex=uf,I.findKey=c_,I.findLast=Qv,I.findLastIndex=cf,I.findLastKey=f_,I.floor=zy,I.forEach=mf,I.forEachRight=vf,I.forIn=d_,I.forInRight=h_,I.forOwn=p_,I.forOwnRight=g_,I.get=Ja,I.gt=M1,I.gte=D1,I.has=__,I.hasIn=Qa,I.head=df,I.identity=tn,I.includes=r1,I.indexOf=Qm,I.inRange=B_,I.invoke=x_,I.isArguments=Nr,I.isArray=qt,I.isArrayBuffer=B1,I.isArrayLike=Qe,I.isArrayLikeObject=Ee,I.isBoolean=z1,I.isBuffer=yr,I.isDate=N1,I.isElement=U1,I.isEmpty=F1,I.isEqual=j1,I.isEqualWith=W1,I.isError=Za,I.isFinite=q1,I.isFunction=Jn,I.isInteger=Sf,I.isLength=no,I.isMap=Ef,I.isMatch=H1,I.isMatchWith=V1,I.isNaN=K1,I.isNative=G1,I.isNil=Y1,I.isNull=Z1,I.isNumber=Af,I.isObject=ke,I.isObjectLike=Ce,I.isPlainObject=Us,I.isRegExp=Ya,I.isSafeInteger=J1,I.isSet=Tf,I.isString=ro,I.isSymbol=on,I.isTypedArray=ls,I.isUndefined=Q1,I.isWeakMap=X1,I.isWeakSet=t_,I.join=rv,I.kebabCase=W_,I.last=yn,I.lastIndexOf=sv,I.lowerCase=q_,I.lowerFirst=H_,I.lt=e_,I.lte=n_,I.max=Ny,I.maxBy=Uy,I.mean=Fy,I.meanBy=jy,I.min=Wy,I.minBy=qy,I.stubArray=sl,I.stubFalse=il,I.stubObject=Ry,I.stubString=Oy,I.stubTrue=Iy,I.multiply=Hy,I.nth=iv,I.noConflict=xy,I.noop=rl,I.now=Xi,I.pad=V_,I.padEnd=K_,I.padStart=G_,I.parseInt=Z_,I.random=z_,I.reduce=l1,I.reduceRight=u1,I.repeat=Y_,I.replace=J_,I.result=T_,I.round=Vy,I.runInContext=X,I.sample=f1,I.size=p1,I.snakeCase=Q_,I.some=g1,I.sortedIndex=dv,I.sortedIndexBy=hv,I.sortedIndexOf=pv,I.sortedLastIndex=gv,I.sortedLastIndexBy=mv,I.sortedLastIndexOf=vv,I.startCase=ty,I.startsWith=ey,I.subtract=Ky,I.sum=Gy,I.sumBy=Zy,I.template=ny,I.times=$y,I.toFinite=Qn,I.toInteger=Kt,I.toLength=Of,I.toLower=ry,I.toNumber=bn,I.toSafeInteger=r_,I.toString=se,I.toUpper=sy,I.trim=iy,I.trimEnd=oy,I.trimStart=ay,I.truncate=ly,I.unescape=uy,I.uniqueId=Ly,I.upperCase=cy,I.upperFirst=Xa,I.each=mf,I.eachRight=vf,I.first=df,nl(I,function(){var e={};return Pn(I,function(s,a){ue.call(I.prototype,a)||(e[a]=s)}),e}(),{chain:!1}),I.VERSION=i,pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){I[e].placeholder=I}),pn(["drop","take"],function(e,s){Jt.prototype[e]=function(a){a=a===r?1:$e(Kt(a),0);var p=this.__filtered__&&!s?new Jt(this):this.clone();return p.__filtered__?p.__takeCount__=Be(a,p.__takeCount__):p.__views__.push({size:Be(a,it),type:e+(p.__dir__<0?"Right":"")}),p},Jt.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),pn(["filter","map","takeWhile"],function(e,s){var a=s+1,p=a==_||a==Ct;Jt.prototype[e]=function(x){var P=this.clone();return P.__iteratees__.push({iteratee:Dt(x,3),type:a}),P.__filtered__=P.__filtered__||p,P}}),pn(["head","last"],function(e,s){var a="take"+(s?"Right":"");Jt.prototype[e]=function(){return this[a](1).value()[0]}}),pn(["initial","tail"],function(e,s){var a="drop"+(s?"":"Right");Jt.prototype[e]=function(){return this.__filtered__?new Jt(this):this[a](1)}}),Jt.prototype.compact=function(){return this.filter(tn)},Jt.prototype.find=function(e){return this.filter(e).head()},Jt.prototype.findLast=function(e){return this.reverse().find(e)},Jt.prototype.invokeMap=Zt(function(e,s){return typeof e=="function"?new Jt(this):this.map(function(a){return Ls(a,e,s)})}),Jt.prototype.reject=function(e){return this.filter(eo(Dt(e)))},Jt.prototype.slice=function(e,s){e=Kt(e);var a=this;return a.__filtered__&&(e>0||s<0)?new Jt(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),s!==r&&(s=Kt(s),a=s<0?a.dropRight(-s):a.take(s-e)),a)},Jt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Jt.prototype.toArray=function(){return this.take(it)},Pn(Jt.prototype,function(e,s){var a=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),x=I[p?"take"+(s=="last"?"Right":""):s],P=p||/^find/.test(s);x&&(I.prototype[s]=function(){var q=this.__wrapped__,Y=p?[1]:arguments,et=q instanceof Jt,vt=Y[0],_t=et||qt(q),xt=function(Yt){var Qt=x.apply(I,dr([Yt],Y));return p&&Rt?Qt[0]:Qt};_t&&a&&typeof vt=="function"&&vt.length!=1&&(et=_t=!1);var Rt=this.__chain__,Lt=!!this.__actions__.length,zt=P&&!Rt,Gt=et&&!Lt;if(!P&&_t){q=Gt?q:new Jt(this);var Nt=e.apply(q,Y);return Nt.__actions__.push({func:Ji,args:[xt],thisArg:r}),new mn(Nt,Rt)}return zt&&Gt?e.apply(this,Y):(Nt=this.thru(xt),zt?p?Nt.value()[0]:Nt.value():Nt)})}),pn(["pop","push","shift","sort","splice","unshift"],function(e){var s=ki[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",p=/^(?:pop|shift)$/.test(e);I.prototype[e]=function(){var x=arguments;if(p&&!this.__chain__){var P=this.value();return s.apply(qt(P)?P:[],x)}return this[a](function(q){return s.apply(qt(q)?q:[],x)})}}),Pn(Jt.prototype,function(e,s){var a=I[s];if(a){var p=a.name+"";ue.call(rs,p)||(rs[p]=[]),rs[p].push({name:s,func:a})}}),rs[qi(r,S).name]=[{name:"wrapper",func:r}],Jt.prototype.clone=ug,Jt.prototype.reverse=cg,Jt.prototype.value=fg,I.prototype.at=Uv,I.prototype.chain=Fv,I.prototype.commit=jv,I.prototype.next=Wv,I.prototype.plant=Hv,I.prototype.reverse=Vv,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=Kv,I.prototype.first=I.prototype.head,As&&(I.prototype[As]=qv),I},ts=j0();Ir?((Ir.exports=ts)._=ts,ea._=ts):Le._=ts}).call(ir)})(Io,Io.exports);var i5=Io.exports;const o5={class:"mb-8 border-b border-gray-200"},a5={class:"-mb-px flex space-x-8","aria-label":"Tabs"},l5=["onClick"],u5={key:0},c5={class:"card p-8"},f5={class:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end mb-6 p-6 bg-sky-50 border border-sky-200 rounded-lg"},d5={class:"md:col-span-2"},h5={class:"md:col-span-2"},p5={key:0,class:"text-center py-8 text-slate-500"},g5={key:1,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},m5={class:"text-sm text-slate-500"},v5={class:"text-xl font-bold text-slate-800 text-center"},_5={key:1},y5={key:0,class:"card p-8 max-w-4xl mx-auto"},b5={class:"space-y-6"},x5=["value"],w5={class:"text-right"},k5=["disabled"],C5={key:1},S5={class:"card p-8"},E5={class:"text-2xl font-semibold mb-6"},A5={class:"overflow-x-auto"},T5={class:"min-w-full divide-y divide-gray-200"},R5={class:"bg-white divide-y divide-gray-200"},O5={class:"table-cell"},I5={class:"table-cell font-medium"},$5={class:"table-cell"},P5=["onUpdate:modelValue","onInput","onKeydown","data-index"],L5={key:2},M5={class:"card p-8"},D5={class:"space-y-8"},B5={class:"text-xl font-bold text-sky-700 border-b-2 border-sky-200 pb-2 mb-4"},z5={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},N5=["onClick"],U5={class:"font-bold text-lg text-slate-800"},F5={class:"text-sm text-slate-500"},j5={class:"text-xs text-slate-400 mt-2"},W5={key:3},q5={class:"card p-8"},H5={class:"max-w-xl mx-auto"},V5={class:"flex items-center space-x-4 mb-8 p-4 bg-slate-50 rounded-lg border"},K5={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},G5=["onUpdate:modelValue","onChange"],Z5=["onClick"],Y5={__name:"GradeManagementView",setup(t){const n=pt([{key:"performance",name:"課堂表現"},{key:"grade_entry",name:"登錄新成績"},{key:"grade_overview",name:"總覽與修改成績"},{key:"settings",name:"科目設定"}]),r=pt("performance"),i=Fe({category:"",subject_id:null,name:"",grade_item_id:null}),o=pt(!1),l=pt([]),u=pt([]),c=pt([]),d=pt([]),y=pt(!1),g=Fe({start:"",end:""}),m=pt(""),b=le(()=>i.grade_item_id?u.value.find(E=>E.id===i.grade_item_id):null),v=le(()=>{const E={平時測驗:[],定期評量:[]};return[...u.value].sort((_,at)=>new Date(at.date)-new Date(_.date)).forEach(_=>{E[_.category]&&E[_.category].push(_)}),E}),O=()=>{Object.assign(i,{category:"",subject_id:null,name:"",grade_item_id:null}),c.value=[]},w=async()=>{const E={category:i.category,subject_id:i.subject_id,name:i.name};try{const _=await(await Vt("/api/grade-items",{method:"POST",body:JSON.stringify(E)})).json();u.value.unshift(_),i.grade_item_id=_.id,await z(_.id),o.value=!0}catch(H){console.error("建立成績項目失敗:",H)}},$=()=>{o.value=!1,O(),r.value==="grade_entry"||(r.value="grade_overview")},S=async E=>{i.grade_item_id=E.id,await z(E.id),r.value="grade_entry",o.value=!0},R=()=>{const E=new Date,H=new Date;H.setDate(E.getDate()-30),g.end=E.toISOString().split("T")[0],g.start=H.toISOString().split("T")[0]},A=async()=>{try{const[E,H]=await Promise.all([Vt("/api/subjects"),Vt("/api/grade-items")]);l.value=await E.json(),u.value=await H.json(),await M()}catch(E){console.error("讀取初始資料失敗:",E)}},M=async()=>{y.value=!0;try{const E=await Vt(`/api/performance-summary?startDate=${g.start}&endDate=${g.end}`);d.value=await E.json()}catch(E){console.error("讀取表現統計失敗:",E)}finally{y.value=!1}};Ye(()=>{R(),A()});const U=async()=>{if(!m.value)return;const E=await Vt("/api/subjects",{method:"POST",body:JSON.stringify({name:m.value})});l.value.push(await E.json()),m.value=""},rt=async E=>{Vt(`/api/subjects/${E.id}`,{method:"PUT",body:JSON.stringify({name:E.name})})},F=async E=>{confirm("確定刪除此科目嗎？所有相關的成績項目和分數將會一併刪除！")&&(await Vt(`/api/subjects/${E}`,{method:"DELETE"}),l.value=l.value.filter(H=>H.id!==E),u.value=u.value.filter(H=>H.subject_id!==E))},z=async E=>{const H=await Vt(`/api/grades/${E}`);c.value=await H.json()},D=i5.debounce((E,H)=>{b.value&&Vt("/api/grades",{method:"POST",body:JSON.stringify({grade_item_id:b.value.id,student_id:E,score:H})})},500),B=(E,H)=>{D(E,H)},nt=E=>{const H=E+1;if(H<c.value.length){const _=document.querySelector(`input[data-index='${H}']`);_&&(_.focus(),_.select())}};return Er(r,E=>{E!=="grade_entry"&&(o.value=!1,O()),E==="performance"&&M()}),(E,H)=>(K(),G("div",null,[H[19]||(H[19]=f("h1",{class:"text-4xl font-bold text-slate-800 mb-8"},"成績管理",-1)),f("div",o5,[f("nav",a5,[(K(!0),G(Wt,null,te(n.value,_=>(K(),G("a",{key:_.key,onClick:at=>r.value=_.key,class:me([r.value===_.key?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg cursor-pointer"])},ct(_.name),11,l5))),128))])]),r.value==="performance"?(K(),G("div",u5,[f("div",c5,[H[9]||(H[9]=f("h2",{class:"text-2xl font-semibold mb-6"},"課堂表現區間統計",-1)),f("div",f5,[f("div",d5,[H[6]||(H[6]=f("label",{for:"startDate",class:"block text-sm font-medium text-slate-700 mb-1"},"開始日期",-1)),Bt(f("input",{type:"date",id:"startDate","onUpdate:modelValue":H[0]||(H[0]=_=>g.start=_),class:"form-input text-base w-full py-2.5"},null,512),[[Ft,g.start]])]),f("div",h5,[H[7]||(H[7]=f("label",{for:"endDate",class:"block text-sm font-medium text-slate-700 mb-1"},"結束日期",-1)),Bt(f("input",{type:"date",id:"endDate","onUpdate:modelValue":H[1]||(H[1]=_=>g.end=_),class:"form-input text-base w-full py-2.5"},null,512),[[Ft,g.end]])]),f("div",{class:"md:col-span-1"},[f("button",{onClick:M,class:"btn btn-primary w-full text-base py-2.5 px-6 flex items-center justify-center gap-2"},[...H[8]||(H[8]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[f("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1),f("span",null,"查詢",-1)])])])]),y.value?(K(),G("div",p5,"正在讀取統計資料...")):(K(),G("div",g5,[(K(!0),G(Wt,null,te(d.value,_=>(K(),G("div",{key:_.id,class:"bg-white rounded-xl shadow-md p-4 flex flex-col items-center justify-center space-y-2 transition-transform hover:scale-105 hover:shadow-lg border"},[f("div",m5,ct(_.seat_number)+".",1),f("div",v5,ct(_.name),1),f("div",{class:me(["px-5 py-2 rounded-full text-2xl font-extrabold",{"bg-green-100 text-green-700":_.total_score>0,"bg-red-100 text-red-700":_.total_score<0,"bg-slate-100 text-slate-600":_.total_score===0||_.total_score===null}])},ct(_.total_score),3)]))),128))]))])])):Tt("",!0),r.value==="grade_entry"?(K(),G("div",_5,[o.value?Tt("",!0):(K(),G("div",y5,[H[15]||(H[15]=f("h2",{class:"text-2xl font-semibold mb-6"},"登錄新成績",-1)),f("div",b5,[f("div",null,[H[11]||(H[11]=f("label",{class:"block text-base font-medium text-slate-700"},"1. 選擇成績類別",-1)),Bt(f("select",{"onUpdate:modelValue":H[2]||(H[2]=_=>i.category=_),class:"mt-1 form-input text-lg py-3"},[...H[10]||(H[10]=[f("option",{disabled:"",value:""},"-- 請選擇 --",-1),f("option",null,"平時測驗",-1),f("option",null,"定期評量",-1)])],512),[[ai,i.category]])]),f("div",null,[H[13]||(H[13]=f("label",{class:"block text-base font-medium text-slate-700"},"2. 選擇科目",-1)),Bt(f("select",{"onUpdate:modelValue":H[3]||(H[3]=_=>i.subject_id=_),class:"mt-1 form-input text-lg py-3"},[H[12]||(H[12]=f("option",{value:null},"-- 請選擇 --",-1)),(K(!0),G(Wt,null,te(l.value,_=>(K(),G("option",{key:_.id,value:_.id},ct(_.name),9,x5))),128))],512),[[ai,i.subject_id]])]),f("div",null,[H[14]||(H[14]=f("label",{class:"block text-base font-medium text-slate-700"},"3. 輸入成績項目名稱",-1)),Bt(f("input",{type:"text","onUpdate:modelValue":H[4]||(H[4]=_=>i.name=_),placeholder:"例如: 第一次月考",class:"mt-1 form-input text-lg py-3"},null,512),[[Ft,i.name]])]),f("div",w5,[f("button",{onClick:w,disabled:!i.category||!i.subject_id||!i.name,class:"btn btn-primary text-lg px-8 py-3"}," 下一步：輸入分數 ",8,k5)])])])),o.value&&b.value?(K(),G("div",C5,[f("button",{onClick:$,class:"text-sky-600 hover:text-sky-800 mb-4"},"← 返回"),f("div",S5,[f("h2",E5,ct(b.value.subject_name)+" - "+ct(b.value.name)+" ("+ct(b.value.category)+")",1),f("div",A5,[f("table",T5,[H[16]||(H[16]=f("thead",{class:"bg-slate-50"},[f("tr",null,[f("th",{class:"table-header"},"座號"),f("th",{class:"table-header"},"姓名"),f("th",{class:"table-header"},"分數")])],-1)),f("tbody",R5,[(K(!0),G(Wt,null,te(c.value,(_,at)=>(K(),G("tr",{key:_.id,class:"hover:bg-slate-50"},[f("td",O5,ct(_.seat_number),1),f("td",I5,ct(_.name),1),f("td",$5,[Bt(f("input",{type:"number","onUpdate:modelValue":Ct=>_.score=Ct,onInput:Ct=>B(_.student_id,Ct.target.value),onKeydown:mw(We(Ct=>nt(at),["prevent"]),["enter"]),"data-index":at,class:"form-input w-32 text-lg py-2 text-center"},null,40,P5),[[Ft,_.score]])])]))),128))])])])])])):Tt("",!0)])):Tt("",!0),r.value==="grade_overview"?(K(),G("div",L5,[f("div",M5,[H[17]||(H[17]=f("h2",{class:"text-2xl font-semibold mb-6"},"成績項目總覽與修改",-1)),f("div",D5,[(K(!0),G(Wt,null,te(v.value,(_,at)=>(K(),G("div",{key:at},[f("h3",B5,ct(at),1),f("div",z5,[(K(!0),G(Wt,null,te(_,Ct=>(K(),G("div",{key:Ct.id,onClick:ut=>S(Ct),class:"p-4 border rounded-lg cursor-pointer hover:bg-sky-50 hover:shadow-lg transition-all"},[f("p",U5,ct(Ct.name),1),f("p",F5,ct(Ct.subject_name),1),f("p",j5,ct(new Date(Ct.date).toLocaleDateString()),1)],8,N5))),128))])]))),128))])])])):Tt("",!0),r.value==="settings"?(K(),G("div",W5,[f("div",q5,[H[18]||(H[18]=f("h2",{class:"text-2xl font-semibold mb-6"},"科目管理",-1)),f("div",H5,[f("div",V5,[Bt(f("input",{type:"text","onUpdate:modelValue":H[5]||(H[5]=_=>m.value=_),placeholder:"新增科目名稱...",class:"form-input text-lg flex-grow py-3"},null,512),[[Ft,m.value]]),f("button",{onClick:U,class:"btn btn-primary text-base py-3 px-6"},"新增")]),f("div",K5,[(K(!0),G(Wt,null,te(l.value,_=>(K(),G("div",{key:_.id,class:"bg-white rounded-lg shadow border p-4 flex flex-col"},[Bt(f("input",{type:"text","onUpdate:modelValue":at=>_.name=at,onChange:at=>rt(_),class:"form-input text-xl font-bold border-0 text-center p-2 mb-4"},null,40,G5),[[Ft,_.name]]),f("button",{onClick:at=>F(_.id),class:"mt-auto w-full btn btn-danger btn-sm text-xs py-1"},"刪除",8,Z5)]))),128))])])])])):Tt("",!0)]))}},J5=uu(Y5,[["__scopeId","data-v-3ef008ee"]]),Q5={class:"min-h-screen bg-sky-50 p-4 sm:p-8"},X5={class:"max-w-4xl mx-auto"},tC={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 pb-4"},eC={class:"text-xl text-slate-600 mt-2"},nC={class:"flex items-center space-x-2 mt-4 sm:mt-0"},rC={class:"space-y-8"},sC={key:0,class:"text-center text-slate-500 py-10"},iC={key:1,class:"text-center text-slate-500 bg-white p-10 rounded-lg shadow"},oC={key:2,class:"space-y-6"},aC={class:"flex flex-col md:flex-row justify-between items-start"},lC={class:"mb-4 md:mb-0 flex-1"},uC={class:"px-2 py-1 text-xs font-semibold rounded-full bg-sky-100 text-sky-800"},cC={class:"text-2xl font-bold text-slate-800 mt-2"},fC={class:"text-slate-600 mt-2"},dC={class:"text-sm text-red-600 mt-3 font-medium"},hC={class:"w-full md:w-auto md:ml-6"},pC={key:0,class:"w-full text-center py-3 px-6 text-base flex items-center justify-center gap-2 bg-green-100 text-green-700 rounded-md font-bold"},gC={key:1},mC=["onChange","id"],vC=["onClick"],_C={key:0,class:"fixed z-20 inset-0 overflow-y-auto"},yC={class:"flex items-center justify-center min-h-screen"},bC={class:"bg-white rounded-lg shadow-xl transform transition-all max-w-lg w-full"},xC={class:"p-6"},wC={class:"mb-2"},kC={class:"text-indigo-600"},CC={class:"text-sm text-slate-600 bg-slate-50 p-3 rounded-md max-h-40 overflow-y-auto border"},SC={key:1,class:"fixed z-10 inset-0 overflow-y-auto"},EC={class:"flex items-center justify-center min-h-screen"},AC={class:"bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all max-w-lg w-full"},TC={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},RC={class:"mt-4 space-y-4"},OC={key:0,class:"text-red-500 text-sm"},IC={__name:"StudentDashboardView",setup(t){const n=mi(),r=pt(JSON.parse(localStorage.getItem("studentInfo")||"{}")),i=pt([]),o=pt(!0);Fe({text:"",type:"success"});const l=pt(!1),u=Fe({currentPassword:"",newPassword:"",confirmPassword:"",error:""}),c=Fe({show:!1,files:[],assignmentId:null,assignmentTitle:"",fileInputRef:null}),d=(R,A="success",M=5e3)=>{const U=document.createElement("div");U.className=`fixed top-5 right-5 p-4 rounded-lg shadow-lg text-white ${A==="success"?"bg-green-500":"bg-red-500"}`,U.textContent=R,document.body.appendChild(U),setTimeout(()=>{U.remove()},M)},y=()=>{localStorage.clear(),window.location.href="/auth"},g=()=>{n.push({name:"pingpong-student"})},m=async()=>{o.value=!0;try{const R=await Vt("/api/student/assignments");if(!R.ok)throw new Error("無法讀取作業列表");i.value=await R.json()}catch(R){d(R.message,"error")}finally{o.value=!1}},b=R=>{const A=document.getElementById(`file-upload-${R}`);A&&A.click()},v=(R,A)=>{const M=Array.from(R.target.files);if(M.length===0)return;const U=i.value.find(rt=>rt.id===A);Object.assign(c,{show:!0,files:M,assignmentId:A,assignmentTitle:U.title,fileInputRef:R.target})},O=()=>{c.fileInputRef&&(c.fileInputRef.value=""),Object.assign(c,{show:!1,files:[],assignmentId:null,assignmentTitle:"",fileInputRef:null})},w=async()=>{const R=new FormData;c.files.forEach(A=>{R.append("files",A)});try{const A=await Vt(`/api/student/upload/${c.assignmentId}`,{method:"POST",body:R}),M=await A.json();if(!A.ok)throw new Error(M.error||"上傳失敗");d(M.message,"success"),m()}catch(A){d(A.message,"error")}finally{O()}},$=()=>{l.value=!1,Object.assign(u,{currentPassword:"",newPassword:"",confirmPassword:"",error:""})},S=async()=>{if(u.error="",u.newPassword!==u.confirmPassword)return u.error="新密碼與確認密碼不相符。";if(u.newPassword.length<6)return u.error="新密碼長度至少需要 6 個字元。";try{const R=await Vt("/api/student/change-password",{method:"POST",body:JSON.stringify({currentPassword:u.currentPassword,newPassword:u.newPassword})}),A=await R.json();if(!R.ok)throw new Error(A.error);d("密碼已成功更新！您無需重新登入。","success"),$()}catch(R){u.error=R.message}};return Ye(m),(R,A)=>(K(),G("div",Q5,[f("div",X5,[f("div",tC,[f("div",null,[A[5]||(A[5]=f("h1",{class:"text-4xl font-bold text-slate-800"},"學生儀表板",-1)),f("p",eC,ct(r.value.name)+" 同學，您好！",1)]),f("div",nC,[f("button",{onClick:g,class:"btn bg-teal-500 hover:bg-teal-600"},"加入 PingPong"),f("button",{onClick:A[0]||(A[0]=M=>l.value=!0),class:"btn bg-slate-500 hover:bg-slate-600"},"修改密碼"),f("button",{onClick:y,class:"btn bg-red-500 hover:bg-red-600"},"登出")])]),f("div",rC,[A[8]||(A[8]=f("h2",{class:"text-3xl font-semibold text-slate-700"},"待繳交作業",-1)),o.value?(K(),G("div",sC,"作業列表讀取中...")):i.value.length===0?(K(),G("div",iC,"目前沒有需要繳交的作業。")):(K(),G("div",oC,[(K(!0),G(Wt,null,te(i.value,M=>(K(),G("div",{key:M.id,class:"card p-6"},[f("div",aC,[f("div",lC,[f("span",uC,ct(M.subject_name),1),f("h3",cC,ct(M.title),1),f("p",fC,ct(M.description),1),f("p",dC,"繳交截止日期："+ct(new Date(M.due_date).toLocaleString()),1)]),f("div",hC,[M.hasSubmitted&&!M.allow_resubmission?(K(),G("div",pC,[...A[6]||(A[6]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f("span",null,"已繳交",-1)])])):(K(),G("div",gC,[f("input",{type:"file",onChange:U=>v(U,M.id),id:"file-upload-"+M.id,class:"hidden",multiple:""},null,40,mC),f("button",{onClick:U=>b(M.id),class:"w-full btn btn-primary py-3 px-6 text-base flex items-center justify-center gap-2"},[A[7]||(A[7]=f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[f("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),f("span",null,ct(M.hasSubmitted?"重新上傳":"選擇檔案上傳"),1)],8,vC)]))])])]))),128))]))])]),c.show?(K(),G("div",_C,[f("div",yC,[f("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:O}),f("div",bC,[f("div",xC,[A[12]||(A[12]=f("h3",{class:"text-xl font-bold mb-4"},"確認上傳",-1)),f("p",wC,[A[9]||(A[9]=ve("您確定要將以下 ",-1)),f("strong",kC,ct(c.files.length),1),A[10]||(A[10]=ve(" 個檔案上傳至「",-1)),f("strong",null,ct(c.assignmentTitle),1),A[11]||(A[11]=ve("」嗎？",-1))]),f("ul",CC,[(K(!0),G(Wt,null,te(c.files,M=>(K(),G("li",{key:M.name,class:"truncate"},ct(M.name),1))),128))])]),f("div",{class:"bg-gray-50 px-6 py-4 flex justify-end space-x-3"},[f("button",{onClick:O,class:"btn btn-secondary"},"取消"),f("button",{onClick:w,class:"btn btn-primary"},"確認上傳")])])])])):Tt("",!0),l.value?(K(),G("div",SC,[f("div",EC,[f("div",{class:"fixed inset-0 bg-gray-500 opacity-75",onClick:A[1]||(A[1]=M=>l.value=!1)}),f("div",AC,[f("form",{onSubmit:We(S,["prevent"])},[f("div",TC,[A[16]||(A[16]=f("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"修改密碼",-1)),f("div",RC,[f("div",null,[A[13]||(A[13]=f("label",{class:"block text-sm font-medium text-gray-700"},"目前的密碼",-1)),Bt(f("input",{type:"password","onUpdate:modelValue":A[2]||(A[2]=M=>u.currentPassword=M),required:"",class:"mt-1 form-input"},null,512),[[Ft,u.currentPassword]])]),f("div",null,[A[14]||(A[14]=f("label",{class:"block text-sm font-medium text-gray-700"},"新密碼 (至少 6 個字元)",-1)),Bt(f("input",{type:"password","onUpdate:modelValue":A[3]||(A[3]=M=>u.newPassword=M),required:"",class:"mt-1 form-input"},null,512),[[Ft,u.newPassword]])]),f("div",null,[A[15]||(A[15]=f("label",{class:"block text-sm font-medium text-gray-700"},"確認新密碼",-1)),Bt(f("input",{type:"password","onUpdate:modelValue":A[4]||(A[4]=M=>u.confirmPassword=M),required:"",class:"mt-1 form-input"},null,512),[[Ft,u.confirmPassword]])]),u.error?(K(),G("p",OC,ct(u.error),1)):Tt("",!0)])]),f("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[A[17]||(A[17]=f("button",{type:"submit",class:"btn btn-primary"},"確認修改",-1)),f("button",{type:"button",onClick:$,class:"btn btn-secondary sm:ml-3 mt-2 sm:mt-0"},"取消")])],32)])])])):Tt("",!0)]))}},$C={class:"min-h-screen bg-slate-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},PC={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-lg"},LC={class:"bg-white py-8 px-4 shadow-2xl rounded-2xl sm:px-10"},MC={key:0,class:"mb-6"},DC={class:"flex border-b border-slate-200"},BC={key:0,class:"text-red-500 text-base text-center font-semibold"},zC={key:0},NC={class:"mt-4"},UC={key:1},FC={class:"mt-4"},jC={key:2,class:"text-red-500 text-base text-center font-semibold"},WC={key:3,class:"mt-6"},qC={__name:"AuthView",setup(t){const n=pt(!1),r=pt(""),i=mi(),o=pt("teacher"),l=Fe({name:"",username:"",account:"",password:"",passwordConfirm:""});Er(o,()=>{r.value="",Object.keys(l).forEach(g=>l[g]="")}),Ye(async()=>{try{const m=await(await fetch("/api/auth/teacher/setup-status")).json();n.value=m.setupNeeded}catch{r.value="無法連接到伺服器，請確認後端是否已啟動。"}});const c=async()=>{if(r.value="",l.password!==l.passwordConfirm)return r.value="兩次輸入的密碼不一致。";if(l.password.length<6)return r.value="密碼長度至少需要 6 個字元。";try{const g=await fetch("/api/auth/teacher/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name,username:l.username,password:l.password})});if(!g.ok)throw new Error((await g.json()).error);alert("帳號建立成功！請使用剛剛建立的帳號密碼登入。"),window.location.reload()}catch(g){r.value=g.message}},d=async()=>{r.value="";const g=o.value==="teacher",m=g?"/api/auth/teacher/login":"/api/auth/student/login",b=g?{username:l.username,password:l.password}:{account:l.account,password:l.password};try{const v=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),O=await v.json();if(!v.ok)throw new Error(O.error);g?(localStorage.setItem("teacherToken",O.token),localStorage.setItem("teacherInfo",JSON.stringify(O.teacher)),i.push({name:"home"})):(localStorage.setItem("studentToken",O.token),localStorage.setItem("studentInfo",JSON.stringify(O.student)),i.push({name:"student-dashboard"}))}catch(v){r.value=v.message}},y=()=>i.push({name:"pingpong-student"});return(g,m)=>(K(),G("div",$C,[m[23]||(m[23]=f("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[f("h2",{class:"mt-6 text-center text-4xl font-extrabold text-sky-600"}," 智慧班級 "),f("p",{class:"mt-2 text-center text-lg text-slate-500"},"一個為課堂而生的互動平台")],-1)),f("div",PC,[f("div",LC,[n.value?Tt("",!0):(K(),G("div",MC,[f("div",DC,[f("button",{onClick:m[0]||(m[0]=b=>o.value="teacher"),class:me(["w-1/2 py-4 text-center font-semibold text-lg transition-colors duration-200",o.value==="teacher"?"border-b-4 border-sky-500 text-sky-600":"text-slate-500 hover:text-slate-800"])}," 教師登入 ",2),f("button",{onClick:m[1]||(m[1]=b=>o.value="student"),class:me(["w-1/2 py-4 text-center font-semibold text-lg transition-colors duration-200",o.value==="student"?"border-b-4 border-sky-500 text-sky-600":"text-slate-500 hover:text-slate-800"])}," 學生登入 ",2)])])),n.value&&o.value==="teacher"?(K(),G("form",{key:1,class:"space-y-6",onSubmit:We(c,["prevent"])},[m[14]||(m[14]=f("h3",{class:"text-xl font-medium text-center text-slate-800"},"建立您的教師帳號",-1)),m[15]||(m[15]=f("p",{class:"text-center text-base text-slate-600"},"這是您第一次啟動，請設定第一位管理者帳號。",-1)),f("div",null,[m[10]||(m[10]=f("label",{for:"name",class:"block text-base font-medium text-slate-700"},"姓名",-1)),Bt(f("input",{"onUpdate:modelValue":m[2]||(m[2]=b=>l.name=b),id:"name",type:"text",required:"",placeholder:"請輸入您的姓名",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.name]])]),f("div",null,[m[11]||(m[11]=f("label",{for:"username",class:"block text-base font-medium text-slate-700"},"帳號",-1)),Bt(f("input",{"onUpdate:modelValue":m[3]||(m[3]=b=>l.username=b),id:"username",type:"text",required:"",placeholder:"設定您的登入帳號",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.username]])]),f("div",null,[m[12]||(m[12]=f("label",{for:"password",class:"block text-base font-medium text-slate-700"},"密碼",-1)),Bt(f("input",{"onUpdate:modelValue":m[4]||(m[4]=b=>l.password=b),id:"password",type:"password",required:"",placeholder:"至少 6 個字元",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.password]])]),f("div",null,[m[13]||(m[13]=f("label",{for:"passwordConfirm",class:"block text-base font-medium text-slate-700"},"確認密碼",-1)),Bt(f("input",{"onUpdate:modelValue":m[5]||(m[5]=b=>l.passwordConfirm=b),id:"passwordConfirm",type:"password",required:"",placeholder:"再次輸入您的密碼",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.passwordConfirm]])]),r.value?(K(),G("div",BC,ct(r.value),1)):Tt("",!0),m[16]||(m[16]=f("div",null,[f("button",{type:"submit",class:"w-full btn btn-success text-xl py-4"},"建立帳號")],-1))],32)):(K(),G("form",{key:2,class:"space-y-6",onSubmit:We(d,["prevent"])},[o.value==="teacher"?(K(),G("div",zC,[f("div",null,[m[17]||(m[17]=f("label",{for:"login-username",class:"block text-base font-medium text-slate-700"},"教師帳號",-1)),Bt(f("input",{"onUpdate:modelValue":m[6]||(m[6]=b=>l.username=b),id:"login-username",type:"text",required:"",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.username]])]),f("div",NC,[m[18]||(m[18]=f("label",{for:"login-password",class:"block text-base font-medium text-slate-700"},"密碼",-1)),Bt(f("input",{"onUpdate:modelValue":m[7]||(m[7]=b=>l.password=b),id:"login-password",type:"password",required:"",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.password]])])])):Tt("",!0),o.value==="student"?(K(),G("div",UC,[f("div",null,[m[19]||(m[19]=f("label",{for:"student-account",class:"block text-base font-medium text-slate-700"},"學生帳號",-1)),Bt(f("input",{"onUpdate:modelValue":m[8]||(m[8]=b=>l.account=b),id:"student-account",type:"text",required:"",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.account]])]),f("div",FC,[m[20]||(m[20]=f("label",{for:"student-password",class:"block text-base font-medium text-slate-700"},"密碼",-1)),Bt(f("input",{"onUpdate:modelValue":m[9]||(m[9]=b=>l.password=b),id:"student-password",type:"password",required:"",class:"form-input mt-1 text-lg py-3"},null,512),[[Ft,l.password]])])])):Tt("",!0),r.value?(K(),G("div",jC,ct(r.value),1)):Tt("",!0),m[21]||(m[21]=f("div",null,[f("button",{type:"submit",class:"w-full btn btn-primary text-xl py-4"},"登入")],-1))],32)),n.value?Tt("",!0):(K(),G("div",WC,[m[22]||(m[22]=qr('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-slate-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-slate-500 text-base">或者</span></div></div>',1)),f("div",{class:"mt-6"},[f("button",{onClick:y,class:"w-full btn bg-teal-500 hover:bg-teal-600 text-xl py-4"},"加入 PingPong 活動")])]))])])]))}},Wn=Object.create(null);Wn.open="0";Wn.close="1";Wn.ping="2";Wn.pong="3";Wn.message="4";Wn.upgrade="5";Wn.noop="6";const vo=Object.create(null);Object.keys(Wn).forEach(t=>{vo[Wn[t]]=t});const Bl={type:"error",data:"parser error"},ip=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",op=typeof ArrayBuffer=="function",ap=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,cu=({type:t,data:n},r,i)=>ip&&n instanceof Blob?r?i(n):zd(n,i):op&&(n instanceof ArrayBuffer||ap(n))?r?i(n):zd(new Blob([n]),i):i(Wn[t]+(n||"")),zd=(t,n)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];n("b"+(i||""))},r.readAsDataURL(t)};function Nd(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let bl;function HC(t,n){if(ip&&t.data instanceof Blob)return t.data.arrayBuffer().then(Nd).then(n);if(op&&(t.data instanceof ArrayBuffer||ap(t.data)))return n(Nd(t.data));cu(t,!1,r=>{bl||(bl=new TextEncoder),n(bl.encode(r))})}const Ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Ud.length;t++)Vs[Ud.charCodeAt(t)]=t;const VC=t=>{let n=t.length*.75,r=t.length,i,o=0,l,u,c,d;t[t.length-1]==="="&&(n--,t[t.length-2]==="="&&n--);const y=new ArrayBuffer(n),g=new Uint8Array(y);for(i=0;i<r;i+=4)l=Vs[t.charCodeAt(i)],u=Vs[t.charCodeAt(i+1)],c=Vs[t.charCodeAt(i+2)],d=Vs[t.charCodeAt(i+3)],g[o++]=l<<2|u>>4,g[o++]=(u&15)<<4|c>>2,g[o++]=(c&3)<<6|d&63;return y},KC=typeof ArrayBuffer=="function",fu=(t,n)=>{if(typeof t!="string")return{type:"message",data:lp(t,n)};const r=t.charAt(0);return r==="b"?{type:"message",data:GC(t.substring(1),n)}:vo[r]?t.length>1?{type:vo[r],data:t.substring(1)}:{type:vo[r]}:Bl},GC=(t,n)=>{if(KC){const r=VC(t);return lp(r,n)}else return{base64:!0,data:t}},lp=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},up="",ZC=(t,n)=>{const r=t.length,i=new Array(r);let o=0;t.forEach((l,u)=>{cu(l,!1,c=>{i[u]=c,++o===r&&n(i.join(up))})})},YC=(t,n)=>{const r=t.split(up),i=[];for(let o=0;o<r.length;o++){const l=fu(r[o],n);if(i.push(l),l.type==="error")break}return i};function JC(){return new TransformStream({transform(t,n){HC(t,r=>{const i=r.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(o[0]|=128),n.enqueue(o),n.enqueue(r)})}})}let xl;function lo(t){return t.reduce((n,r)=>n+r.length,0)}function uo(t,n){if(t[0].length===n)return t.shift();const r=new Uint8Array(n);let i=0;for(let o=0;o<n;o++)r[o]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),r}function QC(t,n){xl||(xl=new TextDecoder);const r=[];let i=0,o=-1,l=!1;return new TransformStream({transform(u,c){for(r.push(u);;){if(i===0){if(lo(r)<1)break;const d=uo(r,1);l=(d[0]&128)===128,o=d[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(lo(r)<2)break;const d=uo(r,2);o=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(lo(r)<8)break;const d=uo(r,8),y=new DataView(d.buffer,d.byteOffset,d.length),g=y.getUint32(0);if(g>Math.pow(2,21)-1){c.enqueue(Bl);break}o=g*Math.pow(2,32)+y.getUint32(4),i=3}else{if(lo(r)<o)break;const d=uo(r,o);c.enqueue(fu(l?d:xl.decode(d),n)),i=0}if(o===0||o>t){c.enqueue(Bl);break}}}})}const cp=4;function Re(t){if(t)return XC(t)}function XC(t){for(var n in Re.prototype)t[n]=Re.prototype[n];return t}Re.prototype.on=Re.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this};Re.prototype.once=function(t,n){function r(){this.off(t,r),n.apply(this,arguments)}return r.fn=n,this.on(t,r),this};Re.prototype.off=Re.prototype.removeListener=Re.prototype.removeAllListeners=Re.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,o=0;o<r.length;o++)if(i=r[o],i===n||i.fn===n){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Re.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+t],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,o=r.length;i<o;++i)r[i].apply(this,n)}return this};Re.prototype.emitReserved=Re.prototype.emit;Re.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Re.prototype.hasListeners=function(t){return!!this.listeners(t).length};const qo=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),xn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tS="arraybuffer";function fp(t,...n){return n.reduce((r,i)=>(t.hasOwnProperty(i)&&(r[i]=t[i]),r),{})}const eS=xn.setTimeout,nS=xn.clearTimeout;function Ho(t,n){n.useNativeTimers?(t.setTimeoutFn=eS.bind(xn),t.clearTimeoutFn=nS.bind(xn)):(t.setTimeoutFn=xn.setTimeout.bind(xn),t.clearTimeoutFn=xn.clearTimeout.bind(xn))}const rS=1.33;function sS(t){return typeof t=="string"?iS(t):Math.ceil((t.byteLength||t.size)*rS)}function iS(t){let n=0,r=0;for(let i=0,o=t.length;i<o;i++)n=t.charCodeAt(i),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(i++,r+=4);return r}function dp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oS(t){let n="";for(let r in t)t.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n}function aS(t){let n={},r=t.split("&");for(let i=0,o=r.length;i<o;i++){let l=r[i].split("=");n[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return n}class lS extends Error{constructor(n,r,i){super(n),this.description=r,this.context=i,this.type="TransportError"}}class du extends Re{constructor(n){super(),this.writable=!1,Ho(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,i){return super.emitReserved("error",new lS(n,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=fu(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=oS(n);return r.length?"?"+r:""}}class uS extends du{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};YC(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,ZC(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=dp()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let hp=!1;try{hp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cS=hp;function fS(){}class dS extends uS{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||i!==n.port}}doWrite(n,r){const i=this.request({method:"POST",data:n});i.on("success",r),i.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=n}}class Un extends Re{constructor(n,r,i){super(),this.createRequest=n,Ho(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var n;const r=fp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Un.requestsCount++,Un.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fS,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Un.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Un.requestsCount=0;Un.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Fd);else if(typeof addEventListener=="function"){const t="onpagehide"in xn?"pagehide":"unload";addEventListener(t,Fd,!1)}}function Fd(){for(let t in Un.requests)Un.requests.hasOwnProperty(t)&&Un.requests[t].abort()}const hS=function(){const t=pp({xdomain:!1});return t&&t.responseType!==null}();class pS extends dS{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=hS&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Un(pp,this.uri(),n)}}function pp(t){const n=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||cS))return new XMLHttpRequest}catch{}if(!n)try{return new xn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const gp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class gS extends du{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,i=gp?{}:fp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const i=n[r],o=r===n.length-1;cu(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}o&&qo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=dp()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const wl=xn.WebSocket||xn.MozWebSocket;class mS extends gS{createSocket(n,r,i){return gp?new wl(n,r,i):r?new wl(n,r):new wl(n)}doWrite(n,r){this.ws.send(r)}}class vS extends du{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=QC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=n.readable.pipeThrough(r).getReader(),o=JC();o.readable.pipeTo(n.writable),this._writer=o.writable.getWriter();const l=()=>{i.read().then(({done:c,value:d})=>{c||(this.onPacket(d),l())}).catch(c=>{})};l();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const i=n[r],o=r===n.length-1;this._writer.write(i).then(()=>{o&&qo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const _S={websocket:mS,webtransport:vS,polling:pS},yS=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function zl(t){if(t.length>8e3)throw"URI too long";const n=t,r=t.indexOf("["),i=t.indexOf("]");r!=-1&&i!=-1&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));let o=yS.exec(t||""),l={},u=14;for(;u--;)l[bS[u]]=o[u]||"";return r!=-1&&i!=-1&&(l.source=n,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=xS(l,l.path),l.queryKey=wS(l,l.query),l}function xS(t,n){const r=/\/{2,9}/g,i=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&i.splice(0,1),n.slice(-1)=="/"&&i.splice(i.length-1,1),i}function wS(t,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,l){o&&(r[o]=l)}),r}const Nl=typeof addEventListener=="function"&&typeof removeEventListener=="function",_o=[];Nl&&addEventListener("offline",()=>{_o.forEach(t=>t())},!1);class Ar extends Re{constructor(n,r){if(super(),this.binaryType=tS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const i=zl(n);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=zl(r.host).host);Ho(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=aS(this.opts.query)),Nl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_o.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=cp,r.transport=n,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Ar.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ar.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=sS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,qo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,i){return this._sendPacket("message",n,r,i),this}send(n,r,i){return this._sendPacket("message",n,r,i),this}_sendPacket(n,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:n,data:r,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}_onError(n){if(Ar.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Nl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=_o.indexOf(this._offlineEventListener);i!==-1&&_o.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ar.protocol=cp;class kS extends Ar{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),i=!1;Ar.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ar.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(g(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=r.name,this.emitReserved("upgradeError",b)}}))};function l(){i||(i=!0,g(),r.close(),r=null)}const u=m=>{const b=new Error("probe error: "+m);b.transport=r.name,l(),this.emitReserved("upgradeError",b)};function c(){u("transport closed")}function d(){u("socket closed")}function y(m){r&&m.name!==r.name&&l()}const g=()=>{r.removeListener("open",o),r.removeListener("error",u),r.removeListener("close",c),this.off("close",d),this.off("upgrading",y)};r.once("open",o),r.once("error",u),r.once("close",c),this.once("close",d),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let i=0;i<n.length;i++)~this.transports.indexOf(n[i])&&r.push(n[i]);return r}}let CS=class extends kS{constructor(n,r={}){const i=typeof n=="object"?n:r;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>_S[o]).filter(o=>!!o)),super(n,i)}};function SS(t,n="",r){let i=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),i=zl(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+n,i.href=i.protocol+"://"+l+(r&&r.port===i.port?"":":"+i.port),i}const ES=typeof ArrayBuffer=="function",AS=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,mp=Object.prototype.toString,TS=typeof Blob=="function"||typeof Blob<"u"&&mp.call(Blob)==="[object BlobConstructor]",RS=typeof File=="function"||typeof File<"u"&&mp.call(File)==="[object FileConstructor]";function hu(t){return ES&&(t instanceof ArrayBuffer||AS(t))||TS&&t instanceof Blob||RS&&t instanceof File}function yo(t,n){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(yo(t[r]))return!0;return!1}if(hu(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return yo(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&yo(t[r]))return!0;return!1}function OS(t){const n=[],r=t.data,i=t;return i.data=Ul(r,n),i.attachments=n.length,{packet:i,buffers:n}}function Ul(t,n){if(!t)return t;if(hu(t)){const r={_placeholder:!0,num:n.length};return n.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=Ul(t[i],n);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Ul(t[i],n));return r}return t}function IS(t,n){return t.data=Fl(t.data,n),delete t.attachments,t}function Fl(t,n){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Fl(t[r],n);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Fl(t[r],n));return t}const $S=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],PS=5;var Xt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Xt||(Xt={}));class LS{constructor(n){this.replacer=n}encode(n){return(n.type===Xt.EVENT||n.type===Xt.ACK)&&yo(n)?this.encodeAsBinary({type:n.type===Xt.EVENT?Xt.BINARY_EVENT:Xt.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===Xt.BINARY_EVENT||n.type===Xt.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=OS(n),i=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(i),o}}function jd(t){return Object.prototype.toString.call(t)==="[object Object]"}class pu extends Re{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const i=r.type===Xt.BINARY_EVENT;i||r.type===Xt.BINARY_ACK?(r.type=i?Xt.EVENT:Xt.ACK,this.reconstructor=new MS(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(hu(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const i={type:Number(n.charAt(0))};if(Xt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Xt.BINARY_EVENT||i.type===Xt.BINARY_ACK){const l=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const u=n.substring(l,r);if(u!=Number(u)||n.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(n.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););i.nsp=n.substring(l,r)}else i.nsp="/";const o=n.charAt(r+1);if(o!==""&&Number(o)==o){const l=r+1;for(;++r;){const u=n.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===n.length)break}i.id=Number(n.substring(l,r+1))}if(n.charAt(++r)){const l=this.tryParse(n.substr(r));if(pu.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case Xt.CONNECT:return jd(r);case Xt.DISCONNECT:return r===void 0;case Xt.CONNECT_ERROR:return typeof r=="string"||jd(r);case Xt.EVENT:case Xt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&$S.indexOf(r[0])===-1);case Xt.ACK:case Xt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class MS{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=IS(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const DS=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pu,Encoder:LS,get PacketType(){return Xt},protocol:PS},Symbol.toStringTag,{value:"Module"}));function Rn(t,n,r){return t.on(n,r),function(){t.off(n,r)}}const BS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vp extends Re{constructor(n,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Rn(n,"open",this.onopen.bind(this)),Rn(n,"packet",this.onpacket.bind(this)),Rn(n,"error",this.onerror.bind(this)),Rn(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var i,o,l;if(BS.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const u={type:Xt.EVENT,data:r};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const g=this.ids++,m=r.pop();this._registerAckCallback(g,m),u.id=g}const c=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,d=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(n,r){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[n]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===n&&this.sendBuffer.splice(c,1);r.call(this,new Error("operation has timed out"))},o),u=(...c)=>{this.io.clearTimeoutFn(l),r.apply(this,c)};u.withError=!0,this.acks[n]=u}emitWithAck(n,...r){return new Promise((i,o)=>{const l=(u,c)=>u?o(u):i(c);l.withError=!0,r.push(l),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((o,...l)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Xt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(i=>String(i.id)===n)){const i=this.acks[n];delete this.acks[n],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Xt.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Xt.EVENT:case Xt.BINARY_EVENT:this.onevent(n);break;case Xt.ACK:case Xt.BINARY_ACK:this.onack(n);break;case Xt.DISCONNECT:this.ondisconnect();break;case Xt.CONNECT_ERROR:this.destroy();const i=new Error(n.data.message);i.data=n.data.data,this.emitReserved("connect_error",i);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let i=!1;return function(...o){i||(i=!0,r.packet({type:Xt.ACK,id:n,data:o}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Xt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(n===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(n===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,n.data)}}}function Cs(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Cs.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*t);t=Math.floor(n*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Cs.prototype.reset=function(){this.attempts=0};Cs.prototype.setMin=function(t){this.ms=t};Cs.prototype.setMax=function(t){this.max=t};Cs.prototype.setJitter=function(t){this.jitter=t};class jl extends Re{constructor(n,r){var i;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ho(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Cs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const o=r.parser||DS;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new CS(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=Rn(r,"open",function(){i.onopen(),n&&n()}),l=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),n?n(c):this.maybeReconnectOnOpen()},u=Rn(r,"error",l);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),r.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(o),this.subs.push(u),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Rn(n,"ping",this.onping.bind(this)),Rn(n,"data",this.ondata.bind(this)),Rn(n,"error",this.onerror.bind(this)),Rn(n,"close",this.onclose.bind(this)),Rn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){qo(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let i=this.nsps[n];return i?this._autoConnect&&!i.active&&i.connect():(i=new vp(this,n,r),this.nsps[n]=i),i}_destroy(n){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let i=0;i<r.length;i++)this.engine.write(r[i],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(o=>{o?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",o)):n.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const qs={};function Hr(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};const r=SS(t,n.path||"/socket.io"),i=r.source,o=r.id,l=r.path,u=qs[o]&&l in qs[o].nsps,c=n.forceNew||n["force new connection"]||n.multiplex===!1||u;let d;return c?d=new jl(i,n):(qs[o]||(qs[o]=new jl(i,n)),d=qs[o]),r.query&&!n.query&&(n.query=r.queryKey),d.socket(r.path,n)}Object.assign(Hr,{Manager:jl,Socket:vp,io:Hr,connect:Hr});function co(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _p={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,n){(function(r){t.exports=r()})(function(){return function r(i,o,l){function u(y,g){if(!o[y]){if(!i[y]){var m=typeof co=="function"&&co;if(!g&&m)return m(y,!0);if(c)return c(y,!0);var b=new Error("Cannot find module '"+y+"'");throw b.code="MODULE_NOT_FOUND",b}var v=o[y]={exports:{}};i[y][0].call(v.exports,function(O){var w=i[y][1][O];return u(w||O)},v,v.exports,r,i,o,l)}return o[y].exports}for(var c=typeof co=="function"&&co,d=0;d<l.length;d++)u(l[d]);return u}({1:[function(r,i,o){var l=r("./utils"),u=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(d){for(var y,g,m,b,v,O,w,$=[],S=0,R=d.length,A=R,M=l.getTypeOf(d)!=="string";S<d.length;)A=R-S,m=M?(y=d[S++],g=S<R?d[S++]:0,S<R?d[S++]:0):(y=d.charCodeAt(S++),g=S<R?d.charCodeAt(S++):0,S<R?d.charCodeAt(S++):0),b=y>>2,v=(3&y)<<4|g>>4,O=1<A?(15&g)<<2|m>>6:64,w=2<A?63&m:64,$.push(c.charAt(b)+c.charAt(v)+c.charAt(O)+c.charAt(w));return $.join("")},o.decode=function(d){var y,g,m,b,v,O,w=0,$=0,S="data:";if(d.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var R,A=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&A--,d.charAt(d.length-2)===c.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=u.uint8array?new Uint8Array(0|A):new Array(0|A);w<d.length;)y=c.indexOf(d.charAt(w++))<<2|(b=c.indexOf(d.charAt(w++)))>>4,g=(15&b)<<4|(v=c.indexOf(d.charAt(w++)))>>2,m=(3&v)<<6|(O=c.indexOf(d.charAt(w++))),R[$++]=y,v!==64&&(R[$++]=g),O!==64&&(R[$++]=m);return R}},{"./support":30,"./utils":32}],2:[function(r,i,o){var l=r("./external"),u=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function y(g,m,b,v,O){this.compressedSize=g,this.uncompressedSize=m,this.crc32=b,this.compression=v,this.compressedContent=O}y.prototype={getContentWorker:function(){var g=new u(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return g.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new u(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(g,m,b){return g.pipe(new c).pipe(new d("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},i.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,o){var l=r("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,o){var l=r("./utils"),u=function(){for(var c,d=[],y=0;y<256;y++){c=y;for(var g=0;g<8;g++)c=1&c?3988292384^c>>>1:c>>>1;d[y]=c}return d}();i.exports=function(c,d){return c!==void 0&&c.length?l.getTypeOf(c)!=="string"?function(y,g,m,b){var v=u,O=b+m;y^=-1;for(var w=b;w<O;w++)y=y>>>8^v[255&(y^g[w])];return-1^y}(0|d,c,c.length,0):function(y,g,m,b){var v=u,O=b+m;y^=-1;for(var w=b;w<O;w++)y=y>>>8^v[255&(y^g.charCodeAt(w))];return-1^y}(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(r,i,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(r,i,o){var l=null;l=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:l}},{lie:37}],7:[function(r,i,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=r("pako"),c=r("./utils"),d=r("./stream/GenericWorker"),y=l?"uint8array":"array";function g(m,b){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}o.magic="\b\0",c.inherits(g,d),g.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(y,m.data),!1)},g.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},o.compressWorker=function(m){return new g("Deflate",m)},o.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,o){function l(v,O){var w,$="";for(w=0;w<O;w++)$+=String.fromCharCode(255&v),v>>>=8;return $}function u(v,O,w,$,S,R){var A,M,U=v.file,rt=v.compression,F=R!==y.utf8encode,z=c.transformTo("string",R(U.name)),D=c.transformTo("string",y.utf8encode(U.name)),B=U.comment,nt=c.transformTo("string",R(B)),E=c.transformTo("string",y.utf8encode(B)),H=D.length!==U.name.length,_=E.length!==B.length,at="",Ct="",ut="",Et=U.dir,bt=U.date,$t={crc32:0,compressedSize:0,uncompressedSize:0};O&&!w||($t.crc32=v.crc32,$t.compressedSize=v.compressedSize,$t.uncompressedSize=v.uncompressedSize);var it=0;O&&(it|=8),F||!H&&!_||(it|=2048);var st=0,Pt=0;Et&&(st|=16),S==="UNIX"?(Pt=798,st|=function(kt,yt){var V=kt;return kt||(V=yt?16893:33204),(65535&V)<<16}(U.unixPermissions,Et)):(Pt=20,st|=function(kt){return 63&(kt||0)}(U.dosPermissions)),A=bt.getUTCHours(),A<<=6,A|=bt.getUTCMinutes(),A<<=5,A|=bt.getUTCSeconds()/2,M=bt.getUTCFullYear()-1980,M<<=4,M|=bt.getUTCMonth()+1,M<<=5,M|=bt.getUTCDate(),H&&(Ct=l(1,1)+l(g(z),4)+D,at+="up"+l(Ct.length,2)+Ct),_&&(ut=l(1,1)+l(g(nt),4)+E,at+="uc"+l(ut.length,2)+ut);var At="";return At+=`
\0`,At+=l(it,2),At+=rt.magic,At+=l(A,2),At+=l(M,2),At+=l($t.crc32,4),At+=l($t.compressedSize,4),At+=l($t.uncompressedSize,4),At+=l(z.length,2),At+=l(at.length,2),{fileRecord:m.LOCAL_FILE_HEADER+At+z+at,dirRecord:m.CENTRAL_FILE_HEADER+l(Pt,2)+At+l(nt.length,2)+"\0\0\0\0"+l(st,4)+l($,4)+z+at+nt}}var c=r("../utils"),d=r("../stream/GenericWorker"),y=r("../utf8"),g=r("../crc32"),m=r("../signature");function b(v,O,w,$){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=w,this.encodeFileName=$,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(b,d),b.prototype.push=function(v){var O=v.meta.percent||0,w=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,d.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:w?(O+100*(w-$-1))/w:100}}))},b.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var O=this.streamFiles&&!v.file.dir;if(O){var w=u(v,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(v){this.accumulate=!1;var O=this.streamFiles&&!v.file.dir,w=u(v,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),O)this.push({data:function($){return m.DATA_DESCRIPTOR+l($.crc32,4)+l($.compressedSize,4)+l($.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var v=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var w=this.bytesWritten-v,$=function(S,R,A,M,U){var rt=c.transformTo("string",U(M));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(S,2)+l(S,2)+l(R,4)+l(A,4)+l(rt.length,2)+rt}(this.dirRecords.length,w,v,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(v){this._sources.push(v);var O=this;return v.on("data",function(w){O.processChunk(w)}),v.on("end",function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()}),v.on("error",function(w){O.error(w)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(v){var O=this._sources;if(!d.prototype.error.call(this,v))return!1;for(var w=0;w<O.length;w++)try{O[w].error(v)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var v=this._sources,O=0;O<v.length;O++)v[O].lock()},i.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,o){var l=r("../compressions"),u=r("./ZipFileWorker");o.generateWorker=function(c,d,y){var g=new u(d.streamFiles,y,d.platform,d.encodeFileName),m=0;try{c.forEach(function(b,v){m++;var O=function(R,A){var M=R||A,U=l[M];if(!U)throw new Error(M+" is not a valid compression method !");return U}(v.options.compression,d.compression),w=v.options.compressionOptions||d.compressionOptions||{},$=v.dir,S=v.date;v._compressWorker(O,w).withStreamInfo("file",{name:b,dir:$,date:S,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(g)}),g.entriesCount=m}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new l;for(var c in this)typeof this[c]!="function"&&(u[c]=this[c]);return u}}(l.prototype=r("./object")).loadAsync=r("./load"),l.support=r("./support"),l.defaults=r("./defaults"),l.version="3.10.1",l.loadAsync=function(u,c){return new l().loadAsync(u,c)},l.external=r("./external"),i.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,o){var l=r("./utils"),u=r("./external"),c=r("./utf8"),d=r("./zipEntries"),y=r("./stream/Crc32Probe"),g=r("./nodejsUtils");function m(b){return new u.Promise(function(v,O){var w=b.decompressed.getContentWorker().pipe(new y);w.on("error",function($){O($)}).on("end",function(){w.streamInfo.crc32!==b.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}i.exports=function(b,v){var O=this;return v=l.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),g.isNode&&g.isStream(b)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",b,!0,v.optimizedBinaryString,v.base64).then(function(w){var $=new d(v);return $.load(w),$}).then(function(w){var $=[u.Promise.resolve(w)],S=w.files;if(v.checkCRC32)for(var R=0;R<S.length;R++)$.push(m(S[R]));return u.Promise.all($)}).then(function(w){for(var $=w.shift(),S=$.files,R=0;R<S.length;R++){var A=S[R],M=A.fileNameStr,U=l.resolve(A.fileNameStr);O.file(U,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:v.createFolders}),A.dir||(O.file(U).unsafeOriginalName=M)}return $.zipComment.length&&(O.comment=$.zipComment),O})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,o){var l=r("../utils"),u=r("../stream/GenericWorker");function c(d,y){u.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(y)}l.inherits(c,u),c.prototype._bindStream=function(d){var y=this;(this._stream=d).pause(),d.on("data",function(g){y.push({data:g,meta:{percent:0}})}).on("error",function(g){y.isPaused?this.generatedError=g:y.error(g)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},c.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,o){var l=r("readable-stream").Readable;function u(c,d,y){l.call(this,d),this._helper=c;var g=this;c.on("data",function(m,b){g.push(m)||g._helper.pause(),y&&y(b)}).on("error",function(m){g.emit("error",m)}).on("end",function(){g.push(null)})}r("../utils").inherits(u,l),u.prototype._read=function(){this._helper.resume()},i.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,i,o){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,u);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,u)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var u=new Buffer(l);return u.fill(0),u},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(r,i,o){function l(U,rt,F){var z,D=c.getTypeOf(rt),B=c.extend(F||{},g);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(U=S(U)),B.createFolders&&(z=$(U))&&R.call(this,z,!0);var nt=D==="string"&&B.binary===!1&&B.base64===!1;F&&F.binary!==void 0||(B.binary=!nt),(rt instanceof m&&rt.uncompressedSize===0||B.dir||!rt||rt.length===0)&&(B.base64=!1,B.binary=!0,rt="",B.compression="STORE",D="string");var E=null;E=rt instanceof m||rt instanceof d?rt:O.isNode&&O.isStream(rt)?new w(U,rt):c.prepareContent(U,rt,B.binary,B.optimizedBinaryString,B.base64);var H=new b(U,E,B);this.files[U]=H}var u=r("./utf8"),c=r("./utils"),d=r("./stream/GenericWorker"),y=r("./stream/StreamHelper"),g=r("./defaults"),m=r("./compressedObject"),b=r("./zipObject"),v=r("./generate"),O=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),$=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var rt=U.lastIndexOf("/");return 0<rt?U.substring(0,rt):""},S=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},R=function(U,rt){return rt=rt!==void 0?rt:g.createFolders,U=S(U),this.files[U]||l.call(this,U,null,{dir:!0,createFolders:rt}),this.files[U]};function A(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var rt,F,z;for(rt in this.files)z=this.files[rt],(F=rt.slice(this.root.length,rt.length))&&rt.slice(0,this.root.length)===this.root&&U(F,z)},filter:function(U){var rt=[];return this.forEach(function(F,z){U(F,z)&&rt.push(z)}),rt},file:function(U,rt,F){if(arguments.length!==1)return U=this.root+U,l.call(this,U,rt,F),this;if(A(U)){var z=U;return this.filter(function(B,nt){return!nt.dir&&z.test(B)})}var D=this.files[this.root+U];return D&&!D.dir?D:null},folder:function(U){if(!U)return this;if(A(U))return this.filter(function(D,B){return B.dir&&U.test(D)});var rt=this.root+U,F=R.call(this,rt),z=this.clone();return z.root=F.name,z},remove:function(U){U=this.root+U;var rt=this.files[U];if(rt||(U.slice(-1)!=="/"&&(U+="/"),rt=this.files[U]),rt&&!rt.dir)delete this.files[U];else for(var F=this.filter(function(D,B){return B.name.slice(0,U.length)===U}),z=0;z<F.length;z++)delete this.files[F[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var rt,F={};try{if((F=c.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");c.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var z=F.comment||this.comment||"";rt=v.generateWorker(this,F,z)}catch(D){(rt=new d("error")).error(D)}return new y(rt,F.type||"string",F.mimeType)},generateAsync:function(U,rt){return this.generateInternalStream(U).accumulate(rt)},generateNodeStream:function(U,rt){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(rt)}};i.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,o){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,o){var l=r("./DataReader");function u(c){l.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}r("../utils").inherits(u,l),u.prototype.byteAt=function(c){return this.data[this.zero+c]},u.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),y=c.charCodeAt(1),g=c.charCodeAt(2),m=c.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===y&&this.data[b+2]===g&&this.data[b+3]===m)return b-this.zero;return-1},u.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),y=c.charCodeAt(1),g=c.charCodeAt(2),m=c.charCodeAt(3),b=this.readData(4);return d===b[0]&&y===b[1]&&g===b[2]&&m===b[3]},u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,i,o){var l=r("../utils");function u(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,y=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)y=(y<<8)+this.byteAt(d);return this.index+=c,y},readString:function(c){return l.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},i.exports=u},{"../utils":32}],19:[function(r,i,o){var l=r("./Uint8ArrayReader");function u(c){l.call(this,c)}r("../utils").inherits(u,l),u.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,o){var l=r("./DataReader");function u(c){l.call(this,c)}r("../utils").inherits(u,l),u.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},u.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},u.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},u.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,i,o){var l=r("./ArrayReader");function u(c){l.call(this,c)}r("../utils").inherits(u,l),u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,o){var l=r("../utils"),u=r("../support"),c=r("./ArrayReader"),d=r("./StringReader"),y=r("./NodeBufferReader"),g=r("./Uint8ArrayReader");i.exports=function(m){var b=l.getTypeOf(m);return l.checkSupport(b),b!=="string"||u.uint8array?b==="nodebuffer"?new y(m):u.uint8array?new g(l.transformTo("uint8array",m)):new c(l.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,o){var l=r("./GenericWorker"),u=r("../utils");function c(d){l.call(this,"ConvertWorker to "+d),this.destType=d}u.inherits(c,l),c.prototype.processChunk=function(d){this.push({data:u.transformTo(this.destType,d.data),meta:d.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,o){var l=r("./GenericWorker"),u=r("../crc32");function c(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,l),c.prototype.processChunk=function(d){this.streamInfo.crc32=u(d.data,this.streamInfo.crc32||0),this.push(d)},i.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,o){var l=r("../utils"),u=r("./GenericWorker");function c(d){u.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}l.inherits(c,u),c.prototype.processChunk=function(d){if(d){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+d.data.length}u.prototype.processChunk.call(this,d)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,o){var l=r("../utils"),u=r("./GenericWorker");function c(d){u.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(g){y.dataIsReady=!0,y.data=g,y.max=g&&g.length||0,y.type=l.getTypeOf(g),y.isPaused||y._tickAndRepeat()},function(g){y.error(g)})}l.inherits(c,u),c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,y);break;case"uint8array":d=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":d=this.data.slice(this.index,y)}return this.index=y,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,o){function l(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,c){return this._listeners[u].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,c){if(this._listeners[u])for(var d=0;d<this._listeners[u].length;d++)this._listeners[u][d].call(this,c)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var c=this;return u.on("data",function(d){c.processChunk(d)}),u.on("end",function(){c.end()}),u.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,c){return this.extraStreamInfo[u]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},i.exports=l},{}],29:[function(r,i,o){var l=r("../utils"),u=r("./ConvertWorker"),c=r("./GenericWorker"),d=r("../base64"),y=r("../support"),g=r("../external"),m=null;if(y.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(O,w){return new g.Promise(function($,S){var R=[],A=O._internalType,M=O._outputType,U=O._mimeType;O.on("data",function(rt,F){R.push(rt),w&&w(F)}).on("error",function(rt){R=[],S(rt)}).on("end",function(){try{var rt=function(F,z,D){switch(F){case"blob":return l.newBlob(l.transformTo("arraybuffer",z),D);case"base64":return d.encode(z);default:return l.transformTo(F,z)}}(M,function(F,z){var D,B=0,nt=null,E=0;for(D=0;D<z.length;D++)E+=z[D].length;switch(F){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(nt=new Uint8Array(E),D=0;D<z.length;D++)nt.set(z[D],B),B+=z[D].length;return nt;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+F+"'")}}(A,R),U);$(rt)}catch(F){S(F)}R=[]}).resume()})}function v(O,w,$){var S=w;switch(w){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=w,this._mimeType=$,l.checkSupport(S),this._worker=O.pipe(new u(S)),O.lock()}catch(R){this._worker=new c("error"),this._worker.error(R)}}v.prototype={accumulate:function(O){return b(this,O)},on:function(O,w){var $=this;return O==="data"?this._worker.on(O,function(S){w.call($,S.data,S.meta)}):this._worker.on(O,function(){l.delay(w,arguments,$)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},O)}},i.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(l),o.blob=u.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!r("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,o){for(var l=r("./utils"),u=r("./support"),c=r("./nodejsUtils"),d=r("./stream/GenericWorker"),y=new Array(256),g=0;g<256;g++)y[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;y[254]=y[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}o.utf8encode=function(v){return u.nodebuffer?c.newBufferFrom(v,"utf-8"):function(O){var w,$,S,R,A,M=O.length,U=0;for(R=0;R<M;R++)(64512&($=O.charCodeAt(R)))==55296&&R+1<M&&(64512&(S=O.charCodeAt(R+1)))==56320&&($=65536+($-55296<<10)+(S-56320),R++),U+=$<128?1:$<2048?2:$<65536?3:4;for(w=u.uint8array?new Uint8Array(U):new Array(U),R=A=0;A<U;R++)(64512&($=O.charCodeAt(R)))==55296&&R+1<M&&(64512&(S=O.charCodeAt(R+1)))==56320&&($=65536+($-55296<<10)+(S-56320),R++),$<128?w[A++]=$:($<2048?w[A++]=192|$>>>6:($<65536?w[A++]=224|$>>>12:(w[A++]=240|$>>>18,w[A++]=128|$>>>12&63),w[A++]=128|$>>>6&63),w[A++]=128|63&$);return w}(v)},o.utf8decode=function(v){return u.nodebuffer?l.transformTo("nodebuffer",v).toString("utf-8"):function(O){var w,$,S,R,A=O.length,M=new Array(2*A);for(w=$=0;w<A;)if((S=O[w++])<128)M[$++]=S;else if(4<(R=y[S]))M[$++]=65533,w+=R-1;else{for(S&=R===2?31:R===3?15:7;1<R&&w<A;)S=S<<6|63&O[w++],R--;1<R?M[$++]=65533:S<65536?M[$++]=S:(S-=65536,M[$++]=55296|S>>10&1023,M[$++]=56320|1023&S)}return M.length!==$&&(M.subarray?M=M.subarray(0,$):M.length=$),l.applyFromCharCode(M)}(v=l.transformTo(u.uint8array?"uint8array":"array",v))},l.inherits(m,d),m.prototype.processChunk=function(v){var O=l.transformTo(u.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var w=O;(O=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),O.set(w,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var $=function(R,A){var M;for((A=A||R.length)>R.length&&(A=R.length),M=A-1;0<=M&&(192&R[M])==128;)M--;return M<0||M===0?A:M+y[R[M]]>A?M:A}(O),S=O;$!==O.length&&(u.uint8array?(S=O.subarray(0,$),this.leftOver=O.subarray($,O.length)):(S=O.slice(0,$),this.leftOver=O.slice($,O.length))),this.push({data:o.utf8decode(S),meta:v.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=m,l.inherits(b,d),b.prototype.processChunk=function(v){this.push({data:o.utf8encode(v.data),meta:v.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,o){var l=r("./support"),u=r("./base64"),c=r("./nodejsUtils"),d=r("./external");function y(w){return w}function g(w,$){for(var S=0;S<w.length;++S)$[S]=255&w.charCodeAt(S);return $}r("setimmediate"),o.newBlob=function(w,$){o.checkSupport("blob");try{return new Blob([w],{type:$})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(w),S.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(w,$,S){var R=[],A=0,M=w.length;if(M<=S)return String.fromCharCode.apply(null,w);for(;A<M;)$==="array"||$==="nodebuffer"?R.push(String.fromCharCode.apply(null,w.slice(A,Math.min(A+S,M)))):R.push(String.fromCharCode.apply(null,w.subarray(A,Math.min(A+S,M)))),A+=S;return R.join("")},stringifyByChar:function(w){for(var $="",S=0;S<w.length;S++)$+=String.fromCharCode(w[S]);return $},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function b(w){var $=65536,S=o.getTypeOf(w),R=!0;if(S==="uint8array"?R=m.applyCanBeUsed.uint8array:S==="nodebuffer"&&(R=m.applyCanBeUsed.nodebuffer),R)for(;1<$;)try{return m.stringifyByChunk(w,S,$)}catch{$=Math.floor($/2)}return m.stringifyByChar(w)}function v(w,$){for(var S=0;S<w.length;S++)$[S]=w[S];return $}o.applyFromCharCode=b;var O={};O.string={string:y,array:function(w){return g(w,new Array(w.length))},arraybuffer:function(w){return O.string.uint8array(w).buffer},uint8array:function(w){return g(w,new Uint8Array(w.length))},nodebuffer:function(w){return g(w,c.allocBuffer(w.length))}},O.array={string:b,array:y,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(w)}},O.arraybuffer={string:function(w){return b(new Uint8Array(w))},array:function(w){return v(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:y,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(new Uint8Array(w))}},O.uint8array={string:b,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:y,nodebuffer:function(w){return c.newBufferFrom(w)}},O.nodebuffer={string:b,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return O.nodebuffer.uint8array(w).buffer},uint8array:function(w){return v(w,new Uint8Array(w.length))},nodebuffer:y},o.transformTo=function(w,$){if($=$||"",!w)return $;o.checkSupport(w);var S=o.getTypeOf($);return O[S][w]($)},o.resolve=function(w){for(var $=w.split("/"),S=[],R=0;R<$.length;R++){var A=$[R];A==="."||A===""&&R!==0&&R!==$.length-1||(A===".."?S.pop():S.push(A))}return S.join("/")},o.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":l.nodebuffer&&c.isBuffer(w)?"nodebuffer":l.uint8array&&w instanceof Uint8Array?"uint8array":l.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(w){if(!l[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(w){var $,S,R="";for(S=0;S<(w||"").length;S++)R+="\\x"+(($=w.charCodeAt(S))<16?"0":"")+$.toString(16).toUpperCase();return R},o.delay=function(w,$,S){setImmediate(function(){w.apply(S||null,$||[])})},o.inherits=function(w,$){function S(){}S.prototype=$.prototype,w.prototype=new S},o.extend=function(){var w,$,S={};for(w=0;w<arguments.length;w++)for($ in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],$)&&S[$]===void 0&&(S[$]=arguments[w][$]);return S},o.prepareContent=function(w,$,S,R,A){return d.Promise.resolve($).then(function(M){return l.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new d.Promise(function(U,rt){var F=new FileReader;F.onload=function(z){U(z.target.result)},F.onerror=function(z){rt(z.target.error)},F.readAsArrayBuffer(M)}):M}).then(function(M){var U=o.getTypeOf(M);return U?(U==="arraybuffer"?M=o.transformTo("uint8array",M):U==="string"&&(A?M=u.decode(M):S&&R!==!0&&(M=function(rt){return g(rt,l.uint8array?new Uint8Array(rt.length):new Array(rt.length))}(M))),M):d.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,o){var l=r("./reader/readerFor"),u=r("./utils"),c=r("./signature"),d=r("./zipEntry"),y=r("./support");function g(m){this.files=[],this.loadOptions=m}g.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(b)+", expected "+u.pretty(m)+")")}},isSignature:function(m,b){var v=this.reader.index;this.reader.setIndex(m);var O=this.reader.readString(4)===b;return this.reader.setIndex(v),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),b=y.uint8array?"uint8array":"array",v=u.transformTo(b,m);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,v,O=this.zip64EndOfCentralSize-44;0<O;)m=this.reader.readInt(2),b=this.reader.readInt(4),v=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)b=this.files[m],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var O=b-v;if(0<O)this.isSignature(b,c.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(m){this.reader=l(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,o){var l=r("./reader/readerFor"),u=r("./utils"),c=r("./compressedObject"),d=r("./crc32"),y=r("./utf8"),g=r("./compressions"),m=r("./support");function b(v,O){this.options=v,this.loadOptions=O}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var O,w;if(v.skip(22),this.fileNameLength=v.readInt(2),w=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=function($){for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)&&g[S].magic===$)return g[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,O,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var O=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(O),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=l(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var O,w,$,S=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<S;)O=v.readInt(2),w=v.readInt(2),$=v.readData(w),this.extraFields[O]={id:O,length:w,value:$};v.setIndex(S)},handleUTF8:function(){var v=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var w=u.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var S=u.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var O=l(v.value);return O.readInt(1)!==1||d(this.fileName)!==O.readInt(4)?null:y.utf8decode(O.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var O=l(v.value);return O.readInt(1)!==1||d(this.fileComment)!==O.readInt(4)?null:y.utf8decode(O.readData(v.length-5))}return null}},i.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,o){function l(O,w,$){this.name=O,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=w,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var u=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),d=r("./utf8"),y=r("./compressedObject"),g=r("./stream/GenericWorker");l.prototype={internalStream:function(O){var w=null,$="string";try{if(!O)throw new Error("No output type specified.");var S=($=O.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),w=this._decompressWorker();var R=!this._dataBinary;R&&!S&&(w=w.pipe(new d.Utf8EncodeWorker)),!R&&S&&(w=w.pipe(new d.Utf8DecodeWorker))}catch(A){(w=new g("error")).error(A)}return new u(w,$,"")},async:function(O,w){return this.internalStream(O).accumulate(w)},nodeStream:function(O,w){return this.internalStream(O||"nodebuffer").toNodejsStream(w)},_compressWorker:function(O,w){if(this._data instanceof y&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new d.Utf8EncodeWorker)),y.createWorkerFrom($,O,w)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof g?this._data:new c(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<m.length;v++)l.prototype[m[v]]=b;i.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,o){(function(l){var u,c,d=l.MutationObserver||l.WebKitMutationObserver;if(d){var y=0,g=new d(O),m=l.document.createTextNode("");g.observe(m,{characterData:!0}),u=function(){m.data=y=++y%2}}else if(l.setImmediate||l.MessageChannel===void 0)u="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var w=l.document.createElement("script");w.onreadystatechange=function(){O(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},l.document.documentElement.appendChild(w)}:function(){setTimeout(O,0)};else{var b=new l.MessageChannel;b.port1.onmessage=O,u=function(){b.port2.postMessage(0)}}var v=[];function O(){var w,$;c=!0;for(var S=v.length;S;){for($=v,v=[],w=-1;++w<S;)$[w]();S=v.length}c=!1}i.exports=function(w){v.push(w)!==1||c||u()}}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,o){var l=r("immediate");function u(){}var c={},d=["REJECTED"],y=["FULFILLED"],g=["PENDING"];function m(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,S!==u&&w(this,S)}function b(S,R,A){this.promise=S,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function v(S,R,A){l(function(){var M;try{M=R(A)}catch(U){return c.reject(S,U)}M===S?c.reject(S,new TypeError("Cannot resolve promise with itself")):c.resolve(S,M)})}function O(S){var R=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof R=="function")return function(){R.apply(S,arguments)}}function w(S,R){var A=!1;function M(F){A||(A=!0,c.reject(S,F))}function U(F){A||(A=!0,c.resolve(S,F))}var rt=$(function(){R(U,M)});rt.status==="error"&&M(rt.value)}function $(S,R){var A={};try{A.value=S(R),A.status="success"}catch(M){A.status="error",A.value=M}return A}(i.exports=m).prototype.finally=function(S){if(typeof S!="function")return this;var R=this.constructor;return this.then(function(A){return R.resolve(S()).then(function(){return A})},function(A){return R.resolve(S()).then(function(){throw A})})},m.prototype.catch=function(S){return this.then(null,S)},m.prototype.then=function(S,R){if(typeof S!="function"&&this.state===y||typeof R!="function"&&this.state===d)return this;var A=new this.constructor(u);return this.state!==g?v(A,this.state===y?S:R,this.outcome):this.queue.push(new b(A,S,R)),A},b.prototype.callFulfilled=function(S){c.resolve(this.promise,S)},b.prototype.otherCallFulfilled=function(S){v(this.promise,this.onFulfilled,S)},b.prototype.callRejected=function(S){c.reject(this.promise,S)},b.prototype.otherCallRejected=function(S){v(this.promise,this.onRejected,S)},c.resolve=function(S,R){var A=$(O,R);if(A.status==="error")return c.reject(S,A.value);var M=A.value;if(M)w(S,M);else{S.state=y,S.outcome=R;for(var U=-1,rt=S.queue.length;++U<rt;)S.queue[U].callFulfilled(R)}return S},c.reject=function(S,R){S.state=d,S.outcome=R;for(var A=-1,M=S.queue.length;++A<M;)S.queue[A].callRejected(R);return S},m.resolve=function(S){return S instanceof this?S:c.resolve(new this(u),S)},m.reject=function(S){var R=new this(u);return c.reject(R,S)},m.all=function(S){var R=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,M=!1;if(!A)return this.resolve([]);for(var U=new Array(A),rt=0,F=-1,z=new this(u);++F<A;)D(S[F],F);return z;function D(B,nt){R.resolve(B).then(function(E){U[nt]=E,++rt!==A||M||(M=!0,c.resolve(z,U))},function(E){M||(M=!0,c.reject(z,E))})}},m.race=function(S){var R=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,M=!1;if(!A)return this.resolve([]);for(var U=-1,rt=new this(u);++U<A;)F=S[U],R.resolve(F).then(function(z){M||(M=!0,c.resolve(rt,z))},function(z){M||(M=!0,c.reject(rt,z))});var F;return rt}},{immediate:36}],38:[function(r,i,o){var l={};(0,r("./lib/utils/common").assign)(l,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,o){var l=r("./zlib/deflate"),u=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/messages"),y=r("./zlib/zstream"),g=Object.prototype.toString,m=0,b=-1,v=0,O=8;function w(S){if(!(this instanceof w))return new w(S);this.options=u.assign({level:b,method:O,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},S||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var A=l.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(A!==m)throw new Error(d[A]);if(R.header&&l.deflateSetHeader(this.strm,R.header),R.dictionary){var M;if(M=typeof R.dictionary=="string"?c.string2buf(R.dictionary):g.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(A=l.deflateSetDictionary(this.strm,M))!==m)throw new Error(d[A]);this._dict_set=!0}}function $(S,R){var A=new w(R);if(A.push(S,!0),A.err)throw A.msg||d[A.err];return A.result}w.prototype.push=function(S,R){var A,M,U=this.strm,rt=this.options.chunkSize;if(this.ended)return!1;M=R===~~R?R:R===!0?4:0,typeof S=="string"?U.input=c.string2buf(S):g.call(S)==="[object ArrayBuffer]"?U.input=new Uint8Array(S):U.input=S,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new u.Buf8(rt),U.next_out=0,U.avail_out=rt),(A=l.deflate(U,M))!==1&&A!==m)return this.onEnd(A),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(u.shrinkBuf(U.output,U.next_out))):this.onData(u.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&A!==1);return M===4?(A=l.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===m):M!==2||(this.onEnd(m),!(U.avail_out=0))},w.prototype.onData=function(S){this.chunks.push(S)},w.prototype.onEnd=function(S){S===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},o.Deflate=w,o.deflate=$,o.deflateRaw=function(S,R){return(R=R||{}).raw=!0,$(S,R)},o.gzip=function(S,R){return(R=R||{}).gzip=!0,$(S,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,o){var l=r("./zlib/inflate"),u=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/constants"),y=r("./zlib/messages"),g=r("./zlib/zstream"),m=r("./zlib/gzheader"),b=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},w||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||w&&w.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var S=l.inflateInit2(this.strm,$.windowBits);if(S!==d.Z_OK)throw new Error(y[S]);this.header=new m,l.inflateGetHeader(this.strm,this.header)}function O(w,$){var S=new v($);if(S.push(w,!0),S.err)throw S.msg||y[S.err];return S.result}v.prototype.push=function(w,$){var S,R,A,M,U,rt,F=this.strm,z=this.options.chunkSize,D=this.options.dictionary,B=!1;if(this.ended)return!1;R=$===~~$?$:$===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof w=="string"?F.input=c.binstring2buf(w):b.call(w)==="[object ArrayBuffer]"?F.input=new Uint8Array(w):F.input=w,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new u.Buf8(z),F.next_out=0,F.avail_out=z),(S=l.inflate(F,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&D&&(rt=typeof D=="string"?c.string2buf(D):b.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,S=l.inflateSetDictionary(this.strm,rt)),S===d.Z_BUF_ERROR&&B===!0&&(S=d.Z_OK,B=!1),S!==d.Z_STREAM_END&&S!==d.Z_OK)return this.onEnd(S),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&S!==d.Z_STREAM_END&&(F.avail_in!==0||R!==d.Z_FINISH&&R!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=c.utf8border(F.output,F.next_out),M=F.next_out-A,U=c.buf2string(F.output,A),F.next_out=M,F.avail_out=z-M,M&&u.arraySet(F.output,F.output,A,M,0),this.onData(U)):this.onData(u.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(B=!0)}while((0<F.avail_in||F.avail_out===0)&&S!==d.Z_STREAM_END);return S===d.Z_STREAM_END&&(R=d.Z_FINISH),R===d.Z_FINISH?(S=l.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===d.Z_OK):R!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(F.avail_out=0))},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},o.Inflate=v,o.inflate=O,o.inflateRaw=function(w,$){return($=$||{}).raw=!0,O(w,$)},o.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(d){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var g=y.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var m in g)g.hasOwnProperty(m)&&(d[m]=g[m])}}return d},o.shrinkBuf=function(d,y){return d.length===y?d:d.subarray?d.subarray(0,y):(d.length=y,d)};var u={arraySet:function(d,y,g,m,b){if(y.subarray&&d.subarray)d.set(y.subarray(g,g+m),b);else for(var v=0;v<m;v++)d[b+v]=y[g+v]},flattenChunks:function(d){var y,g,m,b,v,O;for(y=m=0,g=d.length;y<g;y++)m+=d[y].length;for(O=new Uint8Array(m),y=b=0,g=d.length;y<g;y++)v=d[y],O.set(v,b),b+=v.length;return O}},c={arraySet:function(d,y,g,m,b){for(var v=0;v<m;v++)d[b+v]=y[g+v]},flattenChunks:function(d){return[].concat.apply([],d)}};o.setTyped=function(d){d?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,u)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,c))},o.setTyped(l)},{}],42:[function(r,i,o){var l=r("./common"),u=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new l.Buf8(256),y=0;y<256;y++)d[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function g(m,b){if(b<65537&&(m.subarray&&c||!m.subarray&&u))return String.fromCharCode.apply(null,l.shrinkBuf(m,b));for(var v="",O=0;O<b;O++)v+=String.fromCharCode(m[O]);return v}d[254]=d[254]=1,o.string2buf=function(m){var b,v,O,w,$,S=m.length,R=0;for(w=0;w<S;w++)(64512&(v=m.charCodeAt(w)))==55296&&w+1<S&&(64512&(O=m.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(O-56320),w++),R+=v<128?1:v<2048?2:v<65536?3:4;for(b=new l.Buf8(R),w=$=0;$<R;w++)(64512&(v=m.charCodeAt(w)))==55296&&w+1<S&&(64512&(O=m.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(O-56320),w++),v<128?b[$++]=v:(v<2048?b[$++]=192|v>>>6:(v<65536?b[$++]=224|v>>>12:(b[$++]=240|v>>>18,b[$++]=128|v>>>12&63),b[$++]=128|v>>>6&63),b[$++]=128|63&v);return b},o.buf2binstring=function(m){return g(m,m.length)},o.binstring2buf=function(m){for(var b=new l.Buf8(m.length),v=0,O=b.length;v<O;v++)b[v]=m.charCodeAt(v);return b},o.buf2string=function(m,b){var v,O,w,$,S=b||m.length,R=new Array(2*S);for(v=O=0;v<S;)if((w=m[v++])<128)R[O++]=w;else if(4<($=d[w]))R[O++]=65533,v+=$-1;else{for(w&=$===2?31:$===3?15:7;1<$&&v<S;)w=w<<6|63&m[v++],$--;1<$?R[O++]=65533:w<65536?R[O++]=w:(w-=65536,R[O++]=55296|w>>10&1023,R[O++]=56320|1023&w)}return g(R,O)},o.utf8border=function(m,b){var v;for((b=b||m.length)>m.length&&(b=m.length),v=b-1;0<=v&&(192&m[v])==128;)v--;return v<0||v===0?b:v+d[m[v]]>b?v:b}},{"./common":41}],43:[function(r,i,o){i.exports=function(l,u,c,d){for(var y=65535&l|0,g=l>>>16&65535|0,m=0;c!==0;){for(c-=m=2e3<c?2e3:c;g=g+(y=y+u[d++]|0)|0,--m;);y%=65521,g%=65521}return y|g<<16|0}},{}],44:[function(r,i,o){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,o){var l=function(){for(var u,c=[],d=0;d<256;d++){u=d;for(var y=0;y<8;y++)u=1&u?3988292384^u>>>1:u>>>1;c[d]=u}return c}();i.exports=function(u,c,d,y){var g=l,m=y+d;u^=-1;for(var b=y;b<m;b++)u=u>>>8^g[255&(u^c[b])];return-1^u}},{}],46:[function(r,i,o){var l,u=r("../utils/common"),c=r("./trees"),d=r("./adler32"),y=r("./crc32"),g=r("./messages"),m=0,b=4,v=0,O=-2,w=-1,$=4,S=2,R=8,A=9,M=286,U=30,rt=19,F=2*M+1,z=15,D=3,B=258,nt=B+D+1,E=42,H=113,_=1,at=2,Ct=3,ut=4;function Et(h,W){return h.msg=g[W],W}function bt(h){return(h<<1)-(4<h?9:0)}function $t(h){for(var W=h.length;0<=--W;)h[W]=0}function it(h){var W=h.state,j=W.pending;j>h.avail_out&&(j=h.avail_out),j!==0&&(u.arraySet(h.output,W.pending_buf,W.pending_out,j,h.next_out),h.next_out+=j,W.pending_out+=j,h.total_out+=j,h.avail_out-=j,W.pending-=j,W.pending===0&&(W.pending_out=0))}function st(h,W){c._tr_flush_block(h,0<=h.block_start?h.block_start:-1,h.strstart-h.block_start,W),h.block_start=h.strstart,it(h.strm)}function Pt(h,W){h.pending_buf[h.pending++]=W}function At(h,W){h.pending_buf[h.pending++]=W>>>8&255,h.pending_buf[h.pending++]=255&W}function kt(h,W){var j,C,T=h.max_chain_length,N=h.strstart,Q=h.prev_length,J=h.nice_match,Z=h.strstart>h.w_size-nt?h.strstart-(h.w_size-nt):0,ot=h.window,mt=h.w_mask,ht=h.prev,St=h.strstart+B,Mt=ot[N+Q-1],Ot=ot[N+Q];h.prev_length>=h.good_match&&(T>>=2),J>h.lookahead&&(J=h.lookahead);do if(ot[(j=W)+Q]===Ot&&ot[j+Q-1]===Mt&&ot[j]===ot[N]&&ot[++j]===ot[N+1]){N+=2,j++;do;while(ot[++N]===ot[++j]&&ot[++N]===ot[++j]&&ot[++N]===ot[++j]&&ot[++N]===ot[++j]&&ot[++N]===ot[++j]&&ot[++N]===ot[++j]&&ot[++N]===ot[++j]&&ot[++N]===ot[++j]&&N<St);if(C=B-(St-N),N=St-B,Q<C){if(h.match_start=W,J<=(Q=C))break;Mt=ot[N+Q-1],Ot=ot[N+Q]}}while((W=ht[W&mt])>Z&&--T!=0);return Q<=h.lookahead?Q:h.lookahead}function yt(h){var W,j,C,T,N,Q,J,Z,ot,mt,ht=h.w_size;do{if(T=h.window_size-h.lookahead-h.strstart,h.strstart>=ht+(ht-nt)){for(u.arraySet(h.window,h.window,ht,ht,0),h.match_start-=ht,h.strstart-=ht,h.block_start-=ht,W=j=h.hash_size;C=h.head[--W],h.head[W]=ht<=C?C-ht:0,--j;);for(W=j=ht;C=h.prev[--W],h.prev[W]=ht<=C?C-ht:0,--j;);T+=ht}if(h.strm.avail_in===0)break;if(Q=h.strm,J=h.window,Z=h.strstart+h.lookahead,ot=T,mt=void 0,mt=Q.avail_in,ot<mt&&(mt=ot),j=mt===0?0:(Q.avail_in-=mt,u.arraySet(J,Q.input,Q.next_in,mt,Z),Q.state.wrap===1?Q.adler=d(Q.adler,J,mt,Z):Q.state.wrap===2&&(Q.adler=y(Q.adler,J,mt,Z)),Q.next_in+=mt,Q.total_in+=mt,mt),h.lookahead+=j,h.lookahead+h.insert>=D)for(N=h.strstart-h.insert,h.ins_h=h.window[N],h.ins_h=(h.ins_h<<h.hash_shift^h.window[N+1])&h.hash_mask;h.insert&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[N+D-1])&h.hash_mask,h.prev[N&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=N,N++,h.insert--,!(h.lookahead+h.insert<D)););}while(h.lookahead<nt&&h.strm.avail_in!==0)}function V(h,W){for(var j,C;;){if(h.lookahead<nt){if(yt(h),h.lookahead<nt&&W===m)return _;if(h.lookahead===0)break}if(j=0,h.lookahead>=D&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+D-1])&h.hash_mask,j=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),j!==0&&h.strstart-j<=h.w_size-nt&&(h.match_length=kt(h,j)),h.match_length>=D)if(C=c._tr_tally(h,h.strstart-h.match_start,h.match_length-D),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=D){for(h.match_length--;h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+D-1])&h.hash_mask,j=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart,--h.match_length!=0;);h.strstart++}else h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;else C=c._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;if(C&&(st(h,!1),h.strm.avail_out===0))return _}return h.insert=h.strstart<D-1?h.strstart:D-1,W===b?(st(h,!0),h.strm.avail_out===0?Ct:ut):h.last_lit&&(st(h,!1),h.strm.avail_out===0)?_:at}function tt(h,W){for(var j,C,T;;){if(h.lookahead<nt){if(yt(h),h.lookahead<nt&&W===m)return _;if(h.lookahead===0)break}if(j=0,h.lookahead>=D&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+D-1])&h.hash_mask,j=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=D-1,j!==0&&h.prev_length<h.max_lazy_match&&h.strstart-j<=h.w_size-nt&&(h.match_length=kt(h,j),h.match_length<=5&&(h.strategy===1||h.match_length===D&&4096<h.strstart-h.match_start)&&(h.match_length=D-1)),h.prev_length>=D&&h.match_length<=h.prev_length){for(T=h.strstart+h.lookahead-D,C=c._tr_tally(h,h.strstart-1-h.prev_match,h.prev_length-D),h.lookahead-=h.prev_length-1,h.prev_length-=2;++h.strstart<=T&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+D-1])&h.hash_mask,j=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),--h.prev_length!=0;);if(h.match_available=0,h.match_length=D-1,h.strstart++,C&&(st(h,!1),h.strm.avail_out===0))return _}else if(h.match_available){if((C=c._tr_tally(h,0,h.window[h.strstart-1]))&&st(h,!1),h.strstart++,h.lookahead--,h.strm.avail_out===0)return _}else h.match_available=1,h.strstart++,h.lookahead--}return h.match_available&&(C=c._tr_tally(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<D-1?h.strstart:D-1,W===b?(st(h,!0),h.strm.avail_out===0?Ct:ut):h.last_lit&&(st(h,!1),h.strm.avail_out===0)?_:at}function lt(h,W,j,C,T){this.good_length=h,this.max_lazy=W,this.nice_length=j,this.max_chain=C,this.func=T}function wt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*F),this.dyn_dtree=new u.Buf16(2*(2*U+1)),this.bl_tree=new u.Buf16(2*(2*rt+1)),$t(this.dyn_ltree),$t(this.dyn_dtree),$t(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(z+1),this.heap=new u.Buf16(2*M+1),$t(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*M+1),$t(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(h){var W;return h&&h.state?(h.total_in=h.total_out=0,h.data_type=S,(W=h.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?E:H,h.adler=W.wrap===2?0:1,W.last_flush=m,c._tr_init(W),v):Et(h,O)}function k(h){var W=dt(h);return W===v&&function(j){j.window_size=2*j.w_size,$t(j.head),j.max_lazy_match=l[j.level].max_lazy,j.good_match=l[j.level].good_length,j.nice_match=l[j.level].nice_length,j.max_chain_length=l[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=D-1,j.match_available=0,j.ins_h=0}(h.state),W}function L(h,W,j,C,T,N){if(!h)return O;var Q=1;if(W===w&&(W=6),C<0?(Q=0,C=-C):15<C&&(Q=2,C-=16),T<1||A<T||j!==R||C<8||15<C||W<0||9<W||N<0||$<N)return Et(h,O);C===8&&(C=9);var J=new wt;return(h.state=J).strm=h,J.wrap=Q,J.gzhead=null,J.w_bits=C,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=T+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+D-1)/D),J.window=new u.Buf8(2*J.w_size),J.head=new u.Buf16(J.hash_size),J.prev=new u.Buf16(J.w_size),J.lit_bufsize=1<<T+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new u.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=W,J.strategy=N,J.method=j,k(h)}l=[new lt(0,0,0,0,function(h,W){var j=65535;for(j>h.pending_buf_size-5&&(j=h.pending_buf_size-5);;){if(h.lookahead<=1){if(yt(h),h.lookahead===0&&W===m)return _;if(h.lookahead===0)break}h.strstart+=h.lookahead,h.lookahead=0;var C=h.block_start+j;if((h.strstart===0||h.strstart>=C)&&(h.lookahead=h.strstart-C,h.strstart=C,st(h,!1),h.strm.avail_out===0)||h.strstart-h.block_start>=h.w_size-nt&&(st(h,!1),h.strm.avail_out===0))return _}return h.insert=0,W===b?(st(h,!0),h.strm.avail_out===0?Ct:ut):(h.strstart>h.block_start&&(st(h,!1),h.strm.avail_out),_)}),new lt(4,4,8,4,V),new lt(4,5,16,8,V),new lt(4,6,32,32,V),new lt(4,4,16,16,tt),new lt(8,16,32,32,tt),new lt(8,16,128,128,tt),new lt(8,32,128,256,tt),new lt(32,128,258,1024,tt),new lt(32,258,258,4096,tt)],o.deflateInit=function(h,W){return L(h,W,R,15,8,0)},o.deflateInit2=L,o.deflateReset=k,o.deflateResetKeep=dt,o.deflateSetHeader=function(h,W){return h&&h.state?h.state.wrap!==2?O:(h.state.gzhead=W,v):O},o.deflate=function(h,W){var j,C,T,N;if(!h||!h.state||5<W||W<0)return h?Et(h,O):O;if(C=h.state,!h.output||!h.input&&h.avail_in!==0||C.status===666&&W!==b)return Et(h,h.avail_out===0?-5:O);if(C.strm=h,j=C.last_flush,C.last_flush=W,C.status===E)if(C.wrap===2)h.adler=0,Pt(C,31),Pt(C,139),Pt(C,8),C.gzhead?(Pt(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),Pt(C,255&C.gzhead.time),Pt(C,C.gzhead.time>>8&255),Pt(C,C.gzhead.time>>16&255),Pt(C,C.gzhead.time>>24&255),Pt(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Pt(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(Pt(C,255&C.gzhead.extra.length),Pt(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(h.adler=y(h.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(Pt(C,0),Pt(C,0),Pt(C,0),Pt(C,0),Pt(C,0),Pt(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Pt(C,3),C.status=H);else{var Q=R+(C.w_bits-8<<4)<<8;Q|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(Q|=32),Q+=31-Q%31,C.status=H,At(C,Q),C.strstart!==0&&(At(C,h.adler>>>16),At(C,65535&h.adler)),h.adler=1}if(C.status===69)if(C.gzhead.extra){for(T=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>T&&(h.adler=y(h.adler,C.pending_buf,C.pending-T,T)),it(h),T=C.pending,C.pending!==C.pending_buf_size));)Pt(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>T&&(h.adler=y(h.adler,C.pending_buf,C.pending-T,T)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){T=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>T&&(h.adler=y(h.adler,C.pending_buf,C.pending-T,T)),it(h),T=C.pending,C.pending===C.pending_buf_size)){N=1;break}N=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,Pt(C,N)}while(N!==0);C.gzhead.hcrc&&C.pending>T&&(h.adler=y(h.adler,C.pending_buf,C.pending-T,T)),N===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){T=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>T&&(h.adler=y(h.adler,C.pending_buf,C.pending-T,T)),it(h),T=C.pending,C.pending===C.pending_buf_size)){N=1;break}N=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,Pt(C,N)}while(N!==0);C.gzhead.hcrc&&C.pending>T&&(h.adler=y(h.adler,C.pending_buf,C.pending-T,T)),N===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&it(h),C.pending+2<=C.pending_buf_size&&(Pt(C,255&h.adler),Pt(C,h.adler>>8&255),h.adler=0,C.status=H)):C.status=H),C.pending!==0){if(it(h),h.avail_out===0)return C.last_flush=-1,v}else if(h.avail_in===0&&bt(W)<=bt(j)&&W!==b)return Et(h,-5);if(C.status===666&&h.avail_in!==0)return Et(h,-5);if(h.avail_in!==0||C.lookahead!==0||W!==m&&C.status!==666){var J=C.strategy===2?function(Z,ot){for(var mt;;){if(Z.lookahead===0&&(yt(Z),Z.lookahead===0)){if(ot===m)return _;break}if(Z.match_length=0,mt=c._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,mt&&(st(Z,!1),Z.strm.avail_out===0))return _}return Z.insert=0,ot===b?(st(Z,!0),Z.strm.avail_out===0?Ct:ut):Z.last_lit&&(st(Z,!1),Z.strm.avail_out===0)?_:at}(C,W):C.strategy===3?function(Z,ot){for(var mt,ht,St,Mt,Ot=Z.window;;){if(Z.lookahead<=B){if(yt(Z),Z.lookahead<=B&&ot===m)return _;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=D&&0<Z.strstart&&(ht=Ot[St=Z.strstart-1])===Ot[++St]&&ht===Ot[++St]&&ht===Ot[++St]){Mt=Z.strstart+B;do;while(ht===Ot[++St]&&ht===Ot[++St]&&ht===Ot[++St]&&ht===Ot[++St]&&ht===Ot[++St]&&ht===Ot[++St]&&ht===Ot[++St]&&ht===Ot[++St]&&St<Mt);Z.match_length=B-(Mt-St),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=D?(mt=c._tr_tally(Z,1,Z.match_length-D),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(mt=c._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),mt&&(st(Z,!1),Z.strm.avail_out===0))return _}return Z.insert=0,ot===b?(st(Z,!0),Z.strm.avail_out===0?Ct:ut):Z.last_lit&&(st(Z,!1),Z.strm.avail_out===0)?_:at}(C,W):l[C.level].func(C,W);if(J!==Ct&&J!==ut||(C.status=666),J===_||J===Ct)return h.avail_out===0&&(C.last_flush=-1),v;if(J===at&&(W===1?c._tr_align(C):W!==5&&(c._tr_stored_block(C,0,0,!1),W===3&&($t(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),it(h),h.avail_out===0))return C.last_flush=-1,v}return W!==b?v:C.wrap<=0?1:(C.wrap===2?(Pt(C,255&h.adler),Pt(C,h.adler>>8&255),Pt(C,h.adler>>16&255),Pt(C,h.adler>>24&255),Pt(C,255&h.total_in),Pt(C,h.total_in>>8&255),Pt(C,h.total_in>>16&255),Pt(C,h.total_in>>24&255)):(At(C,h.adler>>>16),At(C,65535&h.adler)),it(h),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?v:1)},o.deflateEnd=function(h){var W;return h&&h.state?(W=h.state.status)!==E&&W!==69&&W!==73&&W!==91&&W!==103&&W!==H&&W!==666?Et(h,O):(h.state=null,W===H?Et(h,-3):v):O},o.deflateSetDictionary=function(h,W){var j,C,T,N,Q,J,Z,ot,mt=W.length;if(!h||!h.state||(N=(j=h.state).wrap)===2||N===1&&j.status!==E||j.lookahead)return O;for(N===1&&(h.adler=d(h.adler,W,mt,0)),j.wrap=0,mt>=j.w_size&&(N===0&&($t(j.head),j.strstart=0,j.block_start=0,j.insert=0),ot=new u.Buf8(j.w_size),u.arraySet(ot,W,mt-j.w_size,j.w_size,0),W=ot,mt=j.w_size),Q=h.avail_in,J=h.next_in,Z=h.input,h.avail_in=mt,h.next_in=0,h.input=W,yt(j);j.lookahead>=D;){for(C=j.strstart,T=j.lookahead-(D-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[C+D-1])&j.hash_mask,j.prev[C&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=C,C++,--T;);j.strstart=C,j.lookahead=D-1,yt(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=D-1,j.match_available=0,h.next_in=J,h.input=Z,h.avail_in=Q,j.wrap=N,v},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,o){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,o){i.exports=function(l,u){var c,d,y,g,m,b,v,O,w,$,S,R,A,M,U,rt,F,z,D,B,nt,E,H,_,at;c=l.state,d=l.next_in,_=l.input,y=d+(l.avail_in-5),g=l.next_out,at=l.output,m=g-(u-l.avail_out),b=g+(l.avail_out-257),v=c.dmax,O=c.wsize,w=c.whave,$=c.wnext,S=c.window,R=c.hold,A=c.bits,M=c.lencode,U=c.distcode,rt=(1<<c.lenbits)-1,F=(1<<c.distbits)-1;t:do{A<15&&(R+=_[d++]<<A,A+=8,R+=_[d++]<<A,A+=8),z=M[R&rt];e:for(;;){if(R>>>=D=z>>>24,A-=D,(D=z>>>16&255)===0)at[g++]=65535&z;else{if(!(16&D)){if(!(64&D)){z=M[(65535&z)+(R&(1<<D)-1)];continue e}if(32&D){c.mode=12;break t}l.msg="invalid literal/length code",c.mode=30;break t}B=65535&z,(D&=15)&&(A<D&&(R+=_[d++]<<A,A+=8),B+=R&(1<<D)-1,R>>>=D,A-=D),A<15&&(R+=_[d++]<<A,A+=8,R+=_[d++]<<A,A+=8),z=U[R&F];n:for(;;){if(R>>>=D=z>>>24,A-=D,!(16&(D=z>>>16&255))){if(!(64&D)){z=U[(65535&z)+(R&(1<<D)-1)];continue n}l.msg="invalid distance code",c.mode=30;break t}if(nt=65535&z,A<(D&=15)&&(R+=_[d++]<<A,(A+=8)<D&&(R+=_[d++]<<A,A+=8)),v<(nt+=R&(1<<D)-1)){l.msg="invalid distance too far back",c.mode=30;break t}if(R>>>=D,A-=D,(D=g-m)<nt){if(w<(D=nt-D)&&c.sane){l.msg="invalid distance too far back",c.mode=30;break t}if(H=S,(E=0)===$){if(E+=O-D,D<B){for(B-=D;at[g++]=S[E++],--D;);E=g-nt,H=at}}else if($<D){if(E+=O+$-D,(D-=$)<B){for(B-=D;at[g++]=S[E++],--D;);if(E=0,$<B){for(B-=D=$;at[g++]=S[E++],--D;);E=g-nt,H=at}}}else if(E+=$-D,D<B){for(B-=D;at[g++]=S[E++],--D;);E=g-nt,H=at}for(;2<B;)at[g++]=H[E++],at[g++]=H[E++],at[g++]=H[E++],B-=3;B&&(at[g++]=H[E++],1<B&&(at[g++]=H[E++]))}else{for(E=g-nt;at[g++]=at[E++],at[g++]=at[E++],at[g++]=at[E++],2<(B-=3););B&&(at[g++]=at[E++],1<B&&(at[g++]=at[E++]))}break}}break}}while(d<y&&g<b);d-=B=A>>3,R&=(1<<(A-=B<<3))-1,l.next_in=d,l.next_out=g,l.avail_in=d<y?y-d+5:5-(d-y),l.avail_out=g<b?b-g+257:257-(g-b),c.hold=R,c.bits=A}},{}],49:[function(r,i,o){var l=r("../utils/common"),u=r("./adler32"),c=r("./crc32"),d=r("./inffast"),y=r("./inftrees"),g=1,m=2,b=0,v=-2,O=1,w=852,$=592;function S(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(E){var H;return E&&E.state?(H=E.state,E.total_in=E.total_out=H.total=0,E.msg="",H.wrap&&(E.adler=1&H.wrap),H.mode=O,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new l.Buf32(w),H.distcode=H.distdyn=new l.Buf32($),H.sane=1,H.back=-1,b):v}function M(E){var H;return E&&E.state?((H=E.state).wsize=0,H.whave=0,H.wnext=0,A(E)):v}function U(E,H){var _,at;return E&&E.state?(at=E.state,H<0?(_=0,H=-H):(_=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?v:(at.window!==null&&at.wbits!==H&&(at.window=null),at.wrap=_,at.wbits=H,M(E))):v}function rt(E,H){var _,at;return E?(at=new R,(E.state=at).window=null,(_=U(E,H))!==b&&(E.state=null),_):v}var F,z,D=!0;function B(E){if(D){var H;for(F=new l.Buf32(512),z=new l.Buf32(32),H=0;H<144;)E.lens[H++]=8;for(;H<256;)E.lens[H++]=9;for(;H<280;)E.lens[H++]=7;for(;H<288;)E.lens[H++]=8;for(y(g,E.lens,0,288,F,0,E.work,{bits:9}),H=0;H<32;)E.lens[H++]=5;y(m,E.lens,0,32,z,0,E.work,{bits:5}),D=!1}E.lencode=F,E.lenbits=9,E.distcode=z,E.distbits=5}function nt(E,H,_,at){var Ct,ut=E.state;return ut.window===null&&(ut.wsize=1<<ut.wbits,ut.wnext=0,ut.whave=0,ut.window=new l.Buf8(ut.wsize)),at>=ut.wsize?(l.arraySet(ut.window,H,_-ut.wsize,ut.wsize,0),ut.wnext=0,ut.whave=ut.wsize):(at<(Ct=ut.wsize-ut.wnext)&&(Ct=at),l.arraySet(ut.window,H,_-at,Ct,ut.wnext),(at-=Ct)?(l.arraySet(ut.window,H,_-at,at,0),ut.wnext=at,ut.whave=ut.wsize):(ut.wnext+=Ct,ut.wnext===ut.wsize&&(ut.wnext=0),ut.whave<ut.wsize&&(ut.whave+=Ct))),0}o.inflateReset=M,o.inflateReset2=U,o.inflateResetKeep=A,o.inflateInit=function(E){return rt(E,15)},o.inflateInit2=rt,o.inflate=function(E,H){var _,at,Ct,ut,Et,bt,$t,it,st,Pt,At,kt,yt,V,tt,lt,wt,dt,k,L,h,W,j,C,T=0,N=new l.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return v;(_=E.state).mode===12&&(_.mode=13),Et=E.next_out,Ct=E.output,$t=E.avail_out,ut=E.next_in,at=E.input,bt=E.avail_in,it=_.hold,st=_.bits,Pt=bt,At=$t,W=b;t:for(;;)switch(_.mode){case O:if(_.wrap===0){_.mode=13;break}for(;st<16;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(2&_.wrap&&it===35615){N[_.check=0]=255&it,N[1]=it>>>8&255,_.check=c(_.check,N,2,0),st=it=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&it)<<8)+(it>>8))%31){E.msg="incorrect header check",_.mode=30;break}if((15&it)!=8){E.msg="unknown compression method",_.mode=30;break}if(st-=4,h=8+(15&(it>>>=4)),_.wbits===0)_.wbits=h;else if(h>_.wbits){E.msg="invalid window size",_.mode=30;break}_.dmax=1<<h,E.adler=_.check=1,_.mode=512&it?10:12,st=it=0;break;case 2:for(;st<16;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(_.flags=it,(255&_.flags)!=8){E.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){E.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=it>>8&1),512&_.flags&&(N[0]=255&it,N[1]=it>>>8&255,_.check=c(_.check,N,2,0)),st=it=0,_.mode=3;case 3:for(;st<32;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}_.head&&(_.head.time=it),512&_.flags&&(N[0]=255&it,N[1]=it>>>8&255,N[2]=it>>>16&255,N[3]=it>>>24&255,_.check=c(_.check,N,4,0)),st=it=0,_.mode=4;case 4:for(;st<16;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}_.head&&(_.head.xflags=255&it,_.head.os=it>>8),512&_.flags&&(N[0]=255&it,N[1]=it>>>8&255,_.check=c(_.check,N,2,0)),st=it=0,_.mode=5;case 5:if(1024&_.flags){for(;st<16;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}_.length=it,_.head&&(_.head.extra_len=it),512&_.flags&&(N[0]=255&it,N[1]=it>>>8&255,_.check=c(_.check,N,2,0)),st=it=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(bt<(kt=_.length)&&(kt=bt),kt&&(_.head&&(h=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),l.arraySet(_.head.extra,at,ut,kt,h)),512&_.flags&&(_.check=c(_.check,at,kt,ut)),bt-=kt,ut+=kt,_.length-=kt),_.length))break t;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(bt===0)break t;for(kt=0;h=at[ut+kt++],_.head&&h&&_.length<65536&&(_.head.name+=String.fromCharCode(h)),h&&kt<bt;);if(512&_.flags&&(_.check=c(_.check,at,kt,ut)),bt-=kt,ut+=kt,h)break t}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(bt===0)break t;for(kt=0;h=at[ut+kt++],_.head&&h&&_.length<65536&&(_.head.comment+=String.fromCharCode(h)),h&&kt<bt;);if(512&_.flags&&(_.check=c(_.check,at,kt,ut)),bt-=kt,ut+=kt,h)break t}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;st<16;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(it!==(65535&_.check)){E.msg="header crc mismatch",_.mode=30;break}st=it=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),E.adler=_.check=0,_.mode=12;break;case 10:for(;st<32;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}E.adler=_.check=S(it),st=it=0,_.mode=11;case 11:if(_.havedict===0)return E.next_out=Et,E.avail_out=$t,E.next_in=ut,E.avail_in=bt,_.hold=it,_.bits=st,2;E.adler=_.check=1,_.mode=12;case 12:if(H===5||H===6)break t;case 13:if(_.last){it>>>=7&st,st-=7&st,_.mode=27;break}for(;st<3;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}switch(_.last=1&it,st-=1,3&(it>>>=1)){case 0:_.mode=14;break;case 1:if(B(_),_.mode=20,H!==6)break;it>>>=2,st-=2;break t;case 2:_.mode=17;break;case 3:E.msg="invalid block type",_.mode=30}it>>>=2,st-=2;break;case 14:for(it>>>=7&st,st-=7&st;st<32;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if((65535&it)!=(it>>>16^65535)){E.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&it,st=it=0,_.mode=15,H===6)break t;case 15:_.mode=16;case 16:if(kt=_.length){if(bt<kt&&(kt=bt),$t<kt&&(kt=$t),kt===0)break t;l.arraySet(Ct,at,ut,kt,Et),bt-=kt,ut+=kt,$t-=kt,Et+=kt,_.length-=kt;break}_.mode=12;break;case 17:for(;st<14;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(_.nlen=257+(31&it),it>>>=5,st-=5,_.ndist=1+(31&it),it>>>=5,st-=5,_.ncode=4+(15&it),it>>>=4,st-=4,286<_.nlen||30<_.ndist){E.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;st<3;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}_.lens[Q[_.have++]]=7&it,it>>>=3,st-=3}for(;_.have<19;)_.lens[Q[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,j={bits:_.lenbits},W=y(0,_.lens,0,19,_.lencode,0,_.work,j),_.lenbits=j.bits,W){E.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;lt=(T=_.lencode[it&(1<<_.lenbits)-1])>>>16&255,wt=65535&T,!((tt=T>>>24)<=st);){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(wt<16)it>>>=tt,st-=tt,_.lens[_.have++]=wt;else{if(wt===16){for(C=tt+2;st<C;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(it>>>=tt,st-=tt,_.have===0){E.msg="invalid bit length repeat",_.mode=30;break}h=_.lens[_.have-1],kt=3+(3&it),it>>>=2,st-=2}else if(wt===17){for(C=tt+3;st<C;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}st-=tt,h=0,kt=3+(7&(it>>>=tt)),it>>>=3,st-=3}else{for(C=tt+7;st<C;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}st-=tt,h=0,kt=11+(127&(it>>>=tt)),it>>>=7,st-=7}if(_.have+kt>_.nlen+_.ndist){E.msg="invalid bit length repeat",_.mode=30;break}for(;kt--;)_.lens[_.have++]=h}}if(_.mode===30)break;if(_.lens[256]===0){E.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,j={bits:_.lenbits},W=y(g,_.lens,0,_.nlen,_.lencode,0,_.work,j),_.lenbits=j.bits,W){E.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,j={bits:_.distbits},W=y(m,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,j),_.distbits=j.bits,W){E.msg="invalid distances set",_.mode=30;break}if(_.mode=20,H===6)break t;case 20:_.mode=21;case 21:if(6<=bt&&258<=$t){E.next_out=Et,E.avail_out=$t,E.next_in=ut,E.avail_in=bt,_.hold=it,_.bits=st,d(E,At),Et=E.next_out,Ct=E.output,$t=E.avail_out,ut=E.next_in,at=E.input,bt=E.avail_in,it=_.hold,st=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;lt=(T=_.lencode[it&(1<<_.lenbits)-1])>>>16&255,wt=65535&T,!((tt=T>>>24)<=st);){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(lt&&!(240&lt)){for(dt=tt,k=lt,L=wt;lt=(T=_.lencode[L+((it&(1<<dt+k)-1)>>dt)])>>>16&255,wt=65535&T,!(dt+(tt=T>>>24)<=st);){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}it>>>=dt,st-=dt,_.back+=dt}if(it>>>=tt,st-=tt,_.back+=tt,_.length=wt,lt===0){_.mode=26;break}if(32&lt){_.back=-1,_.mode=12;break}if(64&lt){E.msg="invalid literal/length code",_.mode=30;break}_.extra=15&lt,_.mode=22;case 22:if(_.extra){for(C=_.extra;st<C;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}_.length+=it&(1<<_.extra)-1,it>>>=_.extra,st-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;lt=(T=_.distcode[it&(1<<_.distbits)-1])>>>16&255,wt=65535&T,!((tt=T>>>24)<=st);){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(!(240&lt)){for(dt=tt,k=lt,L=wt;lt=(T=_.distcode[L+((it&(1<<dt+k)-1)>>dt)])>>>16&255,wt=65535&T,!(dt+(tt=T>>>24)<=st);){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}it>>>=dt,st-=dt,_.back+=dt}if(it>>>=tt,st-=tt,_.back+=tt,64&lt){E.msg="invalid distance code",_.mode=30;break}_.offset=wt,_.extra=15&lt,_.mode=24;case 24:if(_.extra){for(C=_.extra;st<C;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}_.offset+=it&(1<<_.extra)-1,it>>>=_.extra,st-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){E.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if($t===0)break t;if(kt=At-$t,_.offset>kt){if((kt=_.offset-kt)>_.whave&&_.sane){E.msg="invalid distance too far back",_.mode=30;break}yt=kt>_.wnext?(kt-=_.wnext,_.wsize-kt):_.wnext-kt,kt>_.length&&(kt=_.length),V=_.window}else V=Ct,yt=Et-_.offset,kt=_.length;for($t<kt&&(kt=$t),$t-=kt,_.length-=kt;Ct[Et++]=V[yt++],--kt;);_.length===0&&(_.mode=21);break;case 26:if($t===0)break t;Ct[Et++]=_.length,$t--,_.mode=21;break;case 27:if(_.wrap){for(;st<32;){if(bt===0)break t;bt--,it|=at[ut++]<<st,st+=8}if(At-=$t,E.total_out+=At,_.total+=At,At&&(E.adler=_.check=_.flags?c(_.check,Ct,At,Et-At):u(_.check,Ct,At,Et-At)),At=$t,(_.flags?it:S(it))!==_.check){E.msg="incorrect data check",_.mode=30;break}st=it=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;st<32;){if(bt===0)break t;bt--,it+=at[ut++]<<st,st+=8}if(it!==(4294967295&_.total)){E.msg="incorrect length check",_.mode=30;break}st=it=0}_.mode=29;case 29:W=1;break t;case 30:W=-3;break t;case 31:return-4;case 32:default:return v}return E.next_out=Et,E.avail_out=$t,E.next_in=ut,E.avail_in=bt,_.hold=it,_.bits=st,(_.wsize||At!==E.avail_out&&_.mode<30&&(_.mode<27||H!==4))&&nt(E,E.output,E.next_out,At-E.avail_out)?(_.mode=31,-4):(Pt-=E.avail_in,At-=E.avail_out,E.total_in+=Pt,E.total_out+=At,_.total+=At,_.wrap&&At&&(E.adler=_.check=_.flags?c(_.check,Ct,At,E.next_out-At):u(_.check,Ct,At,E.next_out-At)),E.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(Pt==0&&At===0||H===4)&&W===b&&(W=-5),W)},o.inflateEnd=function(E){if(!E||!E.state)return v;var H=E.state;return H.window&&(H.window=null),E.state=null,b},o.inflateGetHeader=function(E,H){var _;return E&&E.state&&2&(_=E.state).wrap?((_.head=H).done=!1,b):v},o.inflateSetDictionary=function(E,H){var _,at=H.length;return E&&E.state?(_=E.state).wrap!==0&&_.mode!==11?v:_.mode===11&&u(1,H,at,0)!==_.check?-3:nt(E,H,at,at)?(_.mode=31,-4):(_.havedict=1,b):v},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,o){var l=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(g,m,b,v,O,w,$,S){var R,A,M,U,rt,F,z,D,B,nt=S.bits,E=0,H=0,_=0,at=0,Ct=0,ut=0,Et=0,bt=0,$t=0,it=0,st=null,Pt=0,At=new l.Buf16(16),kt=new l.Buf16(16),yt=null,V=0;for(E=0;E<=15;E++)At[E]=0;for(H=0;H<v;H++)At[m[b+H]]++;for(Ct=nt,at=15;1<=at&&At[at]===0;at--);if(at<Ct&&(Ct=at),at===0)return O[w++]=20971520,O[w++]=20971520,S.bits=1,0;for(_=1;_<at&&At[_]===0;_++);for(Ct<_&&(Ct=_),E=bt=1;E<=15;E++)if(bt<<=1,(bt-=At[E])<0)return-1;if(0<bt&&(g===0||at!==1))return-1;for(kt[1]=0,E=1;E<15;E++)kt[E+1]=kt[E]+At[E];for(H=0;H<v;H++)m[b+H]!==0&&($[kt[m[b+H]]++]=H);if(F=g===0?(st=yt=$,19):g===1?(st=u,Pt-=257,yt=c,V-=257,256):(st=d,yt=y,-1),E=_,rt=w,Et=H=it=0,M=-1,U=($t=1<<(ut=Ct))-1,g===1&&852<$t||g===2&&592<$t)return 1;for(;;){for(z=E-Et,B=$[H]<F?(D=0,$[H]):$[H]>F?(D=yt[V+$[H]],st[Pt+$[H]]):(D=96,0),R=1<<E-Et,_=A=1<<ut;O[rt+(it>>Et)+(A-=R)]=z<<24|D<<16|B|0,A!==0;);for(R=1<<E-1;it&R;)R>>=1;if(R!==0?(it&=R-1,it+=R):it=0,H++,--At[E]==0){if(E===at)break;E=m[b+$[H]]}if(Ct<E&&(it&U)!==M){for(Et===0&&(Et=Ct),rt+=_,bt=1<<(ut=E-Et);ut+Et<at&&!((bt-=At[ut+Et])<=0);)ut++,bt<<=1;if($t+=1<<ut,g===1&&852<$t||g===2&&592<$t)return 1;O[M=it&U]=Ct<<24|ut<<16|rt-w|0}}return it!==0&&(O[rt+it]=E-Et<<24|64<<16|0),S.bits=Ct,0}},{"../utils/common":41}],51:[function(r,i,o){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,o){var l=r("../utils/common"),u=0,c=1;function d(T){for(var N=T.length;0<=--N;)T[N]=0}var y=0,g=29,m=256,b=m+1+g,v=30,O=19,w=2*b+1,$=15,S=16,R=7,A=256,M=16,U=17,rt=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nt=new Array(2*(b+2));d(nt);var E=new Array(2*v);d(E);var H=new Array(512);d(H);var _=new Array(256);d(_);var at=new Array(g);d(at);var Ct,ut,Et,bt=new Array(v);function $t(T,N,Q,J,Z){this.static_tree=T,this.extra_bits=N,this.extra_base=Q,this.elems=J,this.max_length=Z,this.has_stree=T&&T.length}function it(T,N){this.dyn_tree=T,this.max_code=0,this.stat_desc=N}function st(T){return T<256?H[T]:H[256+(T>>>7)]}function Pt(T,N){T.pending_buf[T.pending++]=255&N,T.pending_buf[T.pending++]=N>>>8&255}function At(T,N,Q){T.bi_valid>S-Q?(T.bi_buf|=N<<T.bi_valid&65535,Pt(T,T.bi_buf),T.bi_buf=N>>S-T.bi_valid,T.bi_valid+=Q-S):(T.bi_buf|=N<<T.bi_valid&65535,T.bi_valid+=Q)}function kt(T,N,Q){At(T,Q[2*N],Q[2*N+1])}function yt(T,N){for(var Q=0;Q|=1&T,T>>>=1,Q<<=1,0<--N;);return Q>>>1}function V(T,N,Q){var J,Z,ot=new Array($+1),mt=0;for(J=1;J<=$;J++)ot[J]=mt=mt+Q[J-1]<<1;for(Z=0;Z<=N;Z++){var ht=T[2*Z+1];ht!==0&&(T[2*Z]=yt(ot[ht]++,ht))}}function tt(T){var N;for(N=0;N<b;N++)T.dyn_ltree[2*N]=0;for(N=0;N<v;N++)T.dyn_dtree[2*N]=0;for(N=0;N<O;N++)T.bl_tree[2*N]=0;T.dyn_ltree[2*A]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function lt(T){8<T.bi_valid?Pt(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function wt(T,N,Q,J){var Z=2*N,ot=2*Q;return T[Z]<T[ot]||T[Z]===T[ot]&&J[N]<=J[Q]}function dt(T,N,Q){for(var J=T.heap[Q],Z=Q<<1;Z<=T.heap_len&&(Z<T.heap_len&&wt(N,T.heap[Z+1],T.heap[Z],T.depth)&&Z++,!wt(N,J,T.heap[Z],T.depth));)T.heap[Q]=T.heap[Z],Q=Z,Z<<=1;T.heap[Q]=J}function k(T,N,Q){var J,Z,ot,mt,ht=0;if(T.last_lit!==0)for(;J=T.pending_buf[T.d_buf+2*ht]<<8|T.pending_buf[T.d_buf+2*ht+1],Z=T.pending_buf[T.l_buf+ht],ht++,J===0?kt(T,Z,N):(kt(T,(ot=_[Z])+m+1,N),(mt=F[ot])!==0&&At(T,Z-=at[ot],mt),kt(T,ot=st(--J),Q),(mt=z[ot])!==0&&At(T,J-=bt[ot],mt)),ht<T.last_lit;);kt(T,A,N)}function L(T,N){var Q,J,Z,ot=N.dyn_tree,mt=N.stat_desc.static_tree,ht=N.stat_desc.has_stree,St=N.stat_desc.elems,Mt=-1;for(T.heap_len=0,T.heap_max=w,Q=0;Q<St;Q++)ot[2*Q]!==0?(T.heap[++T.heap_len]=Mt=Q,T.depth[Q]=0):ot[2*Q+1]=0;for(;T.heap_len<2;)ot[2*(Z=T.heap[++T.heap_len]=Mt<2?++Mt:0)]=1,T.depth[Z]=0,T.opt_len--,ht&&(T.static_len-=mt[2*Z+1]);for(N.max_code=Mt,Q=T.heap_len>>1;1<=Q;Q--)dt(T,ot,Q);for(Z=St;Q=T.heap[1],T.heap[1]=T.heap[T.heap_len--],dt(T,ot,1),J=T.heap[1],T.heap[--T.heap_max]=Q,T.heap[--T.heap_max]=J,ot[2*Z]=ot[2*Q]+ot[2*J],T.depth[Z]=(T.depth[Q]>=T.depth[J]?T.depth[Q]:T.depth[J])+1,ot[2*Q+1]=ot[2*J+1]=Z,T.heap[1]=Z++,dt(T,ot,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],function(Ot,ee){var be,_e,Te,ne,Cn,Se,xe=ee.dyn_tree,qn=ee.max_code,Gr=ee.stat_desc.static_tree,Vo=ee.stat_desc.has_stree,Ko=ee.stat_desc.extra_bits,Ss=ee.stat_desc.extra_base,cr=ee.stat_desc.max_length,Zr=0;for(ne=0;ne<=$;ne++)Ot.bl_count[ne]=0;for(xe[2*Ot.heap[Ot.heap_max]+1]=0,be=Ot.heap_max+1;be<w;be++)cr<(ne=xe[2*xe[2*(_e=Ot.heap[be])+1]+1]+1)&&(ne=cr,Zr++),xe[2*_e+1]=ne,qn<_e||(Ot.bl_count[ne]++,Cn=0,Ss<=_e&&(Cn=Ko[_e-Ss]),Se=xe[2*_e],Ot.opt_len+=Se*(ne+Cn),Vo&&(Ot.static_len+=Se*(Gr[2*_e+1]+Cn)));if(Zr!==0){do{for(ne=cr-1;Ot.bl_count[ne]===0;)ne--;Ot.bl_count[ne]--,Ot.bl_count[ne+1]+=2,Ot.bl_count[cr]--,Zr-=2}while(0<Zr);for(ne=cr;ne!==0;ne--)for(_e=Ot.bl_count[ne];_e!==0;)qn<(Te=Ot.heap[--be])||(xe[2*Te+1]!==ne&&(Ot.opt_len+=(ne-xe[2*Te+1])*xe[2*Te],xe[2*Te+1]=ne),_e--)}}(T,N),V(ot,Mt,T.bl_count)}function h(T,N,Q){var J,Z,ot=-1,mt=N[1],ht=0,St=7,Mt=4;for(mt===0&&(St=138,Mt=3),N[2*(Q+1)+1]=65535,J=0;J<=Q;J++)Z=mt,mt=N[2*(J+1)+1],++ht<St&&Z===mt||(ht<Mt?T.bl_tree[2*Z]+=ht:Z!==0?(Z!==ot&&T.bl_tree[2*Z]++,T.bl_tree[2*M]++):ht<=10?T.bl_tree[2*U]++:T.bl_tree[2*rt]++,ot=Z,Mt=(ht=0)===mt?(St=138,3):Z===mt?(St=6,3):(St=7,4))}function W(T,N,Q){var J,Z,ot=-1,mt=N[1],ht=0,St=7,Mt=4;for(mt===0&&(St=138,Mt=3),J=0;J<=Q;J++)if(Z=mt,mt=N[2*(J+1)+1],!(++ht<St&&Z===mt)){if(ht<Mt)for(;kt(T,Z,T.bl_tree),--ht!=0;);else Z!==0?(Z!==ot&&(kt(T,Z,T.bl_tree),ht--),kt(T,M,T.bl_tree),At(T,ht-3,2)):ht<=10?(kt(T,U,T.bl_tree),At(T,ht-3,3)):(kt(T,rt,T.bl_tree),At(T,ht-11,7));ot=Z,Mt=(ht=0)===mt?(St=138,3):Z===mt?(St=6,3):(St=7,4)}}d(bt);var j=!1;function C(T,N,Q,J){At(T,(y<<1)+(J?1:0),3),function(Z,ot,mt,ht){lt(Z),Pt(Z,mt),Pt(Z,~mt),l.arraySet(Z.pending_buf,Z.window,ot,mt,Z.pending),Z.pending+=mt}(T,N,Q)}o._tr_init=function(T){j||(function(){var N,Q,J,Z,ot,mt=new Array($+1);for(Z=J=0;Z<g-1;Z++)for(at[Z]=J,N=0;N<1<<F[Z];N++)_[J++]=Z;for(_[J-1]=Z,Z=ot=0;Z<16;Z++)for(bt[Z]=ot,N=0;N<1<<z[Z];N++)H[ot++]=Z;for(ot>>=7;Z<v;Z++)for(bt[Z]=ot<<7,N=0;N<1<<z[Z]-7;N++)H[256+ot++]=Z;for(Q=0;Q<=$;Q++)mt[Q]=0;for(N=0;N<=143;)nt[2*N+1]=8,N++,mt[8]++;for(;N<=255;)nt[2*N+1]=9,N++,mt[9]++;for(;N<=279;)nt[2*N+1]=7,N++,mt[7]++;for(;N<=287;)nt[2*N+1]=8,N++,mt[8]++;for(V(nt,b+1,mt),N=0;N<v;N++)E[2*N+1]=5,E[2*N]=yt(N,5);Ct=new $t(nt,F,m+1,b,$),ut=new $t(E,z,0,v,$),Et=new $t(new Array(0),D,0,O,R)}(),j=!0),T.l_desc=new it(T.dyn_ltree,Ct),T.d_desc=new it(T.dyn_dtree,ut),T.bl_desc=new it(T.bl_tree,Et),T.bi_buf=0,T.bi_valid=0,tt(T)},o._tr_stored_block=C,o._tr_flush_block=function(T,N,Q,J){var Z,ot,mt=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=function(ht){var St,Mt=4093624447;for(St=0;St<=31;St++,Mt>>>=1)if(1&Mt&&ht.dyn_ltree[2*St]!==0)return u;if(ht.dyn_ltree[18]!==0||ht.dyn_ltree[20]!==0||ht.dyn_ltree[26]!==0)return c;for(St=32;St<m;St++)if(ht.dyn_ltree[2*St]!==0)return c;return u}(T)),L(T,T.l_desc),L(T,T.d_desc),mt=function(ht){var St;for(h(ht,ht.dyn_ltree,ht.l_desc.max_code),h(ht,ht.dyn_dtree,ht.d_desc.max_code),L(ht,ht.bl_desc),St=O-1;3<=St&&ht.bl_tree[2*B[St]+1]===0;St--);return ht.opt_len+=3*(St+1)+5+5+4,St}(T),Z=T.opt_len+3+7>>>3,(ot=T.static_len+3+7>>>3)<=Z&&(Z=ot)):Z=ot=Q+5,Q+4<=Z&&N!==-1?C(T,N,Q,J):T.strategy===4||ot===Z?(At(T,2+(J?1:0),3),k(T,nt,E)):(At(T,4+(J?1:0),3),function(ht,St,Mt,Ot){var ee;for(At(ht,St-257,5),At(ht,Mt-1,5),At(ht,Ot-4,4),ee=0;ee<Ot;ee++)At(ht,ht.bl_tree[2*B[ee]+1],3);W(ht,ht.dyn_ltree,St-1),W(ht,ht.dyn_dtree,Mt-1)}(T,T.l_desc.max_code+1,T.d_desc.max_code+1,mt+1),k(T,T.dyn_ltree,T.dyn_dtree)),tt(T),J&&lt(T)},o._tr_tally=function(T,N,Q){return T.pending_buf[T.d_buf+2*T.last_lit]=N>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&N,T.pending_buf[T.l_buf+T.last_lit]=255&Q,T.last_lit++,N===0?T.dyn_ltree[2*Q]++:(T.matches++,N--,T.dyn_ltree[2*(_[Q]+m+1)]++,T.dyn_dtree[2*st(N)]++),T.last_lit===T.lit_bufsize-1},o._tr_align=function(T){At(T,2,3),kt(T,A,nt),function(N){N.bi_valid===16?(Pt(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(T)}},{"../utils/common":41}],53:[function(r,i,o){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,o){(function(l){(function(u,c){if(!u.setImmediate){var d,y,g,m,b=1,v={},O=!1,w=u.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(u);$=$&&$.setTimeout?$:u,d={}.toString.call(u.process)==="[object process]"?function(M){process.nextTick(function(){R(M)})}:function(){if(u.postMessage&&!u.importScripts){var M=!0,U=u.onmessage;return u.onmessage=function(){M=!1},u.postMessage("","*"),u.onmessage=U,M}}()?(m="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",A,!1):u.attachEvent("onmessage",A),function(M){u.postMessage(m+M,"*")}):u.MessageChannel?((g=new MessageChannel).port1.onmessage=function(M){R(M.data)},function(M){g.port2.postMessage(M)}):w&&"onreadystatechange"in w.createElement("script")?(y=w.documentElement,function(M){var U=w.createElement("script");U.onreadystatechange=function(){R(M),U.onreadystatechange=null,y.removeChild(U),U=null},y.appendChild(U)}):function(M){setTimeout(R,0,M)},$.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var U=new Array(arguments.length-1),rt=0;rt<U.length;rt++)U[rt]=arguments[rt+1];var F={callback:M,args:U};return v[b]=F,d(b),b++},$.clearImmediate=S}function S(M){delete v[M]}function R(M){if(O)setTimeout(R,0,M);else{var U=v[M];if(U){O=!0;try{(function(rt){var F=rt.callback,z=rt.args;switch(z.length){case 0:F();break;case 1:F(z[0]);break;case 2:F(z[0],z[1]);break;case 3:F(z[0],z[1],z[2]);break;default:F.apply(c,z)}})(U)}finally{S(M),O=!1}}}}function A(M){M.source===u&&typeof M.data=="string"&&M.data.indexOf(m)===0&&R(+M.data.slice(m.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(_p);var zS=_p.exports;const NS=s5(zS),US={key:0,class:"text-center p-10 card max-w-2xl mx-auto"},FS={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},jS={class:"lg:col-span-1 card flex flex-col"},WS={class:"mt-4 p-4 bg-slate-800 rounded-lg text-center"},qS={class:"text-5xl font-bold text-white tracking-widest"},HS={class:"mt-4 flex justify-center"},VS={class:"p-2 border-4 border-slate-200 rounded-lg bg-white"},KS=["src"],GS={class:"text-lg font-semibold text-slate-800 mb-2"},ZS={class:"h-48 overflow-y-auto bg-slate-100 p-3 rounded-md border space-y-2 flex-grow"},YS={key:0,class:"text-slate-400 text-center pt-10"},JS={class:"lg:col-span-2 card"},QS={key:0},XS={class:"space-y-6"},t6={class:"mt-1 border border-gray-300 rounded-lg"},e6={class:"border-b bg-slate-50 p-2 flex items-center gap-3"},n6={key:0},r6={class:"mt-2 flex space-x-4"},s6=["onClick"],i6={key:1},o6={class:"mt-2 flex space-x-4"},a6={key:1},l6=["innerHTML"],u6={class:"text-center my-6 text-2xl text-slate-600"},c6={class:"font-bold text-sky-600 text-3xl"},f6={key:2,class:"fixed inset-0 bg-gray-900 bg-opacity-90 flex flex-col items-center justify-center p-4 z-50"},d6={class:"w-full max-w-7xl h-[90vh] bg-white rounded-lg shadow-2xl flex flex-col p-6"},h6={class:"flex-grow overflow-y-auto"},p6={key:0,class:"space-y-6 p-4"},g6={class:"flex justify-between items-center mb-2"},m6={key:0,class:"w-8 h-8 ml-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},v6={class:"text-2xl font-bold"},_6={class:"w-full bg-slate-200 rounded-full h-12"},y6={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},b6=["onClick"],x6={class:"text-lg font-semibold text-center truncate mb-2"},w6=["src"],k6={key:1,class:"text-base p-2 bg-slate-100 rounded h-32 overflow-hidden"},C6={key:3,class:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50"},S6={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col"},E6={class:"p-4 border-b flex justify-between items-center bg-slate-50 rounded-t-lg"},A6={class:"text-2xl font-bold"},T6={class:"p-6 overflow-y-auto flex-grow flex items-center justify-center"},R6=["src"],O6={key:1,class:"text-3xl whitespace-pre-wrap"},I6={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},$6={class:"bg-white rounded-lg shadow-xl p-4 w-full max-w-3xl"},P6={class:"bg-slate-100 p-2 rounded-t-lg flex items-center justify-center gap-4 flex-wrap"},L6={class:"text-base font-medium"},M6={class:"text-base font-medium flex items-center gap-2"},D6={__name:"TeacherPingPongView",setup(t){const n=pt(null),r=pt(""),i=le(()=>`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${window.location.origin}/pingpong-student?room=${r.value}`),o=pt([]),l=pt("waiting"),u=Fe({type:"multiple-choice",htmlContent:"",correctAnswer:"A"}),c=pt({}),d=pt(null),y=pt(null),g=pt(null),m=pt(!1),b=pt({name:"",answer:""}),v=pt(!1),O=pt(!1),w=pt({}),$=pt({}),S=pt(null),R=pt(!1),A=pt("#ff0000"),M=pt(5),U=le(()=>{if(!O.value||w.value.type!=="multiple-choice"&&w.value.type!=="true-false")return[];const yt={},V=w.value.type==="multiple-choice"?["A","B","C","D"]:["O","X"];V.forEach(lt=>yt[lt]=0);for(const lt in $.value){const wt=$.value[lt].answer;yt[wt]!==void 0&&yt[wt]++}const tt=Object.keys($.value).length;return V.map(lt=>({option:lt,count:yt[lt],percentage:tt>0?(yt[lt]/tt*100).toFixed(0):0,isCorrect:lt===w.value.correctAnswer}))}),rt=()=>n.value.emit("teacher:createRoom",yt=>{yt.roomCode&&(r.value=yt.roomCode)}),F=()=>{u.htmlContent=d.value.innerHTML,n.value.emit("teacher:startQuestion",{roomCode:r.value,question:u})},z=()=>n.value.emit("teacher:stopAnswering",{roomCode:r.value}),D=()=>{confirm("確定要結束活動嗎？")&&(n.value.emit("teacher:endActivity",{roomCode:r.value}),r.value="")},B=yt=>{b.value=yt,m.value=!0},nt=()=>{v.value=!1,Et()},E=()=>{O.value=!1,l.value="results",d.value&&(d.value.innerHTML="")},H=()=>{if(!g.value)return;S.value=g.value.getContext("2d");const yt=g.value,V=yt.getBoundingClientRect();yt.width=V.width,yt.height=V.height,yt.addEventListener("mousedown",at),yt.addEventListener("mousemove",Ct),yt.addEventListener("mouseup",ut),yt.addEventListener("mouseleave",ut),yt.addEventListener("touchstart",at,{passive:!1}),yt.addEventListener("touchmove",Ct,{passive:!1}),yt.addEventListener("touchend",ut)},_=yt=>{const V=g.value,tt=V.getBoundingClientRect(),lt=V.width/tt.width,wt=V.height/tt.height,dt=yt.touches?yt.touches[0].clientX:yt.clientX,k=yt.touches?yt.touches[0].clientY:yt.clientY;return{x:(dt-tt.left)*lt,y:(k-tt.top)*wt}},at=yt=>{yt.preventDefault(),R.value=!0;const{x:V,y:tt}=_(yt);S.value.beginPath(),S.value.moveTo(V,tt)},Ct=yt=>{if(!R.value)return;yt.preventDefault();const{x:V,y:tt}=_(yt);S.value.lineTo(V,tt),S.value.strokeStyle=A.value,S.value.lineWidth=M.value,S.value.lineCap="round",S.value.lineJoin="round",S.value.stroke()},ut=()=>{R.value&&(R.value=!1,S.value.closePath())},Et=()=>S.value.clearRect(0,0,g.value.width,g.value.height),bt=()=>{const yt=g.value.toDataURL("image/png"),V=document.createElement("img");V.src=yt,V.style.maxWidth="100%",V.style.maxHeight="200px",V.style.display="block",V.style.margin="0.5rem auto",d.value.appendChild(V),nt()},$t=()=>y.value.click(),it=yt=>{const V=yt.target.files[0];V&&(st(V,800,800,.8).then(tt=>{const lt=document.createElement("img");lt.src=tt,lt.style.maxWidth="100%",lt.style.maxHeight="200px",lt.style.display="block",lt.style.margin="0.5rem auto",d.value.appendChild(lt)}).catch(tt=>console.error("圖片處理失敗:",tt)),yt.target.value="")};function st(yt,V,tt,lt){return new Promise((wt,dt)=>{const k=new FileReader;k.onload=L=>{const h=new Image;h.onload=()=>{let{width:W,height:j}=h;W>j?W>V&&(j*=V/W,W=V):j>tt&&(W*=tt/j,j=tt);const C=document.createElement("canvas");C.width=W,C.height=j,C.getContext("2d").drawImage(h,0,0,W,j),wt(C.toDataURL(yt.type,lt))},h.onerror=dt,h.src=L.target.result},k.onerror=dt,k.readAsDataURL(yt)})}const Pt=async()=>{const yt=new Date,V=`${yt.getFullYear()}-${String(yt.getMonth()+1).padStart(2,"0")}-${String(yt.getDate()).padStart(2,"0")}_${String(yt.getHours()).padStart(2,"0")}${String(yt.getMinutes()).padStart(2,"0")}`,tt=Object.values($.value);if(w.value.type==="image"){const lt=new NS;for(const dt of tt){const k=await At(dt.answer),L=await(await fetch(k)).blob(),h=`${dt.name}_${V}.png`;lt.file(h,L)}const wt=await lt.generateAsync({type:"blob"});kt(wt,`繪圖作品_${r.value}_${V}.zip`)}else{let lt=`\uFEFF學生暱稱,回答內容
`;tt.forEach(dt=>{const k=`"${dt.name.replace(/"/g,'""')}"`,L=`"${String(dt.answer).replace(/"/g,'""')}"`;lt+=`${k},${L}
`});const wt=new Blob([lt],{type:"text/csv;charset=utf-8;"});kt(wt,`答題記錄_${r.value}_${V}.csv`)}},At=yt=>new Promise(V=>{const tt=new Image;tt.onload=()=>{const lt=document.createElement("canvas");lt.width=tt.width,lt.height=tt.height;const wt=lt.getContext("2d");wt.fillStyle="white",wt.fillRect(0,0,lt.width,lt.height),wt.drawImage(tt,0,0),V(lt.toDataURL("image/png"))},tt.src=yt}),kt=(yt,V)=>{const tt=document.createElement("a");tt.href=URL.createObjectURL(yt),tt.download=V,document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL(tt.href)};return Er(v,yt=>{yt&&pi(H)}),Ye(()=>{n.value=Hr("http://localhost:3000"),n.value.on("connect",()=>console.log("成功連接到 Socket.IO 伺服器")),n.value.on("student:joined",yt=>o.value=yt),n.value.on("student:left",yt=>o.value=yt),n.value.on("teacher:questionStarted",()=>{l.value="question",c.value={}}),n.value.on("student:answered",yt=>c.value=yt),n.value.on("question:ended",yt=>{w.value={...u},$.value=yt,l.value="results",O.value=!0}),n.value.on("activity:ended",yt=>{alert(yt||"活動已結束"),r.value="",l.value="waiting"})}),Kr(()=>{n.value&&(r.value&&n.value.emit("teacher:endActivity",{roomCode:r.value}),n.value.disconnect())}),(yt,V)=>(K(),G("div",null,[V[27]||(V[27]=f("h1",{class:"text-4xl font-bold text-slate-800 mb-8"},"PingPong 即時問答",-1)),r.value?(K(),G("div",FS,[f("div",jS,[V[11]||(V[11]=f("h2",{class:"text-xl font-semibold text-slate-800"},"活動進行中",-1)),f("div",WS,[V[10]||(V[10]=f("p",{class:"text-sm text-slate-300"},"房間代碼",-1)),f("p",qS,ct(r.value),1)]),f("div",HS,[f("div",VS,[f("img",{src:i.value,alt:"QR Code",class:"w-48 h-48"},null,8,KS)])]),V[12]||(V[12]=f("p",{class:"text-center text-slate-500 mt-2 text-sm"},"請學生掃描 QR Code 或輸入代碼加入",-1)),V[13]||(V[13]=f("hr",{class:"my-6"},null,-1)),f("h3",GS,"已連線學生 ("+ct(o.value.length)+")",1),f("ul",ZS,[(K(!0),G(Wt,null,te(o.value,tt=>(K(),G("li",{key:tt.id,class:"text-slate-700 py-1 px-2 bg-white rounded shadow-sm"},ct(tt.name),1))),128)),o.value.length===0?(K(),G("li",YS,"尚無學生加入...")):Tt("",!0)]),f("button",{onClick:D,class:"btn btn-danger w-full mt-6 py-3 text-lg"}," 結束活動 ")]),f("div",JS,[l.value==="waiting"||l.value==="results"?(K(),G("div",QS,[V[19]||(V[19]=f("h2",{class:"text-2xl font-semibold text-slate-800 mb-6"},"設定新問題",-1)),f("div",XS,[f("div",null,[V[15]||(V[15]=f("label",{class:"block text-base font-medium text-slate-700"},"問題類型",-1)),Bt(f("select",{"onUpdate:modelValue":V[0]||(V[0]=tt=>u.type=tt),class:"mt-1 form-input text-lg py-3"},[...V[14]||(V[14]=[f("option",{value:"multiple-choice"},"單選題 (4選1)",-1),f("option",{value:"true-false"},"是非題",-1),f("option",{value:"short-answer"},"簡答題",-1),f("option",{value:"image"},"繪圖題",-1)])],512),[[ai,u.type]])]),f("div",null,[V[16]||(V[16]=f("label",{class:"block text-base font-medium text-slate-700"},"題目內容 (可選)",-1)),f("div",t6,[f("div",e6,[f("button",{onClick:V[1]||(V[1]=tt=>v.value=!0),class:"btn btn-secondary text-sm"},"繪圖"),f("button",{onClick:$t,class:"btn btn-secondary text-sm"},"插入圖片"),f("input",{type:"file",ref_key:"imageUploader",ref:y,onChange:it,class:"hidden",accept:"image/*"},null,544)]),f("div",{ref_key:"questionEditor",ref:d,contenteditable:"true",class:"w-full min-h-[150px] p-3 text-lg bg-white overflow-y-auto focus:outline-none focus:ring-2 focus:ring-sky-400 rounded-b-lg",style:{"-webkit-user-modify":"read-write-plaintext-only"}},null,512)])]),u.type==="multiple-choice"?(K(),G("div",n6,[V[17]||(V[17]=f("label",{class:"block text-base font-medium text-slate-700"},"正確答案",-1)),f("div",r6,[(K(),G(Wt,null,te(["A","B","C","D"],tt=>f("button",{key:tt,onClick:lt=>u.correctAnswer=tt,class:me(["w-16 h-16 rounded-full font-bold text-2xl",u.correctAnswer===tt?"bg-green-500 text-white ring-2 ring-offset-2 ring-green-500":"bg-slate-200 text-slate-700 hover:bg-slate-300"])},ct(tt),11,s6)),64))])])):Tt("",!0),u.type==="true-false"?(K(),G("div",i6,[V[18]||(V[18]=f("label",{class:"block text-base font-medium text-slate-700"},"正確答案",-1)),f("div",o6,[f("button",{onClick:V[2]||(V[2]=tt=>u.correctAnswer="O"),class:me(["px-8 py-4 rounded-lg font-bold text-2xl",u.correctAnswer==="O"?"bg-green-500 text-white ring-2 ring-offset-2 ring-green-500":"bg-slate-200 text-slate-700 hover:bg-slate-300"])},"O (是)",2),f("button",{onClick:V[3]||(V[3]=tt=>u.correctAnswer="X"),class:me(["px-8 py-4 rounded-lg font-bold text-2xl",u.correctAnswer==="X"?"bg-red-500 text-white ring-2 ring-offset-2 ring-red-500":"bg-slate-200 text-slate-700 hover:bg-slate-300"])},"X (否)",2)])])):Tt("",!0),f("button",{onClick:F,class:"btn bg-green-500 hover:bg-green-600 w-full text-xl py-4"}," 開始提問 ")])])):Tt("",!0),l.value==="question"?(K(),G("div",a6,[V[21]||(V[21]=f("h2",{class:"text-2xl font-semibold text-slate-800 mb-4"},"問題進行中...",-1)),f("div",{class:"p-4 border-2 border-sky-500 rounded-lg bg-sky-50 min-h-[150px]",innerHTML:u.htmlContent},null,8,l6),f("p",u6,[V[20]||(V[20]=ve("已作答人數: ",-1)),f("span",c6,ct(Object.keys(c.value).length),1),ve(" / "+ct(o.value.length),1)]),f("button",{onClick:z,class:"btn btn-danger w-full text-xl py-4"}," 結束作答 ")])):Tt("",!0)])])):(K(),G("div",US,[V[7]||(V[7]=f("svg",{class:"mx-auto h-24 w-24 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),V[8]||(V[8]=f("h2",{class:"mt-6 text-2xl font-semibold text-slate-700"},"開始一個新的問答活動",-1)),V[9]||(V[9]=f("p",{class:"mt-2 text-slate-500"},"點擊下方按鈕以產生一個活動房間代碼，讓學生可以加入。",-1)),f("button",{onClick:rt,class:"btn btn-primary text-xl px-8 py-4 rounded-full mt-8"}," 建立新活動 ")])),O.value?(K(),G("div",f6,[f("div",d6,[f("div",{class:"flex justify-between items-center border-b pb-4 mb-6"},[V[22]||(V[22]=f("h2",{class:"text-3xl font-bold"},"作答結果",-1)),f("div",{class:"flex items-center gap-4"},[f("button",{onClick:Pt,class:"btn btn-success text-base"}," 匯出答題記錄 "),f("button",{onClick:E,class:"text-4xl text-slate-400 hover:text-slate-800"},"×")])]),f("div",h6,[w.value.type==="multiple-choice"||w.value.type==="true-false"?(K(),G("div",p6,[(K(!0),G(Wt,null,te(U.value,tt=>(K(),G("div",{key:tt.option,class:"w-full"},[f("div",g6,[f("span",{class:me(["font-semibold text-3xl flex items-center",[tt.isCorrect?"text-green-600":"text-slate-700"]])},[ve(ct(tt.option)+" ",1),tt.isCorrect?(K(),G("svg",m6,[...V[23]||(V[23]=[f("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):Tt("",!0)],2),f("span",v6,ct(tt.count)+"人 ("+ct(tt.percentage)+"%)",1)]),f("div",_6,[f("div",{class:me(["h-12 rounded-full flex items-center justify-center text-white font-bold text-lg",[tt.isCorrect?"bg-green-500":"bg-sky-500"]]),style:Vr({width:tt.percentage+"%"})},ct(tt.percentage>10?tt.percentage+"%":""),7)])]))),128))])):Tt("",!0),w.value.type==="image"||w.value.type==="short-answer"?(K(),G("div",y6,[(K(!0),G(Wt,null,te($.value,tt=>(K(),G("div",{key:tt.id,onClick:lt=>B(tt),class:"card p-2 cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all"},[f("p",x6,ct(tt.name),1),w.value.type==="image"?(K(),G("img",{key:0,src:tt.answer,class:"w-full rounded-md aspect-video object-contain bg-slate-100"},null,8,w6)):(K(),G("p",k6,ct(tt.answer),1))],8,b6))),128))])):Tt("",!0)])])])):Tt("",!0),m.value?(K(),G("div",C6,[f("div",S6,[f("div",E6,[f("h3",A6,ct(b.value.name)+" 的回應",1),f("button",{onClick:V[4]||(V[4]=tt=>m.value=!1),class:"text-4xl text-slate-400 hover:text-slate-800"},"×")]),f("div",T6,[w.value.type==="image"?(K(),G("img",{key:0,src:b.value.answer,class:"max-w-full max-h-full object-contain"},null,8,R6)):(K(),G("p",O6,ct(b.value.answer),1))])])])):Tt("",!0),v.value?(K(),G("div",I6,[f("div",$6,[V[26]||(V[26]=f("h3",{class:"text-2xl font-bold mb-4"},"繪製題目插圖",-1)),f("div",P6,[f("label",L6,[V[24]||(V[24]=ve("顏色: ",-1)),Bt(f("input",{type:"color","onUpdate:modelValue":V[5]||(V[5]=tt=>A.value=tt)},null,512),[[Ft,A.value]])]),f("label",M6,[V[25]||(V[25]=ve("筆刷: ",-1)),Bt(f("input",{type:"range","onUpdate:modelValue":V[6]||(V[6]=tt=>M.value=tt),min:"1",max:"50"},null,512),[[Ft,M.value]])])]),f("canvas",{ref_key:"drawingCanvas",ref:g,class:"border bg-white w-full aspect-video",style:{"touch-action":"none"}},null,512),f("div",{class:"flex justify-end gap-4 mt-4"},[f("button",{onClick:nt,class:"btn btn-secondary text-base"},"取消"),f("button",{onClick:bt,class:"btn bg-teal-500 hover:bg-teal-600 text-base"},"儲存繪圖")])])])):Tt("",!0)]))}},B6={class:"min-h-screen bg-sky-100 flex items-center justify-center p-4 font-sans"},z6={key:0,class:"card p-8 transform transition-all hover:shadow-2xl duration-300"},N6={key:0,class:"text-red-500 text-sm text-center pt-2"},U6={key:1,class:"text-center p-8 card"},F6=["innerHTML"],j6={key:1,class:"mb-6"},W6={class:"text-3xl font-semibold text-center text-slate-800"},q6={key:2,class:"grid grid-cols-2 gap-4"},H6=["onClick"],V6={key:3,class:"grid grid-cols-2 gap-4"},K6={key:5},G6={class:"bg-slate-100 p-2 rounded-t-lg flex items-center justify-center gap-2 md:gap-4 flex-wrap"},Z6={class:"text-base font-medium"},Y6={class:"flex items-center gap-2"},J6={class:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center"},Q6={key:3,class:"text-center p-8 card"},X6={__name:"StudentPingPongView",setup(t){const n=pt(null),r=lu(),i=Fe({roomCode:"",name:""}),o=Fe({joined:!1}),l=pt(""),u=pt(null),c=pt(!1),d=pt(""),y=pt(null),g=pt(null),m=pt(!1),b=pt("#000000"),v=pt(5),O=()=>{if(!y.value)return;g.value=y.value.getContext("2d");const F=y.value,z=F.getBoundingClientRect();F.width=z.width,F.height=z.height,F.addEventListener("mousedown",$),F.addEventListener("mousemove",S),F.addEventListener("mouseup",R),F.addEventListener("mouseleave",R),F.addEventListener("touchstart",$,{passive:!1}),F.addEventListener("touchmove",S,{passive:!1}),F.addEventListener("touchend",R)},w=F=>{const z=y.value,D=z.getBoundingClientRect(),B=z.width/D.width,nt=z.height/D.height,E=F.touches?F.touches[0].clientX:F.clientX,H=F.touches?F.touches[0].clientY:F.clientY;return{x:(E-D.left)*B,y:(H-D.top)*nt}},$=F=>{F.preventDefault(),m.value=!0;const{x:z,y:D}=w(F);g.value.beginPath(),g.value.moveTo(z,D)},S=F=>{if(!m.value)return;F.preventDefault();const{x:z,y:D}=w(F);g.value.lineTo(z,D),g.value.strokeStyle=b.value,g.value.lineWidth=v.value,g.value.lineCap="round",g.value.lineJoin="round",g.value.stroke()},R=()=>{m.value&&(m.value=!1,g.value.closePath())},A=()=>{g.value.clearRect(0,0,y.value.width,y.value.height)},M=()=>{const F=y.value,z=document.createElement("canvas");z.width=F.width,z.height=F.height;const D=z.getContext("2d");D.fillStyle="white",D.fillRect(0,0,z.width,z.height),D.drawImage(F,0,0),rt(z.toDataURL("image/png"))};Er(u,F=>{(F==null?void 0:F.type)==="image"&&pi(O)});const U=()=>{if(!i.roomCode||!i.name){l.value="房間代碼和姓名為必填項。";return}l.value="",n.value.emit("student:joinRoom",{roomCode:i.roomCode.toUpperCase(),name:i.name},F=>{F.success?o.joined=!0:l.value=F.message})},rt=F=>{typeof F=="string"&&!F.trim()||(n.value.emit("student:submitAnswer",{roomCode:i.roomCode.toUpperCase(),answer:F}),c.value=!0)};return Ye(()=>{const F=r.query.room;F&&(i.roomCode=F.toUpperCase());const z=localStorage.getItem("studentInfo");z&&(i.name=JSON.parse(z).name),n.value=Hr("http://localhost:3000"),n.value.on("connect",()=>console.log("成功連接到 Socket.IO 伺服器")),n.value.on("question:started",D=>{u.value=D,c.value=!1,d.value=""}),n.value.on("question:ended",()=>{u.value=null,c.value=!0}),n.value.on("activity:ended",D=>{alert(D||"老師已結束活動，將返回加入頁面。"),o.joined=!1,u.value=null,c.value=!1,l.value=""})}),Kr(()=>{n.value&&n.value.disconnect()}),(F,z)=>{var D;return K(),G("div",B6,[f("div",{class:me(["w-full transition-all duration-300",((D=u.value)==null?void 0:D.type)==="image"?"max-w-4xl":"max-w-lg"])},[o.joined?Tt("",!0):(K(),G("div",z6,[z[11]||(z[11]=f("h1",{class:"text-3xl font-bold text-center text-sky-600 mb-2"},"加入 PingPong 活動",-1)),z[12]||(z[12]=f("p",{class:"text-center text-slate-500 mb-8"},"請輸入老師提供的房間代碼",-1)),f("form",{onSubmit:We(U,["prevent"]),class:"space-y-6"},[f("div",null,[z[8]||(z[8]=f("label",{for:"roomCode",class:"block text-lg font-bold text-slate-600 mb-1"},"房間代碼",-1)),Bt(f("input",{"onUpdate:modelValue":z[0]||(z[0]=B=>i.roomCode=B),type:"text",id:"roomCode",placeholder:"ABCDEF",class:"form-input text-4xl tracking-widest text-center uppercase py-3"},null,512),[[Ft,i.roomCode,void 0,{trim:!0}]])]),f("div",null,[z[9]||(z[9]=f("label",{for:"studentName",class:"block text-lg font-bold text-slate-600 mb-1"},"你的名字",-1)),Bt(f("input",{"onUpdate:modelValue":z[1]||(z[1]=B=>i.name=B),type:"text",id:"studentName",placeholder:"請輸入姓名或座號",class:"form-input text-2xl py-3"},null,512),[[Ft,i.name,void 0,{trim:!0}]])]),l.value?(K(),G("p",N6,ct(l.value),1)):Tt("",!0),z[10]||(z[10]=f("button",{type:"submit",class:"w-full btn btn-primary py-4 text-2xl font-bold"}," 加入 ",-1))],32)])),o.joined&&!u.value?(K(),G("div",U6,[...z[13]||(z[13]=[qr('<h2 class="text-4xl font-bold text-slate-700">已成功加入！</h2><p class="text-slate-500 mt-2 text-xl">請等待老師開始提問...</p><div class="mt-12"><svg class="animate-spin h-16 w-16 text-sky-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>',3)])])):Tt("",!0),o.joined&&u.value&&!c.value?(K(),G("div",{key:2,class:me(["card",u.value.type==="image"?"p-4":"p-8"])},[u.value.htmlContent?(K(),G("div",{key:0,id:"question-area",class:"mb-6 max-h-60 overflow-y-auto p-2 text-xl",innerHTML:u.value.htmlContent},null,8,F6)):u.value.text?(K(),G("div",j6,[f("p",W6,ct(u.value.text),1)])):Tt("",!0),u.value.type==="multiple-choice"?(K(),G("div",q6,[(K(),G(Wt,null,te(["A","B","C","D"],B=>f("button",{key:B,onClick:nt=>rt(B),class:"answer-btn-student text-7xl font-bold h-40"},ct(B),9,H6)),64))])):Tt("",!0),u.value.type==="true-false"?(K(),G("div",V6,[f("button",{onClick:z[2]||(z[2]=B=>rt("O")),class:"answer-btn-student h-40"},[...z[14]||(z[14]=[f("svg",{class:"w-24 h-24 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])]),f("button",{onClick:z[3]||(z[3]=B=>rt("X")),class:"answer-btn-student h-40"},[...z[15]||(z[15]=[f("svg",{class:"w-24 h-24 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])])):Tt("",!0),u.value.type==="short-answer"?(K(),G("form",{key:4,onSubmit:z[5]||(z[5]=We(B=>rt(d.value),["prevent"]))},[Bt(f("textarea",{"onUpdate:modelValue":z[4]||(z[4]=B=>d.value=B),rows:"6",class:"form-input text-xl",placeholder:"請在此輸入您的答案..."},null,512),[[Ft,d.value]]),z[16]||(z[16]=f("button",{type:"submit",class:"w-full mt-4 btn btn-primary py-4 text-xl font-bold"},"送出答案",-1))],32)):Tt("",!0),u.value.type==="image"?(K(),G("div",K6,[f("div",G6,[f("label",Z6,[z[17]||(z[17]=ve("顏色: ",-1)),Bt(f("input",{type:"color","onUpdate:modelValue":z[6]||(z[6]=B=>b.value=B),class:"w-10 h-10"},null,512),[[Ft,b.value]])]),f("div",Y6,[z[18]||(z[18]=f("label",{class:"text-base font-medium"},"筆刷:",-1)),Bt(f("input",{type:"range","onUpdate:modelValue":z[7]||(z[7]=B=>v.value=B),min:"1",max:"50",class:"w-32 md:w-48"},null,512),[[Ft,v.value]]),f("span",J6,[f("span",{class:"rounded-full bg-black",style:Vr({width:v.value+"px",height:v.value+"px"})},null,4)])]),f("button",{onClick:A,class:"btn btn-secondary text-base"},"清除")]),f("canvas",{ref_key:"drawingCanvas",ref:y,class:"border-x border-b border-gray-300 bg-white w-full aspect-video",style:{"touch-action":"none"}},null,512),f("button",{onClick:M,class:"mt-4 w-full btn bg-orange-500 hover:bg-orange-600 text-xl font-bold py-4"},"送出我的作品")])):Tt("",!0)],2)):Tt("",!0),o.joined&&c.value?(K(),G("div",Q6,[...z[19]||(z[19]=[f("svg",{class:"mx-auto h-24 w-24 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[f("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),f("h2",{class:"mt-6 text-3xl font-bold text-green-600"},"已成功送出答案！",-1),f("p",{class:"text-slate-500 mt-2 text-lg"},"請等待下一題或老師公佈結果...",-1)])])):Tt("",!0)],2)])}}},tE={class:"flex justify-between items-center mb-8"},eE={key:0,class:"text-center py-10 text-slate-500"},nE={key:1,class:"text-center bg-white rounded-lg p-12 shadow"},rE={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},sE={class:"flex-grow"},iE={key:0,class:"px-2 py-1 text-xs font-semibold rounded-full bg-sky-100 text-sky-800"},oE={class:"text-2xl font-bold text-slate-800 mt-2"},aE={class:"text-sm text-slate-500 mt-2"},lE={class:"mt-6 grid grid-cols-2 gap-3"},uE=["onClick"],cE={class:"mt-3 flex justify-end items-center text-sm"},fE=["onClick"],dE=["onClick"],hE={key:3,class:"fixed z-10 inset-0 overflow-y-auto"},pE={class:"flex items-center justify-center min-h-screen"},gE={class:"p-6"},mE={class:"text-xl font-bold mb-4"},vE={class:"space-y-4"},_E=["value"],yE={class:"bg-gray-50 px-6 py-4 flex justify-end space-x-3"},bE={key:4,class:"fixed z-20 inset-0 overflow-y-auto"},xE={class:"flex items-center justify-center min-h-screen p-4"},wE={class:"bg-white rounded-lg shadow-xl transform transition-all w-full max-w-5xl h-[90vh] flex flex-col"},kE={class:"p-4 border-b flex justify-between items-center"},CE={class:"text-2xl font-bold"},SE={class:"flex-grow p-6 overflow-y-auto"},EE={class:"flex justify-end items-center gap-4 mb-6"},AE={key:0,class:"text-center text-slate-500 py-10"},TE={key:1,class:"space-y-4"},RE={class:"flex justify-between items-start"},OE={class:"font-bold text-lg"},IE=["innerHTML"],$E={class:"grid grid-cols-2 gap-x-8 gap-y-2 mt-2 pl-6"},PE={key:0,class:"w-5 h-5 ml-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},LE={class:"flex items-center space-x-2"},ME=["onClick"],DE=["onClick"],BE={key:5,class:"fixed z-30 inset-0 overflow-y-auto"},zE={class:"flex items-center justify-center min-h-screen"},NE={class:"p-6"},UE={class:"text-xl font-bold mb-4"},FE={class:"space-y-4"},jE=["innerHTML"],WE=["onUpdate:modelValue"],qE={class:"flex items-center gap-1.5"},HE=["name","value","onChange","checked"],VE=["onClick"],KE={class:"bg-gray-50 px-6 py-4 flex justify-end space-x-3"},GE={__name:"QuizManagerView",setup(t){const n=pt(!0),r=pt([]),i=pt([]),o=pt(!1),l=pt({}),u=pt(!1),c=pt(null),d=pt([]),y=pt(!1),g=pt({}),m=pt(null),b=pt(null),v=nt=>{l.value=nt?{...nt}:{title:"",subject_id:null},o.value=!0},O=async()=>{const nt=!!l.value.id,E=nt?`/api/quiz-sets/${l.value.id}`:"/api/quiz-sets",H=nt?"PUT":"POST";try{const at=await(await Vt(E,{method:H,body:JSON.stringify(l.value)})).json();if(nt){const Ct=r.value.findIndex(ut=>ut.id===at.id);r.value[Ct]=at}else r.value.unshift(at);o.value=!1}catch(_){console.error("儲存測驗集失敗:",_)}},w=async nt=>{if(confirm("確定要刪除這個測驗集嗎？所有相關的題目將會一併刪除！"))try{await Vt(`/api/quiz-sets/${nt}`,{method:"DELETE"}),r.value=r.value.filter(E=>E.id!==nt)}catch(E){console.error("刪除測驗集失敗:",E)}},$=async nt=>{try{const E=await Vt(`/api/quiz-questions/${nt.id}`);if(!E.ok)throw new Error("讀取題目失敗");d.value=await E.json()}catch(E){console.error("讀取題目失敗:",E),alert(E.message)}},S=async nt=>{c.value=nt,u.value=!0,await $(nt)},R=()=>{u.value=!1,c.value=null,d.value=[]},A=nt=>{g.value=nt?JSON.parse(JSON.stringify(nt)):{quiz_set_id:c.value.id,question_text:"",options:[{text:"",isCorrect:!0},{text:"",isCorrect:!1}],time_limit:20},y.value=!0},M=()=>{g.value.options.length<4&&g.value.options.push({text:"",isCorrect:!1})},U=nt=>{g.value.options.length>2&&(g.value.options[nt].isCorrect&&(g.value.options[0].isCorrect=!0),g.value.options.splice(nt,1))},rt=nt=>{g.value.options.forEach((E,H)=>{E.isCorrect=H===nt})},F=async()=>{g.value.question_text=m.value.innerHTML;const nt=!!g.value.id,E=nt?`/api/quiz-questions/${g.value.id}`:"/api/quiz-questions",H=nt?"PUT":"POST";try{const at=await(await Vt(E,{method:H,body:JSON.stringify(g.value)})).json();if(nt){const Ct=d.value.findIndex(ut=>ut.id===at.id);d.value[Ct]=at}else d.value.push(at);y.value=!1}catch(_){console.error("儲存題目失敗:",_)}},z=async nt=>{if(confirm("確定要刪除這個題目嗎？"))try{await Vt(`/api/quiz-questions/${nt}`,{method:"DELETE"}),d.value=d.value.filter(E=>E.id!==nt)}catch(E){console.error("刪除題目失敗:",E)}},D=()=>{b.value.click()},B=async nt=>{const E=nt.target.files[0];if(!E||!c.value)return;const H=new FormData;H.append("file",E);try{const _=await Vt(`/api/quiz-questions/import/${c.value.id}`,{method:"POST",body:H}),at=await _.json();if(!_.ok)throw new Error(at.error);alert(at.message),await $(c.value)}catch(_){console.error("匯入題庫失敗:",_),alert(`匯入失敗: ${_.message}`)}finally{b.value.value=""}};return Ye(async()=>{try{const[nt,E]=await Promise.all([Vt("/api/quiz-sets"),Vt("/api/subjects")]);r.value=await nt.json(),i.value=await E.json()}catch(nt){console.error("初始化失敗:",nt)}finally{n.value=!1}}),(nt,E)=>{const H=Eo("router-link");return K(),G("div",null,[f("div",tE,[E[9]||(E[9]=f("h1",{class:"text-4xl font-bold text-slate-800"},"搶答競賽 (QuizRace)",-1)),f("button",{onClick:E[0]||(E[0]=_=>v(null)),class:"btn btn-primary"},"建立新測驗集")]),n.value?(K(),G("div",eE,"正在載入題庫...")):r.value.length===0?(K(),G("div",nE,[...E[10]||(E[10]=[f("h3",{class:"text-2xl font-semibold text-slate-700"},"尚未建立任何測驗集",-1),f("p",{class:"text-slate-500 mt-2"},"點擊右上角的「建立新測驗集」來開始吧！",-1)])])):(K(),G("div",rE,[(K(!0),G(Wt,null,te(r.value,_=>(K(),G("div",{key:_.id,class:"card flex flex-col"},[f("div",sE,[_.subject_name?(K(),G("span",iE,ct(_.subject_name),1)):Tt("",!0),f("h3",oE,ct(_.title),1),f("p",aE,"建立於: "+ct(new Date(_.created_at).toLocaleDateString()),1)]),f("div",lE,[f("button",{onClick:at=>S(_),class:"btn bg-slate-600 hover:bg-slate-700 w-full"},"管理題目",8,uE),ce(H,{to:{name:"quiz-game-teacher",params:{setId:_.id}},class:"btn btn-success w-full text-center"},{default:cn(()=>[...E[11]||(E[11]=[ve("開始競賽",-1)])]),_:1},8,["to"])]),f("div",cE,[f("button",{onClick:at=>v(_),class:"text-blue-500 hover:text-blue-700 font-medium"},"編輯資訊",8,fE),E[12]||(E[12]=f("span",{class:"mx-2 text-slate-300"},"|",-1)),f("button",{onClick:at=>w(_.id),class:"text-red-500 hover:text-red-700 font-medium"},"刪除",8,dE)])]))),128))])),o.value?(K(),G("div",hE,[f("div",pE,[f("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:E[1]||(E[1]=_=>o.value=!1)}),f("form",{onSubmit:We(O,["prevent"]),class:"bg-white rounded-lg shadow-xl transform transition-all max-w-lg w-full"},[f("div",gE,[f("h3",mE,ct(l.value.id?"編輯測驗集":"建立新測驗集"),1),f("div",vE,[f("div",null,[E[13]||(E[13]=f("label",{class:"block text-sm font-medium text-slate-700"},"測驗集標題",-1)),Bt(f("input",{type:"text","onUpdate:modelValue":E[2]||(E[2]=_=>l.value.title=_),required:"",class:"mt-1 form-input"},null,512),[[Ft,l.value.title]])]),f("div",null,[E[15]||(E[15]=f("label",{class:"block text-sm font-medium text-slate-700"},"關聯科目 (選填)",-1)),Bt(f("select",{"onUpdate:modelValue":E[3]||(E[3]=_=>l.value.subject_id=_),class:"mt-1 form-input"},[E[14]||(E[14]=f("option",{value:null},"-- 無 --",-1)),(K(!0),G(Wt,null,te(i.value,_=>(K(),G("option",{key:_.id,value:_.id},ct(_.name),9,_E))),128))],512),[[ai,l.value.subject_id]])])])]),f("div",yE,[f("button",{type:"button",onClick:E[4]||(E[4]=_=>o.value=!1),class:"btn btn-secondary"},"取消"),E[16]||(E[16]=f("button",{type:"submit",class:"btn btn-primary"},"儲存",-1))])],32)])])):Tt("",!0),u.value&&c.value?(K(),G("div",bE,[f("div",xE,[f("div",{class:"fixed inset-0 bg-gray-800 bg-opacity-80",onClick:R}),f("div",wE,[f("div",kE,[f("h3",CE,"管理題目: "+ct(c.value.title),1),f("button",{onClick:R,class:"text-3xl text-gray-500 hover:text-gray-800"},"×")]),f("div",SE,[f("div",EE,[f("input",{type:"file",ref_key:"quizFileInput",ref:b,onChange:B,class:"hidden",accept:".xlsx, .xls, .csv"},null,544),f("button",{onClick:D,class:"btn bg-emerald-500 hover:bg-emerald-600"},"匯入題庫"),f("button",{onClick:E[5]||(E[5]=_=>A(null)),class:"btn btn-primary"},"新增題目")]),d.value.length===0?(K(),G("div",AE,[...E[17]||(E[17]=[f("p",null,"這個測驗集還沒有題目喔！",-1)])])):(K(),G("div",TE,[(K(!0),G(Wt,null,te(d.value,(_,at)=>(K(),G("div",{key:_.id,class:"border rounded-lg p-4 bg-slate-50"},[f("div",RE,[f("div",null,[f("p",OE,[ve(ct(at+1)+". ",1),f("span",{innerHTML:_.question_text||"無題目文字"},null,8,IE)]),f("div",$E,[(K(!0),G(Wt,null,te(_.options,(Ct,ut)=>(K(),G("div",{key:ut,class:me(["flex items-center",{"font-bold text-green-600":Ct.isCorrect}])},[ve(ct(Ct.text)+" ",1),Ct.isCorrect?(K(),G("svg",PE,[...E[18]||(E[18]=[f("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):Tt("",!0)],2))),128))])]),f("div",LE,[f("button",{onClick:Ct=>A(_),class:"btn bg-yellow-500 hover:bg-yellow-600 text-sm"},"編輯",8,ME),f("button",{onClick:Ct=>z(_.id),class:"btn btn-danger text-sm"},"刪除",8,DE)])])]))),128))]))])])])])):Tt("",!0),y.value?(K(),G("div",BE,[f("div",zE,[f("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:E[6]||(E[6]=_=>y.value=!1)}),f("form",{onSubmit:We(F,["prevent"]),class:"bg-white rounded-lg shadow-xl transform transition-all max-w-2xl w-full"},[f("div",NE,[f("h3",UE,ct(g.value.id?"編輯題目":"新增題目"),1),f("div",FE,[f("div",null,[E[19]||(E[19]=f("label",{class:"block text-sm font-medium text-slate-700"},"題目內容 (可留空)",-1)),f("div",{ref_key:"questionEditor",ref:m,contenteditable:"true",innerHTML:g.value.question_text,class:"mt-1 w-full min-h-[100px] p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-400"},null,8,jE)]),f("div",null,[E[21]||(E[21]=f("label",{class:"block text-sm font-medium text-slate-700"},"選項 (至少2個，最多4個)",-1)),(K(!0),G(Wt,null,te(g.value.options,(_,at)=>(K(),G("div",{key:at,class:"flex items-center mt-2 gap-2"},[Bt(f("input",{type:"text","onUpdate:modelValue":Ct=>_.text=Ct,class:"form-input flex-grow",required:""},null,8,WE),[[Ft,_.text]]),f("label",qE,[f("input",{type:"radio",name:"correct-option-"+g.value.id,value:at,onChange:Ct=>rt(at),checked:_.isCorrect},null,40,HE),E[20]||(E[20]=ve(" 正確 ",-1))]),g.value.options.length>2?(K(),G("button",{key:0,type:"button",onClick:Ct=>U(at),class:"text-red-500"},"×",8,VE)):Tt("",!0)]))),128)),g.value.options.length<4?(K(),G("button",{key:0,type:"button",onClick:M,class:"text-sm text-sky-600 mt-2"},"新增選項")):Tt("",!0)]),f("div",null,[E[22]||(E[22]=f("label",{class:"block text-sm font-medium text-slate-700"},"作答時間 (秒)",-1)),Bt(f("input",{type:"number","onUpdate:modelValue":E[7]||(E[7]=_=>g.value.time_limit=_),class:"mt-1 form-input w-24"},null,512),[[Ft,g.value.time_limit,void 0,{number:!0}]])])])]),f("div",KE,[f("button",{type:"button",onClick:E[8]||(E[8]=_=>y.value=!1),class:"btn btn-secondary"},"取消"),E[23]||(E[23]=f("button",{type:"submit",class:"btn btn-primary"},"儲存題目",-1))])],32)])])):Tt("",!0)])}}},ZE={class:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 font-sans"},YE={key:0,class:"text-center"},JE={class:"my-8 flex flex-col md:flex-row items-center justify-center gap-8"},QE={class:"p-4 bg-white rounded-lg"},XE=["src"],tA={class:"text-8xl font-bold tracking-widest"},eA=["disabled"],nA={class:"mt-8"},rA={class:"flex flex-wrap justify-center gap-3 mt-4 max-w-4xl"},sA={key:1,class:"w-full max-w-6xl mx-auto flex flex-col h-full"},iA={class:"flex justify-between items-center bg-gray-800 p-4 rounded-t-lg"},oA={class:"text-2xl font-bold"},aA={class:"text-5xl font-bold text-yellow-300"},lA={class:"text-2xl font-bold"},uA={class:"flex-grow bg-white text-gray-900 flex flex-col items-center justify-center p-8 text-center"},cA=["innerHTML"],fA={class:"grid grid-cols-2 gap-4 p-4 bg-gray-800 rounded-b-lg"},dA={class:"text-4xl mr-4"},hA={key:2,class:"w-full max-w-4xl mx-auto text-center"},pA={class:"space-y-4"},gA={class:"flex items-center"},mA={class:"font-bold w-12"},vA={class:"font-bold text-yellow-300"},_A={key:3,class:"w-full max-w-4xl mx-auto text-center"},yA={class:"space-y-4"},bA={class:"flex items-center"},xA={class:"font-bold text-4xl w-16"},wA={class:"font-bold"},kA={__name:"QuizGameTeacher",props:{setId:{type:String,required:!0}},setup(t){const n=t,r=mi(),i=pt(null),o=pt(""),l=pt("lobby"),u=pt([]),c=pt(null),d=pt(0),y=pt(0),g=pt(0),m=pt(null),b=pt(0),v=pt([]),O=["bg-red-500","bg-blue-500","bg-yellow-400","bg-green-500"],w=le(()=>`https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=${window.location.origin}/quiz/play?room=${o.value}`),$=le(()=>d.value>=y.value-1),S=U=>U===0?"bg-yellow-400 text-gray-900":U===1?"bg-gray-300 text-gray-900":U===2?"bg-yellow-700 text-white":"bg-gray-800",R=()=>{i.value.emit("teacher:startQuizRace",{roomCode:o.value})},A=()=>{i.value.emit("teacher:nextQuestion",{roomCode:o.value})},M=()=>{r.push({name:"quiz-manager"})};return Ye(()=>{i.value=Hr("http://localhost:3000"),i.value.on("connect",()=>{i.value.emit("teacher:createQuizRace",{quizSetId:n.setId},U=>{U.roomCode?o.value=U.roomCode:(alert(U.error||"無法建立遊戲室"),r.back())})}),i.value.on("player:joined",U=>{u.value=U}),i.value.on("player:left",U=>{u.value=U}),i.value.on("game:started",()=>{l.value="question_open"}),i.value.on("question:new",U=>{c.value=U.question,d.value=U.questionIndex,y.value=U.totalQuestions,g.value=U.question.time_limit,b.value=0,l.value="question_open",clearInterval(m.value),m.value=setInterval(()=>{g.value>0?g.value--:clearInterval(m.value)},1e3)}),i.value.on("player:answered",()=>{b.value++}),i.value.on("game:leaderboard",U=>{l.value="leaderboard",v.value=U.leaderboard,clearInterval(m.value)}),i.value.on("game:ended",U=>{l.value="finished",v.value=U})}),Kr(()=>{i.value&&i.value.disconnect(),clearInterval(m.value)}),(U,rt)=>(K(),G("div",ZE,[l.value==="lobby"?(K(),G("div",YE,[rt[2]||(rt[2]=f("h1",{class:"text-3xl font-bold text-yellow-300"},"遊戲大廳",-1)),rt[3]||(rt[3]=f("p",{class:"text-gray-300 text-lg mt-2"},"請學生掃描 QR Code 或輸入房間代碼加入",-1)),f("div",JE,[f("div",QE,[f("img",{src:w.value,alt:"QR Code",class:"w-48 h-48 md:w-64 md:h-64"},null,8,XE)]),f("div",null,[rt[0]||(rt[0]=f("p",{class:"text-2xl text-gray-400"},"房間代碼",-1)),f("p",tA,ct(o.value),1)])]),f("button",{onClick:R,class:"btn bg-green-500 hover:bg-green-600 text-2xl px-12 py-4 rounded-full",disabled:u.value.length===0},ct(u.value.length===0?"等待玩家加入...":`開始遊戲 (${u.value.length})`),9,eA),f("div",nA,[rt[1]||(rt[1]=f("h2",{class:"text-xl font-semibold"},"已加入的玩家:",-1)),f("div",rA,[(K(!0),G(Wt,null,te(u.value,F=>(K(),G("span",{key:F.id,class:"bg-gray-700 text-white px-4 py-2 rounded-full text-lg"},ct(F.name),1))),128))])])])):Tt("",!0),l.value==="question_open"&&c.value?(K(),G("div",sA,[f("div",iA,[f("div",oA,"第 "+ct(d.value+1)+" / "+ct(y.value)+" 題",1),f("div",aA,ct(g.value),1),f("div",lA,ct(b.value)+" / "+ct(u.value.length)+" 人已作答",1)]),f("div",uA,[c.value.question_text?(K(),G("div",{key:0,innerHTML:c.value.question_text,class:"text-4xl font-bold"},null,8,cA)):Tt("",!0)]),f("div",fA,[(K(!0),G(Wt,null,te(c.value.options,(F,z)=>(K(),G("div",{key:z,class:me(["p-6 rounded-lg text-2xl font-bold flex items-center",O[z]])},[f("div",dA,ct(["A","B","C","D"][z]),1),f("div",null,ct(F.text),1)],2))),128))])])):Tt("",!0),l.value==="leaderboard"?(K(),G("div",hA,[rt[4]||(rt[4]=f("h1",{class:"text-5xl font-bold text-yellow-300 mb-8"},"排行榜",-1)),f("div",pA,[(K(!0),G(Wt,null,te(v.value,(F,z)=>(K(),G("div",{key:F.id,class:"bg-gray-800 p-4 rounded-lg flex items-center justify-between text-2xl"},[f("div",gA,[f("span",mA,ct(z+1)+".",1),f("span",null,ct(F.name),1)]),f("span",vA,ct(F.score)+" 分",1)]))),128))]),f("button",{onClick:A,class:"btn btn-primary text-2xl px-12 py-4 rounded-full mt-10"},ct($.value?"查看最終結果":"下一題"),1)])):Tt("",!0),l.value==="finished"?(K(),G("div",_A,[rt[5]||(rt[5]=f("h1",{class:"text-6xl font-bold text-yellow-300 mb-8"},"遊戲結束！",-1)),f("div",yA,[(K(!0),G(Wt,null,te(v.value.slice(0,3),(F,z)=>(K(),G("div",{key:F.id,class:me(["p-6 rounded-lg flex items-center justify-between text-3xl",S(z)])},[f("div",bA,[f("span",xA,ct(z+1),1),f("span",null,ct(F.name),1)]),f("span",wA,ct(F.score)+" 分",1)],2))),128))]),f("button",{onClick:M,class:"btn btn-secondary text-2xl px-12 py-4 rounded-full mt-12"},"返回題庫管理")])):Tt("",!0)]))}},CA={class:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 font-sans"},SA={key:0,class:"w-full max-w-md"},EA={class:"card bg-gray-800 p-8"},AA={key:0,class:"text-red-400 text-sm text-center pt-2"},TA={key:1,class:"text-center"},RA={key:2,class:"w-full max-w-6xl mx-auto flex flex-col h-screen p-4"},OA={class:"flex justify-between items-center text-2xl font-bold mb-4"},IA=["innerHTML"],$A={class:"grid grid-cols-2 gap-4"},PA=["onClick"],LA={key:3,class:"text-center"},MA={key:0,class:"text-green-400"},DA={class:"text-3xl mt-4"},BA={key:1,class:"text-red-400"},zA={class:"text-2xl text-gray-300 mt-8"},NA={__name:"QuizGameStudent",setup(t){const n=lu(),r=mi(),i=pt(null),o=Fe({roomCode:"",name:""}),l=Fe({joined:!1,playerId:null}),u=pt(""),c=pt("lobby"),d=pt(null),y=pt(0),g=pt(0),m=pt(0),b=pt(null),v=pt(null),O=pt(0),w=["bg-red-500","bg-blue-500","bg-yellow-400","bg-green-500"],$=()=>{if(!o.roomCode||!o.name){u.value="房間代碼和姓名為必填項。";return}u.value="",i.value.emit("student:joinQuizRace",{roomCode:o.roomCode.toUpperCase(),name:o.name},R=>{R.success?(l.joined=!0,l.playerId=R.playerId):u.value=R.message})},S=R=>{clearInterval(b.value),i.value.emit("student:submitQuizAnswer",{roomCode:o.roomCode.toUpperCase(),optionIndex:R,timeRemaining:m.value}),v.value={isCorrect:null,points:0}};return Ye(()=>{o.roomCode=n.query.room||"";const R=localStorage.getItem("studentInfo");R&&(o.name=JSON.parse(R).name),i.value=Hr("http://localhost:3000"),i.value.on("connect",()=>console.log("成功連接到 Socket.IO 伺服器")),i.value.on("game:started",()=>{c.value="question_open"}),i.value.on("question:new",A=>{d.value=A.question,y.value=A.questionIndex,g.value=A.totalQuestions,m.value=A.question.time_limit,c.value="question_open",v.value=null,clearInterval(b.value),b.value=setInterval(()=>{m.value>0?m.value--:(clearInterval(b.value),v.value||(v.value={isCorrect:!1,points:0}))},1e3)}),i.value.on("game:leaderboard",A=>{c.value="leaderboard";const M=A.leaderboard.find(rt=>rt.id===l.playerId);M&&(O.value=M.score);const U=i.value.id in room.currentAnswers?room.currentAnswers[i.value.id].optionIndex:-1;if(U!==-1){const rt=U===A.correctOptionIndex;v.value={isCorrect:rt,points:rt?room.currentAnswers[i.value.id].points:0}}else v.value={isCorrect:!1,points:0}}),i.value.on("game:ended",()=>{alert("遊戲結束了！"),r.push({name:"auth"})})}),Kr(()=>{i.value&&i.value.disconnect(),clearInterval(b.value)}),(R,A)=>(K(),G("div",CA,[l.joined?Tt("",!0):(K(),G("div",SA,[f("div",EA,[A[5]||(A[5]=f("h1",{class:"text-3xl font-bold text-center text-yellow-300 mb-2"},"加入搶答競賽",-1)),A[6]||(A[6]=f("p",{class:"text-center text-gray-400 mb-8"},"請輸入老師提供的房間代碼",-1)),f("form",{onSubmit:We($,["prevent"]),class:"space-y-6"},[f("div",null,[A[2]||(A[2]=f("label",{for:"roomCode",class:"block text-lg font-bold text-gray-300 mb-1"},"房間代碼",-1)),Bt(f("input",{"onUpdate:modelValue":A[0]||(A[0]=M=>o.roomCode=M),type:"text",id:"roomCode",placeholder:"6 位數字",class:"form-input bg-gray-900 text-white border-gray-600 text-4xl tracking-widest text-center uppercase py-3"},null,512),[[Ft,o.roomCode,void 0,{trim:!0}]])]),f("div",null,[A[3]||(A[3]=f("label",{for:"studentName",class:"block text-lg font-bold text-gray-300 mb-1"},"你的名字",-1)),Bt(f("input",{"onUpdate:modelValue":A[1]||(A[1]=M=>o.name=M),type:"text",id:"studentName",placeholder:"請輸入姓名或座號",class:"form-input bg-gray-900 text-white border-gray-600 text-2xl py-3"},null,512),[[Ft,o.name,void 0,{trim:!0}]])]),u.value?(K(),G("p",AA,ct(u.value),1)):Tt("",!0),A[4]||(A[4]=f("button",{type:"submit",class:"w-full btn bg-green-500 hover:bg-green-600 py-4 text-2xl font-bold"}," 加入遊戲 ",-1))],32)])])),l.joined&&c.value==="lobby"?(K(),G("div",TA,[...A[7]||(A[7]=[qr('<h2 class="text-4xl font-bold text-white">已成功加入！</h2><p class="text-gray-400 mt-2 text-xl">請等待老師開始遊戲...</p><div class="mt-12"><svg class="animate-spin h-16 w-16 text-yellow-300 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>',3)])])):Tt("",!0),c.value==="question_open"&&d.value&&!v.value?(K(),G("div",RA,[f("div",OA,[f("span",null,"第 "+ct(y.value+1)+" / "+ct(g.value)+" 題",1),f("span",null,ct(m.value),1)]),f("div",{class:"flex-grow bg-white text-gray-900 flex items-center justify-center p-8 text-center rounded-lg text-4xl font-bold mb-4",innerHTML:d.value.question_text||""},null,8,IA),f("div",$A,[(K(!0),G(Wt,null,te(d.value.options,(M,U)=>(K(),G("button",{key:U,onClick:rt=>S(U),class:me(["p-8 rounded-lg text-3xl font-bold flex items-center justify-center h-40",w[U]])},ct(M.text),11,PA))),128))])])):Tt("",!0),v.value?(K(),G("div",LA,[v.value.isCorrect?(K(),G("div",MA,[A[8]||(A[8]=f("h1",{class:"text-6xl font-bold"},"正確！",-1)),f("p",DA,"+"+ct(v.value.points)+" 分",1)])):(K(),G("div",BA,[...A[9]||(A[9]=[f("h1",{class:"text-6xl font-bold"},"答錯了",-1)])])),f("p",zA,"目前總分: "+ct(O.value),1),A[10]||(A[10]=f("p",{class:"text-xl text-gray-400 mt-4"},"等待其他玩家...",-1))])):Tt("",!0)]))}},yp=k2({history:Qw("/"),routes:[{path:"/auth",name:"auth",component:qC,meta:{layout:"clean"}},{path:"/",name:"home",component:F2,meta:{requiresAuth:!0,layout:"default"}},{path:"/students",name:"student-management",component:Sk,meta:{requiresAuth:!0,layout:"default"}},{path:"/seating-chart",name:"seating-chart",component:Jk,meta:{requiresAuth:!0,layout:"default"}},{path:"/dashboard",name:"classroom-dashboard",component:p3,meta:{requiresAuth:!0,layout:"default"}},{path:"/assignments",name:"assignments",component:r5,meta:{requiresAuth:!0,layout:"default"}},{path:"/grades",name:"grade-management",component:J5,meta:{requiresAuth:!0,layout:"default"}},{path:"/pingpong-teacher",name:"pingpong-teacher",component:D6,meta:{requiresAuth:!0,layout:"default"}},{path:"/quiz",name:"quiz-manager",component:GE,meta:{requiresAuth:!0,layout:"default"}},{path:"/quiz/host/:setId",name:"quiz-game-teacher",component:kA,props:!0,meta:{requiresAuth:!0,layout:"clean"}},{path:"/student/dashboard",name:"student-dashboard",component:IC,meta:{requiresStudentAuth:!0,layout:"clean"}},{path:"/pingpong-student",name:"pingpong-student",component:X6,meta:{layout:"clean"}},{path:"/quiz/play",name:"quiz-game-student",component:NA,meta:{layout:"clean"}}]});yp.beforeEach((t,n,r)=>{const i=!!localStorage.getItem("teacherToken"),o=!!localStorage.getItem("studentToken");t.meta.requiresAuth&&!i?r({name:"auth"}):t.meta.requiresStudentAuth&&!o?r({name:"auth"}):t.name==="auth"&&(i||o)?r(i?{name:"home"}:{name:"student-dashboard"}):r()});const bp=yw(P2);bp.use(yp);bp.mount("#app");
